Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #SalesTable
  PROPERTIES
    Name                #SalesTable
    FormTemplate        #DetailsPage
    InteractionClass    #SalesTableInteraction
    Origin              #{0B0A0000-0000-1000-B787-EA7473546162}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #class       FormRun
      #extends     ObjectRun
      #{
      #    boolean                         isCalledFromLP;
      #    SalesTableForm                  salesTableForm;
      #    SalesTableType                  salesTableType;
      #    SalesId                         newSalesId;
      #
      #    boolean                         isReturnFieldsEnabled;
      #    boolean                         isDocuActionTemplate;
      #    //<GTH>
      #    boolean                         isSalesTableExtensionTHEnabled;
      #    //</GTH>
      #    boolean                         isSalesTableWEnabled;
      #    boolean                         isRetailOrder;
      #    boolean                         retailOrderNeedRecalculation;
      #
      #
      #    // Used for validateWrite and write to update tax groups on misc. charges and header2lines updates
      #    DialogButton                    copyTaxGroupToMarkupTrans;
      #    SalesTable2LineUpdatePrompt     salesTable2LineUpdatePrompt;
      #
      #    QueryBuildRange                 queryBuildRangeProjId;
      #    QueryBuildRange                 queryBuildRangeSalesId;
      #
      #    InventDimCtrl_Frm_Mov           inventDimFormSetup;
      #
      #    SalesId                         oldSalesId;
      #
      #    boolean                         headerError;
      #    boolean                         askingModifyInvoiced;
      #
      #    QuotationId                     lastQuotation;
      #    TransDate                       lastQuotationDate;
      #    ConfirmId                       lastConfirm;
      #    TransDate                       lastConfirmDate;
      #    PickingListId                   lastPickingList;
      #    TransDate                       lastPickingListDate;
      #    PackingSlipId                   lastPackingSlip;
      #    TransDate                       lastPackingSlipDate;
      #    InvoiceId                       lastInvoice;
      #    TransDate                       lastInvoiceDate;
      #    //PBA begin
      #    boolean                         autoConfig;
      #    boolean                         deleting;
      #    // PBA end
      #
      #    Object                          tmpSalesTableTaxTransForm;
      #    // <GIN>
      #    Object                          tmpSalesTableTaxWithholdTransForm;
      #    boolean                         isIndiaIndirectTaxParameterMarked;
      #    boolean                         isIndiaWHTMarked;
      #    TaxExciseTypeController_IN      taxExciseTypeController;
      #    boolean                         isSalesLine_INEnabled;
      #    boolean                         isIN;
      #    // </GIN>
      #
      #    RecId                           interCompanyIsPriceDiscSearchNeeded;
      #
      #    boolean                         cashDiscOnInvoice;
      #
      #    Addressing                      oldThirdPartyBillingAddr;
      #
      #    LedgerDimensionDefaultAccountController     ledgerDefaultAccountController;
      #
      #    boolean                         keepName; // When set to false Name is defaulted from category description.
      #    LogisticsLocationRecId          postalAddressLocation;
      #
      #    BankLCExportFeatureChecker      bankLCExportFeatureChecker;
      #    BankLGFeatureChecker            bankLGFeatureChecker;
      #    boolean                         enableLCFeature;
      #    boolean                         enableLGFeature;
      #
      #    DimensionDefaultingController   dimensionDefaultingControllerTable;
      #    DimensionDefaultingController   dimensionDefaultingControllerLine;
      #
      #    ImageListAppl                   imageList;
      #    InventItemBarcode               itemBarcode;
      #    // <GEERU>
      #    boolean                         isRU;
      #    Map                             itemInventDimSetupCache;
      #    #ISOCountryRegionCodes
      #    // </GEERU>
      #    // <GCN>
      #    boolean                         taxIntegrationSystem_CN;
      #    // </GCN>
      #
      #    DueDate                         priorDueDate;
      #
      #    // <GBR>
      #    SalesPurchOperationTypeController_BR salesPurchOperationTypeController_BR;
      #    // </GBR>
      #    // <GEEU>
      #    boolean                         countryRegion_EEU;
      #    // </GEEU>
      #
      #    //<GTH>
      #    boolean                         isUnrealizedVATEnabled;
      #    //</GTH>
      #    // <GEEPL>
      #    boolean                         countryRegion_PL;
      #    // </GEEPL>
      #
      #    boolean                         skipLinkActive;
      #    boolean                         linkActiveHeaderExecuted;
      #    // Variables used to communicate between CustomerService and SalesTable
      #    MCRCustomerServiceParam         mcrCustomerServiceParm;
      #    SalesCreateOrderForm            salesCreateOrderForm;
      #    // Source Code
      #    MCRSourceID                     mcrLastSourceId;
      #    // Price override needs to save values off depending on whether it is
      #    // a price override, or the user is turning off an override. These values will be
      #    // used to write an order event.
      #    MCROrderEventType               mcrLinePriceOverrideEventType;
      #    RetailInformationSubcodeId      mcrLinePriceOverrideReasonCode;
      #    UserId                          mcrLinePriceOverrideUserId;
      #    // Similar to line price override values above, but for header override.
      #    MCROrderEventType               mcrHeaderPriceOverrideEventType;
      #    RetailInformationSubcodeId      mcrHeaderPriceOverrideReasonCode;
      #    UserId                          mcrHeaderPriceOverrideUserId;
      #    SalesEndDiscPct                 mcrHeaderPriceOverrideDiscPct;
      #    // track open orders that have been modified
      #    SalesTable                      openOrderSalesTable;
      #    // The source code script is comprised of strings coming from code
      #    // launched from multiple locations.  This variable stores the concatination
      #    // of these strings.
      #    str                             sourceCodeScripts;
      #    boolean                         enterOrderFromNewCust;
      #    // Determine which shipto tab to make active when switching records
      #    boolean                         shipToTabActive;
      #    boolean                         advanced;
      #    // map to store the available quantity.
      #    Map                             availableQtyMap;
      #    // Used to signify form is called by Returns
      #    boolean                         returnProcessing;
      #    // Variables needed to have personalization execute correctly
      #    boolean                         executePersonalization;
      #    QueryBuildRange                 queryRange;
      #    QueryBuildRange                 queryQtyRange;
      #    QueryBuildRange                 queryOptionsRefRange;
      #    QueryBuildRange                 queryGroupRange;
      #    InventQty                       salesLineMaxQty;
      #    int64                           curQty;
      #    boolean                         inTextLine;
      #    boolean                         onInit;
      #    boolean                         fromQty;
      #    boolean                         fromLostControl;
      #    boolean                         itemChanged;
      #    Map                             map;
      #    FilePath                        filePath;
      #    boolean                         blockSalesLineDelete;
      #    boolean                         mcrProcessingDeliverySchedule;
      #    // Used to track when to update the MCRScriptText
      #    int                             mcrSkipScript;
      #    // Margin Alerts
      #    Map                             marginMap;
      #    // Script & image
      #    MCRLoadImageFile                mcrLoadImageFile;
      #    MCRNotes                        mcrScript;
      #    URL                             mcrImageUrl;
      #    MCRSalesTableConfigure          salesTableConfigure;
      #    MCROrderParameters              mcrOrderParameters;
      #    RetailMCRChannelTable           retailMCRChannelTable;
      #    NoYes                           enableDirectedSelling;
      #    NoYes                           enableOrderCompletion;
      #    NoYes                           enableOrderPriceControl;
      #    CustParameters                  custParameters;
      #    SalesParameters                 salesParameters;
      #    boolean                         mcrParmsSet;
      #    boolean                         mcrCallCenterEnabled;
      #    boolean                         mcrCallCenterOrder;
      #    SysExtensionSerializerFormRunHelper formRunHelper;
      #
      #    UnknownNoYes                    performIntercompanyValidationCache;
      #
      #    //TODO IS Review code
      #
      #    // BG - Filters -->
      #    QueryBuildRange         salesStatusCriteria;
      #    QueryBuildRange         salesDateCriteria;
      #
      #    FormComboBoxControl     comboSalesStatus;
      #
      #    SalesStatus             sStatus;
      #    TransDate               salesDate;
      #    int                     showAll;
      #    // <--
      #
      #    //Not upgraded methods
      #    /*
      #    enableFuelCode_BR
      #    enableExceptionCode_BR
      #    showWithholdTax_BR
      #    showLastDeliverySlipDate_BR
      #    showLastDeliverySlip_BR
      #    init_BR
      #    enableGroupsInvoiceReference_BR
      #    enableGroupsDeliveryFiscalInformation_BR
      #    enableDeliveryCFOP_BR
      #    enableCFPS_BR
      #    enableGroupTaxationCode_BR
      #    */
      #
      #}
    ENDSOURCE
    SOURCE #allowEditIssueOwnEntryCertificate_W
      #/// <summary>
      #///    This method allows or restricts editing of the <c>Issue own certificate</c> field
      #///    depending on the value of the <c>Entry certificate required</c> field.
      #/// </summary>
      #void allowEditIssueOwnEntryCertificate_W()
      #{
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).allowEdit(salesTable_W.EntryCertificateRequired_W);
      #}
    ENDSOURCE
    SOURCE #allowEditLedgerAccount_RU
      #boolean allowEditLedgerAccount_RU()
      #{
      #    boolean allowEdit;
      #
      #    if (itemInventDimSetupCache && salesLine.ItemId)
      #    {
      #        if (itemInventDimSetupCache.exists(salesLine.ItemId))
      #        {
      #            allowEdit = itemInventDimSetupCache.lookup(salesLine.ItemId);
      #        }
      #        else
      #        {
      #            allowEdit = ! EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(salesLine.ItemId,
      #                                                                                       fieldNum(InventDim, InventProfileId_RU));
      #            itemInventDimSetupCache.insert(salesLine.ItemId, allowEdit);
      #        }
      #    }
      #
      #    return allowEdit;
      #}
    ENDSOURCE
    SOURCE #applyBackOrderLinesSelection
      #/// <summary>
      #/// If form was called by BackOrderLines list page, applies additional ranges to the form data source to show only sales orders that were selected in a list page.
      #/// </summary>
      #/// <remarks>
      #/// If form called not from BackOrderLines list page no action is taken.
      #/// </remarks>
      #
      #private void applyBackOrderLinesSelection()
      #{
      #    Map             selectedSalesIds;
      #    MapEnumerator   en;
      #
      #    if (!this.isCalledFromSalesLineBackOrderListPage() || !element.args().record())
      #    {
      #        return;
      #    }
      #
      #    // Apply filter to show only Sales Orders selected in a list form.
      #    selectedSalesIds = SalesLineBackOrderListPageInteraction::getSalesIdsSelected(element.args().record().dataSource());
      #    if (selectedSalesIds)
      #    {
      #        // Dynalinks should be cleared before applying a ranges to prevent displaying only lines, selected in list page!
      #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
      #
      #        en = new MapEnumerator(selectedSalesIds);
      #        while (en.moveNext())
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,SalesId)).value(en.currentValue());
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #automaticTotalDiscount
      #public void automaticTotalDiscount()
      #{
      #    if (CustParameters::find().AutomaticTotalDiscount)
      #    {
      #        salesTable.updateFinalDisc();
      #        // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
      #        // save the value since it is lost by reread().
      #        if (salesTable.Touched)
      #        {
      #            // Reread the buffer since updateFinalDisc() can call update().
      #            salesTable_ds.reread();
      #            salesTable_ds.refresh();
      #            // This will trigger the creditlimit calculation when salesTable.validateWrite is called.
      #            salesTable_ds.setTouched();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean  ret;
      #
      #    if (!salesLine.PBAItemLine::checkMandatory() )
      #    {
      #        return false;
      #    }
      #
      #    ret = super();
      #    // The user needs to be able to modify an exchange order associated to a return and
      #    // go back to returns without completing the exchange order (this order).  The returns
      #    // logic will prevent the order from remaining open.  A return must always be completed
      #    // therefore, the exchange order will never be left open.
      #    ret = ret && element.mcrCheckOpenOrder();
      #
      #    if (element.closedCancel() && ret)
      #    {
      #        ret = salesTableForm.canClose(salesTable);
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #changeType
      #void  changeType()
      #{
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodSalesTypeModifiedPreChange(element, salesTable_ds, true);
      #    }
      #
      #    salesTableType = salesTable.type();
      #
      #    salesTableType.formMethodSalesTypeModifiedPostChange(element, salesTable_ds, true);
      #
      #    salesTableForm.enableAvailableDlvDatesButtons(salesTable,
      #                                                  salesAvailableDlvDatesHeader,
      #                                                  salesAvailableDlvDatesLine,
      #                                                  salesLine.LineDeliveryType);
      #    element.configBankDocumentControls();
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable_RU, AgreementHeaderExt_RU)).allowEdit(salesTableType.canAgreementBeLinked());
      #    }
      #    // </GEERU>
      #}
    ENDSOURCE
    SOURCE #checkCreditNoteLine
      #void  checkCreditNoteLine()
      #{
      #    // Additional check of returned item disables all these fields, if the -ve qty salesline is of type returned item.
      #    boolean creditNote =
      #    salesLine.SalesQty &&
      #    salesLine.creditNoteLine(
      #    salesTable
      #    )
      #    && !salesTable.returnItem();
      #
      #    boolean editCostPrice   = !salesLine.InventTransIdReturn || !InventTable::find(salesLine.ItemId).modelGroup().inventModelType().stdCostBased();
      #
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).allowEdit(creditNote && salesLine.deliveredInTotal() == 0);
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(creditNote);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).allowEdit((creditNote && editCostPrice));
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).skip(!(creditNote && editCostPrice));
      #
      #    if (salesLine.Scrap && salesLine.SalesQty >= 0)
      #    {
      #        salesLine.Scrap = NoYes::No;
      #    }
      #    // <GIN>
      #    if(isIndiaIndirectTaxParameterMarked && !salesTable.returnItem())
      #    {
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(creditNote);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #    // </GIN>
      #}
    ENDSOURCE
    SOURCE #close
      #void  close()
      #{
      #    xSysLastValue::saveLast(salesTableForm);
      #
      #    // Current price references may need to be deleted.
      #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
      #
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #configBankDocumentControls
      #/// <summary>
      #///     Configs the BankDocument Controls.
      #/// </summary>
      #public void configBankDocumentControls()
      #{
      #    boolean enableDocumentType = false;
      #
      #    if (enableLCFeature
      #        || enableLGFeature)
      #    {
      #        enableDocumentType = salesTable.type().mayBankDocumentTypeBeModified();
      #        element.configPaymentGroupControls();
      #        salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).allowEdit(enableDocumentType);
      #    }
      #}
    ENDSOURCE
    SOURCE #configPaymentGroupControls
      #/// <summary>
      #/// Configs the payment group controls.
      #/// </summary>
      #private void configPaymentGroupControls()
      #{
      #    boolean flag;
      #
      #    flag = !salesTable.isMarkedForBankLC();
      #
      #    salesTable_DS.object(fieldNum(SalesTable, Payment)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, FixedDueDate)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymMode)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymSpec)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymentSched)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, CashDisc)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, SettleVoucher)).enabled(flag);
      #
      #    payment_M_editCreditCard.enabled(flag);
      #}
    ENDSOURCE
    SOURCE #createAgreementLink
      #public void createAgreementLink()
      #{
      #    AgreementLine                           localAgreementLine;
      #    Args                                    args;
      #    FormRun                                 formRun;
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine;
      #
      #    args = new Args(formStr(AgreementLinePrompt));
      #    args.caller(element);
      #    args.record(salesLine);
      #    args.parm(int642str(salesTable.MatchingAgreement));
      #    formRun = classfactory.formRunClass(args);
      #    formRun.init();
      #    formRun.run();
      #    formRun.wait(true);
      #    localAgreementLine = args.record() as AgreementLine;
      #
      #    if (localAgreementLine)
      #    {
      #        // Make the snapshot of the salesLine before it gets associated with agreement
      #        origSalesLine = salesLine.data().orig();
      #
      #        ttsbegin;
      #
      #        SalesTableForm::createAgreementLinkServer(salesLine, localAgreementLine);
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, false))
      #            {
      #                // Need to refresh delivery lines on grid.
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #
      #        ttscommit;
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        //Re-evaluate agreement line actions
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #docCursor
      #public Common docCursor()
      #{
      #    Common docCursor;
      #
      #    docCursor = super();
      #
      #    if (docCursor.TableId == tableNum(InventDim))
      #    {
      #        docCursor = salesLine;
      #    }
      #
      #    return docCursor;
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #void doRefresh(boolean _lineRefreshNeeded = false)
      #{
      #    salesTable_ds.reread();
      #    salesTable_ds.refresh();
      #
      #    mcrSalesTable_ds.reread();
      #    mcrSalesTable_ds.refresh();
      #
      #    mcrSalesTableShipping_ds.reread();
      #    mcrSalesTableShipping_ds.refresh();
      #
      #    // update header controls
      #    element.mcrSetHeaderControls();
      #    if (_lineRefreshNeeded)
      #    {
      #        salesLine_ds.reread();
      #        salesLine_ds.refresh();
      #    }
      #    else
      #    {
      #        // With addition of executeQuery (see below) base call to research is not needed
      #        // salesLine_ds.reread() fails if a new, unsaved, line exists.
      #        // Changed to perform a new query, which will retrieve all saved lines.
      #        // The new query will cause line controls to be updated.
      #        salesLine_ds.executeQuery();
      #    }
      #}
    ENDSOURCE
    SOURCE #editSales
      #public void editSales(boolean _allowEdit, boolean _allowDelete = _allowEdit)
      #{
      #
      #
      #    salesTable_ds.allowEdit    (_allowEdit);
      #    salesTable_ds.allowDelete  (_allowEdit && _allowDelete);
      #
      #    // allow user to delete the exchange
      #    if( mcrReturnSalesTable.IsExchange
      #        && mcrCallCenterEnabled)
      #    {
      #        salesTable_ds.allowDelete  (true);
      #    }
      #    salesLine_ds.allowEdit     (_allowEdit);
      #    salesLine_ds.allowCreate   (_allowEdit);
      #    salesLine_ds.allowDelete   (_allowEdit && _allowDelete);
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesTable_BR_DS.enableDataSourceFields_BR();
      #        buttonLineQuickQuote.enabled(_allowEdit);
      #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
      #        {
      #            retailAddItemMenuItem.enabled(_allowEdit);
      #        }
      #    }
      #    // </GBR>
      #    element.mcrSetLineControls();
      #}
    ENDSOURCE
    SOURCE #enableEximInquiry_IN
      #// <GIN>
      #public void enableEximInquiry_IN()
      #{
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::AA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #                                                              || salesLine.SalesQty < 0)
      #    {
      #        eximAA_IN.enabled(false);
      #    }
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::DFIA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #        || salesLine.SalesQty < 0)
      #    {
      #        eximDFIA_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableFields_HV
      #//TODO IS Review code
      #void enableFields_HV()
      #{
      #    salesLine_ds.allowCreate(false);
      #    salesLine_ds.allowDelete(false);
      #
      #    salesLine_ds.object(fieldnum(SalesLine, ItemId)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, SalesQty)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, QtyOrdered)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, QtyKGA_HV)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, SalesPrice)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, SalesPriceKGA_HV)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, LinePercent)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, LineDisc)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, LineAmount)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, OfferingType_HV)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, SalesUnit)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, TaxGroup)).allowEdit(false);
      #    salesLine_ds.object(fieldnum(SalesLine, TaxItemGroup)).allowEdit(false);
      #
      #    inventDim_ds.object(fieldnum(InventDim, InventLocationId)).allowEdit(false);
      #    inventDim_ds.object(fieldnum(InventDim, InventBatchId)).allowEdit(false);
      #}
      #
    ENDSOURCE
    SOURCE #enableFieldsActive_IN
      #// <GIN>
      #public void enableFieldsActive_IN()
      #{
      #
      #    customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes    && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_MaximumRetailPrice_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::No);
      #
      #    element.setEximFieldsAccess_IN();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableForeignTrade_RU
      #public void enableForeignTrade_RU()
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, InvoiceGTDId_RU)).enabled(
      #        salesLine_ds.object(fieldNum(SalesLine, CountryRegionName_RU)).enabled(! salesLine.isStocked())
      #    );
      #}
    ENDSOURCE
    SOURCE #enableHeaderCreditCardMenuItems
      #/// <summary>
      #/// Sets the status of header level credit card menu items.
      #/// </summary>
      #public void enableHeaderCreditCardMenuItems()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #
      #    creditCardPreauthorize.enabled(salesTableInteractionHelper.parmCanCreditCardPreAuthorizeEnabled());
      #    creditCardWizard.enabled(salesTableInteractionHelper.parmCreditCardWizardEnabled());
      #}
    ENDSOURCE
    SOURCE #enableInventExtPurchButton
      #public void enableInventExtPurchButton()
      #{
      #    PlInventExternalForProcessing   inventExternalForProcessing;
      #
      #    select firstonly RecId from inventExternalForProcessing
      #        where salesLine.RecId   == inventExternalForProcessing.SalesLineRecRecId;
      #
      #    plPurchCreateForExternal.enabled(inventExternalForProcessing.RecId);
      #}
      #
    ENDSOURCE
    SOURCE #enableLineAgreementActions
      #/// <summary>
      #/// Sets the status of header credit card menu items.
      #/// </summary>
      #/// <remarks>
      #///    Invoked whenever a link to an agreement is created or removed for the order line line.
      #/// </remarks>
      #public void enableLineAgreementActions()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #    salesTableInteractionHelper.setSalesTableForm(salesTableForm);
      #
      #    salesAgreementLine.enabled(salesTableInteractionHelper.parmAgreementLineEnabled());
      #    createLink.enabled(salesTableInteractionHelper.parmAgreementCreateLinkEnabled());
      #    removeLink.enabled(salesTableInteractionHelper.parmAgreementRemoveLinkEnabled());
      #}
    ENDSOURCE
    SOURCE #enableLinePBAActions
      #/// <summary>
      #/// Sets the status of line level PBA menu items.
      #/// </summary>
      #[SysObsoleteAttribute('Enabling and disabling of these buttons are handled in the salesTableInteraction class.', true)]
      #public void enableLinePBAActions()
      #{
      #}
    ENDSOURCE
    SOURCE #enableTMSFields
      #/// <summary>
      #/// Disables fields that should not be edited once Route Plan has been selected.
      #/// </summary>
      #public void enableTMSFields()
      #{
      #    TMSTransportationTemplateId transTempId;
      #    TMSCarrierCode              carrierCode;
      #    TMSCarrierGroupCode         carrierGroupCode;
      #    TMSModeCode                 modeCode;
      #    TMSRouteConfigCode          routeConfigCode;
      #    boolean                     modeCodeDisabled;
      #
      #    transTempId         = tmsSalesTable.TransportationTemplateId;
      #    carrierCode         = tmsSalesTable.CarrierCode;
      #    carrierGroupCode    = tmsSalesTable.CarrierGroupCode;
      #    modeCode            = tmsSalesTable.ModeCode;
      #    modeCodeDisabled    = tmsSalesTable.ModeCode != '' && tmsSalesTable.CarrierCode == '';
      #    routeConfigCode     = tmsSalesTable.RouteConfigCode;
      #
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, ModeCode)).allowEdit(!(carrierCode || transTempId || carrierGroupCode || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierCode)).allowEdit(!(transTempId ||carrierGroupCode || modeCodeDisabled || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierServiceCode)).allowEdit(!(transTempId || carrierGroupCode || modeCodeDisabled || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierGroupCode)).allowEdit(!(transTempId || carrierCode || routeConfigCode || modeCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, RouteConfigCode)).allowEdit(!(carrierCode || transTempId || modeCode || carrierGroupCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, TransportationTemplateId)).allowEdit(!(carrierCode || carrierGroupCode || modeCode || routeConfigCode));
      #}
      #
    ENDSOURCE
    SOURCE #formRunHelper
      #/// <summary>
      #/// Constucts an instance of the <C>SysExtensionSerializerFormRunHelper</C> class.
      #/// </summary>
      #/// <returns>
      #/// An instance of the <C>SysExtensionSerializerFormRunHelper</C> class.
      #/// </returns>
      #public SysExtensionSerializerFormRunHelper formRunHelper()
      #{
      #    if (!formRunHelper)
      #    {
      #        formRunHelper = SysExtensionSerializerFormRunHelper::construct();
      #    }
      #
      #    return formRunHelper;
      #}
    ENDSOURCE
    SOURCE #gotoLines
      #void gotoLines()
      #{
      #    salesLineGrid.setFocus();
      #}
    ENDSOURCE
    SOURCE #hideQualityManagement
      #void hideQualityManagement()
      #{
      #    salesTable_qualityOrderStatusDisplay.visible(false);
      #    salesLineStatus_qualityOrderStatus.visible(false);
      #    status_qualityOrderStatusDisplay.visible(false);
      #    salesLine_QualityOrderStatus.visible(false);
      #
      #    inventNonConformanceTableHeader.visible(false);
      #    inventQualityOrderTableHeader.visible(false);
      #    inventNonConformanceTableLine.visible(false);
      #    inventQualityOrderTableLine.visible(false);
      #    inventTestCertOfAnalysisTable.visible(false);
      #
      #    lineStripProductQualitySeparator.visible(false);
      #}
    ENDSOURCE
    SOURCE #init
      #public void  init()
      #{
      #    FormRun callerForm;
      #    Common  callerFormRecord;
      #    Object  caller;
      #    boolean wasCalledFromSalesLineBackOrderListPage = this.isCalledFromSalesLineBackOrderListPage();
      #    boolean wasCalledFromSalesTableListPageProject  = this.isCalledFromSalesTableListPageProject();
      #    boolean enableConfigurationFeature              = PBALib::isConfigurationKeyEnabled();
      #
      #    #ISOCountryRegionCodes
      #
      #    custParameters = CustParameters::find();
      #
      #    // <GCN>
      #    taxIntegrationSystem_CN = CustParameters::isTaxIntegrationSystem_CN();
      #    // </GCN>
      #
      #    // <GIN>
      #    isIN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
      #    if (isIN)
      #    {
      #        isIndiaIndirectTaxParameterMarked = TaxParameters::checkTaxParameters_IN();
      #        isIndiaWHTMarked                  = TaxWithholdParameters_IN::checkTaxParameters();
      #        isSalesLine_INEnabled             = SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_IN));
      #    }
      #    // </GIN>
      #
      #    // <GEERU>
      #    // has to be before super to be used in methods such as FormDataSource.init()
      #    isRU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #    // </GEERU>
      #    // <GEEPL>
      #    countryRegion_PL = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]);
      #    // </GEEPL>
      #
      #    isCalledFromLP = TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesTableListPage));
      #
      #    if (element.args() && !isCalledFromLP)
      #    {
      #        element.args().copyCallerQuery(CopyCallerQuery::No);
      #    }
      #
      #    super();
      #    isDocuActionTemplate = DocuActionForTemplate::createTemplateOnMenuButton(mbTemplatesButton, salesTable.TableId);
      #    FormSecurity::setFormDataSourceMaxAccessRight(this);
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        itemInventDimSetupCache = new Map(Types::String, Types::Enum);
      #    }
      #    // </GEERU>
      #    // <GEEU>
      #    countryRegion_EEU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoLV, #isoEE, #isoCZ, #isoPL, #isoHU, #isoRU]);
      #    // </GEEU>
      #
      #    // Initialization specifically for projects
      #    // Only show sales orders associated to projects if form is called from the project main menu
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Project)
      #    {
      #        if (! element.args().record()) // called from menu
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId)).value(SysQuery::valueNotEmptyString());
      #        }
      #    }
      #
      #    // Initialization specifically for Journals
      #    // Do not allow order type change if form was called from Sales journal menu items
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Journal)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(false);
      #        salesTable_SalesType.allowEdit(false);
      #    }
      #
      #    // Initialization specifically for BackOrderLines list page...
      #    if (wasCalledFromSalesLineBackOrderListPage)
      #    {
      #        this.applyBackOrderLinesSelection();
      #    }
      #
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId))
      #    {
      #        salesTableForm = SalesTableForm::construct(element.args().parmEnum(), element.args().record());
      #    }
      #    else if (wasCalledFromSalesTableListPageProject)
      #    {
      #        callerForm = element.args().caller();
      #        callerFormRecord = callerForm.args().record();
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::Project, callerFormRecord);
      #    }
      #    else
      #    {
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::None, element.args().record());
      #    }
      #
      #    // Update group separator visibility...
      #    // (group contains a single button)
      #    lineStripFinancialsIntroduceSeparator.visible(
      #        buttonCustVendCreditInvoicingLines.isVisible());
      #
      #    TaxVATNumTable::enableLookupVATNum(vatNum);
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #    element.updateRFIDTagging();
      #
      #    salesLineGrid.visibleColsValue(8+conLen(inventDimFormSetup.dimFieldsActive(inventDimFormSetup.parmDimParmVisibleGrid())));
      #
      #    salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(salesTableForm.editSalesType());
      #
      #    salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
      #    salesLine_ds.query(salesTableForm.querySalesLine(salesLine_ds.query()));
      #
      #    groupNotificationToTheCentralBank.visible(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]));
      #
      #    if (!TaxParameters::find().CashDiscOnInvoice)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, CashDiscPercent)).allowEdit(false);
      #    }
      #
      #    if (!InventParameters::find().UseQualityManagement)
      #    {
      #        element.hideQualityManagement();
      #    }
      #    mcrOrderParameters = MCROrderParameters::find();
      #    salesParameters    = SalesParameters::find();
      #    mcrCallCenterEnabled = MCROrderParameters::isCallCenterEnabledAndInUse();
      #
      #    // Initiate the map used to store the available quantity
      #    availableQtyMap = new Map(Types::String, Types::Real);
      #
      #    onInit = true;
      #    map = new Map(Types::Integer, Types::String);
      #    this.enableHeaderCreditCardMenuItems();
      #    mcrMarginAlert.visible(salesParameters.mcrEnableMarginAlert);
      #    mcrMarginPercentStr.visible(salesParameters.mcrEnableMarginAlert);
      #    marginMap = new Map(Types::String, Types::Container);
      #    mcrPriceHistory.visible(custParameters.mcrEnablePriceDetails);
      #
      #    bankLGFeatureChecker    = BankLGFeatureChecker::construct();
      #    enableLGFeature         = bankLGFeatureChecker.checkFeatureEnabled();
      #    bankLGRequestForm.visible(enableLGFeature);
      #
      #    bankLCExportFeatureChecker = BankLCExportFeatureChecker::construct();
      #    enableLCFeature = bankLCExportFeatureChecker.checkFeatureEnabled();
      #    salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).visible(enableLCFeature || enableLGFeature);
      #    buttonCreateBankLCExport.visible(enableLCFeature);
      #
      #    ledgerDefaultAccountController         = LedgerDimensionDefaultAccountController::construct(salesLine_ds, fieldStr(SalesLine, LedgerDimension));
      #    ledgerDefaultAccountController.parmControl(linePosting_LedgerDimension);
      #
      #    dimensionDefaultingControllerTable = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionTable, "@SYS138487");
      #    dimensionDefaultingControllerTable.parmAttributeValueSetDataSource(salesTable_ds, fieldStr(SalesTable, DefaultDimension));
      #
      #    DimensionDefaultingController::initContainerId(tabFinancialDimensionLine, 2);
      #    dimensionDefaultingControllerLine = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionLine, "@SYS138487");
      #    dimensionDefaultingControllerLine.parmAttributeValueSetDataSource(salesLine_ds, fieldStr(SalesLine, DefaultDimension));
      #
      #    pbaExecute.visible(enableConfigurationFeature);
      #
      #    //<GMX>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
      #    {
      #        this.updateDesign_MX();
      #    }
      #    //</GMX>
      #
      #    imageList = new ImageListAppl_DeliverySchedule();
      #    lineDeliveryType.imageList(imageList.imageList());
      #
      #    // Needed to check validity of address
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    if (#PmfEnabled)
      #    {
      #        bomPriceCalc.text("@PDS1468");
      #    }
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #
      #    //<GIN>
      #    if (isIndiaIndirectTaxParameterMarked || isIndiaWHTMarked)
      #    {
      #        element.setTaxWithholdVisible_IN();
      #        element.setVisible_IN();
      #    }
      #
      #    if(isIndiaIndirectTaxParameterMarked)
      #    {
      #        taxExciseTypeController = TaxExciseTypeController_IN::construct(exciseNone_IN,
      #                                                                        exciseManufacture_IN,
      #                                                                        exciseTraders_IN,
      #                                                                        taxInformation_IN_ECCNumber,
      #                                                                        taxInformation_IN_ManECCRegistrationNumberTable,
      #                                                                        taxInformation_IN_TraderECCRegistrationNumberTable,
      #                                                                        salesLine_IN_DS);
      #        taxExciseTypeController.parmFieldNumDirectSettlement(fieldNum(SalesLine_IN, DirectSettlement_IN));
      #        taxExciseTypeController.parmFieldNumDSA(fieldNum(SalesLine_IN, dsa_in));
      #    }
      #    // </GIN>
      #
      #    // <GJP>
      #    element.updateDesignConsInvoice_JP();
      #    // </GJP>
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        this.initDesign_RU();
      #    }
      #    // </GEERU>
      #
      #    // <GBR>
      #    salesTable_BR_ds.object(fieldNum(SalesTable_BR, cfpsId_BR)).visible(BrazilParameters::isCFPSEnabled_BR());
      #    salesPurchOperationTypeController_BR = new SalesPurchOperationTypeController_BR(this.name());
      #    // </GBR>
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
      #    {
      #        salesTable_DS.object(fieldNum(SalesTable, StatProcId)).visible(false);
      #        salesLine_DS.object(fieldNum(SalesLine,  StatProcId)).visible(false);
      #    }
      #
      #    //<GTH>
      #    isUnrealizedVATEnabled = TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled();
      #    if (isUnrealizedVATEnabled)
      #    {
      #        this.updateDesignForUnrealizedVAT();
      #    }
      #    //</GTH>
      #
      #    if (element.args().parmEnumType() == enumNum(FormOpenMode))
      #    {
      #        caller = element.args().caller();
      #        if (caller && caller is SysSetupFormRun)
      #        {
      #            skipLinkActive = element.args().parmEnum() == FormOpenMode::ForNew;
      #        }
      #    }
      #
      #    CustDirectDebitMandate::defaultAndDisplayMandate(
      #        salesTable.InvoiceAccount,
      #        salesTable.PaymMode,
      #        salesTable.DirectDebitMandate,
      #        false,
      #        salesTable_ds,
      #        fieldNum(SalesTable, DirectDebitMandate));
      #
      #    this.initDesignEntryCertificate_W();
      #
      #    //TODO IS Review code
      #    if(SalesTable.dataAreaId != "110"){
      #        XmlExport.visible(false);
      #        ExportSalesOrderToXML.visible(false);
      #    }
      #
      #    // HV_TH
      #    if (LedgerParameters::find().HVPCompanyCountry == HVPCompanyCountry::TH)
      #    {
      #        salesTable_ds.object(fieldnum(SalesTable, IVZ_VatBranchId)).visible(true);
      #        salesLine_ds.object(fieldnum(SalesLine, IVZ_VatBranchId)).visible(true);
      #    }
      #    else
      #    {
      #        salesTable_ds.object(fieldnum(SalesTable, IVZ_VatBranchId)).visible(false);
      #        salesLine_ds.object(fieldnum(SalesLine, IVZ_VatBranchId)).visible(false);
      #    }
      #    // <--
      #
      #    // BG - Filetrs -->
      #    /*
      #    comboSalesStatus = element.control(control::SalesStatusFilter);
      #
      #    if (!isConfigurationkeyEnabled(configurationkeynum(CRSEBulgaria)) ||
      #        this.isCalledFromListPage())
      #        comboSalesStatus.selection(SalesStatusCriteria::All);
      #    else
      #        comboSalesStatus.selection(SalesStatusCriteria::Open);
      #    */
      #    // <--
      #
      #    // HV   -->
      #    salesTable_ds.object(fieldnum(SalesTable, DeliveryAddress_BG)).visible(curExt()=='410'|| curExt()=='210'? true :false);
      #    salesTable_ds.object(fieldnum(SalesTable, DeliveryName_BG)).visible(curExt()=='410'|| curExt()=='210'? true :false);
      #    salesTable_ds.object(fieldnum(SalesTable, DeliveryStreet_BG)).visible(curExt()=='410'|| curExt()=='210'? true :false);
      #    salesTable_ds.object(fieldnum(SalesTable, DeliveryCity_BG)).visible(curExt()=='410'|| curExt()=='210'? true :false);
      #
      #    InventDim_ds.object(fieldnum(InventDim, InventGTDID_RU)).allowEdit(false);
      #    InventDim_ds.object(fieldnum(InventDim, InventGTDID_RU)).skip(true);
      #    // <--
      #
      #    //IS HUVEPHARMA_AX_SUPP SUPP0292 B.FILIPOV 12.5.2015 ->
      #    salesTable_ds.object(fieldnum(SalesTable, IS_DeliveryName_BG)).visible(curExt()=='410'|| curExt()=='210'? true :false);
      #    //<-
      #
      #    // HUPL-7 Invoice and delivery protocol number -->
      #    /*
      #    LastPackingSlip_1.visible(curext() == '510');
      #    LastInvoice_1.visible(curext() == '510');
      #    */
      #    // <--
      #
      #}
    ENDSOURCE
    SOURCE #initDesign_RU
      ##define.2(2)
      #void initDesign_RU()
      #{
      #    salesLine_DS.object(fieldNum(SalesLine, ProjId)).allowEdit(true);
      #    tabHeaderAddress.columns(#2);
      #}
    ENDSOURCE
    SOURCE #initDesignEntryCertificate_W
      #/// <summary>
      #///    This method shows or hides fields in the <c>Entry certificate</c> group depending on the system settings.
      #/// </summary>
      #private void initDesignEntryCertificate_W()
      #{
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, EntryCertificateRequired_W)).visible(custParameters.EntryCertificateManagementEnabled_W);
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).visible(custParameters.EntryCertificateIssuingEnabled_W);
      #}
    ENDSOURCE
    SOURCE #interCompanyIsPriceDiscSearchNeeded
      #RecId interCompanyIsPriceDiscSearchNeeded()
      #{
      #    return interCompanyIsPriceDiscSearchNeeded;
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
    ENDSOURCE
    SOURCE #IS_writeTmpFrmVirtual
      #// IS HVP.IMP0425 12.01.2015 K.Iliev HV_06027 Create Sales Contract
      #void IS_writeTmpFrmVirtual(TmpFrmVirtual _tmpFrmVirtual, TableId _tableId, RecId _recId, Num _id, LineNum _lineNum = 0, TransDate _transDate = systemDateGet(), Qty _qty = 0)
      #{
      #    _tmpFrmVirtual.clear();
      #
      #    _tmpFrmVirtual.tableNum     = _tableid;
      #    _tmpFrmVirtual.recordNo     = _recId;
      #    _tmpFrmVirtual.id           = _id;
      #    _tmpFrmVirtual.num          = _lineNum;
      #    _tmpFrmVirtual.transDate    = _transDate;
      #    _tmpFrmVirtual.qty          = _qty;
      #
      #    _tmpFrmVirtual.write();
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesLineBackOrderListPage
      #private boolean isCalledFromSalesLineBackOrderListPage()
      #{
      #    return TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesLineBackOrderListPage));
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesTableListPageProject
      #private boolean isCalledFromSalesTableListPageProject()
      #{
      #    Object      myCaller;
      #    FormRun     callerForm;
      #    boolean     calledFromListPage = false;
      #
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #
      #        if (myCaller && myCaller is SysSetupFormRun)
      #        {
      #            callerForm = myCaller;
      #            if (callerForm.name() == formStr(SalesTableListPage) &&
      #                (callerForm.args() &&
      #                    (callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_Proj) ||
      #                    callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_MyProj))))
      #            {
      #                calledFromListPage = true;
      #            }
      #        }
      #    }
      #    return calledFromListPage;
      #}
    ENDSOURCE
    SOURCE #mcrAppendScriptStr
      #void mcrAppendScriptStr(str _scriptStr)
      #{
      #    /// Add the script onto the beginning of the current text in the script windows.
      #    sourceCodeScripts = _scriptStr + sourceCodeScripts;
      #    element.mcrSetScriptStr(sourceCodeScripts);
      #}
    ENDSOURCE
    SOURCE #mcrCheckComplete
      #/// <summary>
      #/// Validates if the order can be completed.
      #/// </summary>
      #/// <returns>
      #/// true if the order meets all completion criteria; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #/// An order can not be completed if no sales lines exist or if
      #/// there is a total discount and the order is a continuity order.
      #/// </remarks>
      #boolean mcrCheckComplete()
      #{
      #    // One or more sales lines must exist.
      #    if (!SalesLine::exist(salesTable.SalesId))
      #    {
      #        info("@MCR23354");
      #        warning("@MCR10878");
      #        return false;
      #    }
      #
      #    // Throw error when the order has a continuity item on it and there is
      #    // a total discount.
      #    if (mcrSalesTable.ContinuityOrder == true
      #        && salesTable.DiscPercent)
      #    {
      #        info("@MCR23354");
      #        throw error("@MCR12950");
      #    }
      #
      #    return true;
      #}
    ENDSOURCE
    SOURCE #mcrCheckOpenOrder
      #/// <summary>
      #/// Determines if the current order has
      #///     been processed.
      #/// </summary>
      #/// <returns>
      #/// true if it has; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #/// Criteria that stops a user from being able to switch records or close:
      #/// 1. Parameter enabledOrderCompletion is marked.
      #/// 2. Order is in a backOrder status.
      #/// 3. Order is stopped.
      #/// 4. Order is not on hold.
      #/// 3. Order payments either do not exist or have not been proessed.
      #/// </remarks>
      #public boolean mcrCheckOpenOrder()
      #{
      #    if (enableOrderCompletion)
      #    {
      #        // if the status of the order being evaluated has had
      #        // its status changed to something other than open order
      #        // (backorder) clear out the buffer which indicates an open order.
      #        element.mcrClearOpenOrderSalesTableBuffer();
      #
      #        // if enable order completion is on and
      #        // if the focus is on an open order that the user just created and
      #        //the user chooses to add a new record, stop them and make the user change
      #        //the previous orders status
      #        if (openOrderSalesTable)
      #        {
      #            element.mcrPromptOpenOrderNotAllowed();
      #            if (openOrderSalesTable)
      #            {
      #                return false;
      #            }
      #        }
      #    }
      #
      #    return true;
      #}
      #
    ENDSOURCE
    SOURCE #mcrClearOpenOrderSalesTableBuffer
      #public void mcrClearOpenOrderSalesTableBuffer()
      #{
      #    // if the status of the order being evaluated has had
      #    // its status changed to something other than open order
      #    // (backorder) clear out the buffer which indicates an open order.
      #    // Since we now allow deletes, make sure we are still on the original
      #    // sales order.  If not, clear the buffer.
      #    if(salesTable.RecId == openOrderSalesTable.RecId)
      #    {
      #        if (salesTable.mcrOrderProcessed())
      #        {
      #            openOrderSalesTable = null;
      #        }
      #    }
      #    else
      #    {
      #        openOrderSalesTable = null;
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrClearScreen
      #void mcrClearScreen()
      #{
      #    salesTable_ds.reread();
      #
      #    if(salesTable
      #        && salesTable.SalesStatus == SalesStatus::Backorder
      #        && enableOrderCompletion)
      #    {
      #        //do not clear
      #        return;
      #    }
      #    // clear salestable and line & set combo boxes to default(0).
      #    this.salesTable().clear();
      #    salesTable_SalesType.selection(3);
      #    salesline.clear();
      #    salestable_ds.refresh();
      #    salesline_ds.refresh();
      #
      #    mcrLastSourceId = "";
      #
      #    // clear messages
      #    if (enableDirectedSelling)
      #    {
      #        this.mcrDisplayStartOrderMessage();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrCloseDownOrderEntry
      #void mcrCloseDownOrderEntry()
      #{
      #    FormDataSource      formDataSource;
      #
      #    //  Close down order entry screen based on how the form was called.
      #    if (mcrCustomerServiceParm    != MCRCustomerServiceParam::Create
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::CreateNew
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Add
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Modify)
      #    {
      #        salesTable_ds.executeQuery();
      #    }
      #    else
      #    {
      #        //coming from the "Create sales order" menu
      #        if(mcrCustomerServiceParm == MCRCustomerServiceParam::Add)
      #        {
      #            element.mcrClearScreen();
      #        }
      #        // coming from customer service or customer maintenance.
      #        else
      #        {
      #            // If called from customer service, refresh the sales table datasource (#2)
      #            if (element.args().caller()
      #                && element.args().caller().name() == formStr(MCRCustomerService))
      #            {
      #                formDataSource = element.args().caller().datasource(2);
      #                formDataSource.executeQuery();
      #            }
      #
      #            element.close();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisableForm
      #public void mcrDisableForm()
      #{
      #    // disable sales Table
      #    salesTable_ds.allowEdit(false);
      #    salesTable_ds.allowCreate(false);
      #    salesTable_ds.allowDelete(false);
      #    salesLine_ds.allowEdit(false);
      #    salesLine_ds.allowCreate(false);
      #    salesLine_ds.allowDelete(false);
      #}
    ENDSOURCE
    SOURCE #mcrDisplayCustomerMessage
      #void mcrDisplayCustomerMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if(enableDirectedSelling
      #        && salesTable.CustAccount)
      #    {
      #        fullMessageString = MCRMessageAssociation::getCustomerMessage(salesTable.CustAccount);
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisplayItemMessage
      #void mcrDisplayItemMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    // Check for existance of an itemId first.
      #    if (enableDirectedSelling
      #        && salesLine.ItemId)
      #    {
      #        fullMessageString = MCRMessageAssociation::getItemMessage(salesline.ItemId,
      #                                    mcrSalesLine.SourceId,
      #                                    mcrSalesLine.UpSellOrigin,
      #                                    mcrSalesLine.UpSellOriginRef);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrDisplaySourceMessage
      #void mcrDisplaySourceMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if (enableDirectedSelling
      #        && mcrSalesTable.SourceId)
      #    {
      #        fullMessageString = MCRMessageAssociation::getSourceMessage(mcrSalesTable.SourceId);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisplayStartOrderMessage
      #void mcrDisplayStartOrderMessage(boolean _create = false)
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if (enableDirectedSelling)
      #    {
      #        fullMessageString = MCRMessageAssociation::getStartOrderMessage(salesTable.CustAccount,
      #                                        mcrSalesTable.SourceId,
      #                                        _create);
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #mcrDisplayUpSellItemMessage
      #void mcrDisplayUpSellItemMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    // Check for existance of an itemId first.
      #    if (enableDirectedSelling
      #        && salesLine.ItemId)
      #    {
      #        fullMessageString =
      #            MCRMessageAssociation::getUpSellItemMessage(salesLine.ItemId, mcrSalesLine.UpSellOriginRef);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrEnableForm
      #void mcrEnableForm()
      #{
      #    // enable sales Table
      #    salesTable_ds.allowEdit(true);
      #    salesTable_ds.allowCreate(true);
      #    salesTable_ds.allowDelete(true);
      #    //enable sales Line
      #    salesLine_ds.allowEdit(true);
      #    salesLine_ds.allowCreate(true);
      #    salesLine_ds.allowDelete(true);
      #}
    ENDSOURCE
    SOURCE #mcrGetImageUrl
      #public URL mcrGetImageUrl()
      #{
      #    if (enableDirectedSelling)
      #    {
      #        return mcrImageUrl;
      #    }
      #
      #    return '';
      #}
    ENDSOURCE
    SOURCE #mcrGetLoadImageFileObject
      #public MCRLoadImageFile mcrGetLoadImageFileObject()
      #{
      #    if (mcrLoadImageFile == null)
      #    {
      #        mcrLoadImageFile = MCRLoadImageFile::construct();
      #    }
      #
      #    return mcrLoadImageFile;
      #}
    ENDSOURCE
    SOURCE #mcrGetScript
      #public MCRNotes mcrGetScript()
      #{
      #    if (enableDirectedSelling)
      #    {
      #        return mcrScript;
      #    }
      #
      #    return '';
      #}
    ENDSOURCE
    SOURCE #mcrHeaderPriceOverride
      #void mcrHeaderPriceOverride(boolean _releaseOverride,
      #    RetailInformationSubcodeId _mcrReasonCode,
      #    UserId _userId)
      #{
      #    if (_releaseOverride)
      #    {
      #        mcrSalesTable.PriceOverride = NoYes::No;
      #        //The mcrSalesTable.PriceOverride value is going to be needed
      #        //within salesTable.updateFinalDisc() which gets called below.
      #        mcrSalesTable.write();
      #
      #        mcrHeaderPriceOverrideEventType = MCROrderEventType::SalesTablePriceOverrideTurnedOff;
      #        mcrHeaderPriceOverrideReasonCode = _mcrReasonCode;
      #        mcrHeaderPriceOverrideUserId = _userId;
      #        mcrHeaderPriceOverrideDiscPct = salesTable.orig().DiscPercent;
      #        // Record that a user overrode the total discount percent.
      #        salesTable.updateFinalDisc();
      #
      #        if (mcrHeaderPriceOverrideDiscPct != salesTable.DiscPercent)
      #        {
      #            element.mcrInsertPriceOverrideOrderEvent();
      #        }
      #    }
      #    else
      #    {
      #        mcrSalesTable.PriceOverride = NoYes::Yes;
      #        mcrHeaderPriceOverrideEventType = MCROrderEventType::SalesTablePriceOverrideTurnedOn;
      #        mcrHeaderPriceOverrideReasonCode = _mcrReasonCode;
      #        mcrHeaderPriceOverrideUserId = _userId;
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrInsertPriceOverrideOrderEvent
      #public void mcrInsertPriceOverrideOrderEvent()
      #{
      #    MCROrderEventTable      mcrOrderEventTable;
      #
      #    ttsbegin;
      #    mcrOrderEventTable.insertFromSalesTablePriceOverride(
      #        salesTable,
      #        mcrHeaderPriceOverrideEventType,
      #        mcrHeaderPriceOverrideReasonCode,
      #        mcrHeaderPriceOverrideUserId,
      #        mcrHeaderPriceOverrideDiscPct);
      #    ttscommit;
      #}
    ENDSOURCE
    SOURCE #mcrLaunchOrderSummary
      #/// <summary>
      #///     Opens summary screen and the refreshing or closing of the sales order
      #///     is called on the complete button for order entry, and if the order returned to a status of
      #///     open order after being cancelled.
      #/// </summary>
      #void mcrLaunchOrderSummary()
      #{
      #    Args                recapArgs;
      #    NoYes               modifyOrder;
      #    MCROrderRecapStatus mcrOrderRecapStatus;
      #
      #    SalesTableForm::mcrCompleteMarkupTransCalc(salesTable);
      #
      #    // Open the recap form based on order completion setting, except for projects
      #    // for which the recap form is never opened.
      #    if (enableOrderCompletion
      #        && !salesTable.ProjId)
      #    {
      #        // Show the recap form.
      #        recapArgs = SalesTableForm::mcrShowOrderRecap(salesTable);
      #
      #        // Return the enum which determines if they want to continue to modify the order.
      #        // See Forms\MCRSalesOrderRecap.canClose to see where the enum is set to Yes,
      #        // if the form is closed without using 'x' or 'esc'.
      #        modifyOrder = recapArgs.parmEnum();
      #    }
      #    else
      #    {
      #        // When skipping recap, they do not need to modify order.
      #        modifyOrder = NoYes::No;
      #
      #        // Process the completion of the order like the recap form.
      #        mcrOrderRecapStatus = MCREndOrder::orderRecap(salesTable);
      #    }
      #
      #    // If the user presses modify order, then return to order.
      #    if (modifyOrder == NoYes::Yes)
      #    {
      #        element.doRefresh();
      #    }
      #    else
      #    {
      #        // The "Add" value is for when the user comes from the create sales order menu.
      #        if(mcrCustomerServiceParm == MCRCustomerServiceParam::Add)
      #        {
      #            element.mcrClearScreen();
      #        }
      #        else
      #        {
      #            // Internally marks the sales order as closed, and closes the window
      #            // if the form has been called with parameters.
      #            if (salesTable.SalesStatus != SalesStatus::Backorder
      #                || salesTable.mcrOrderStopped == NoYes::No )
      #            {
      #                openOrderSalesTable = null;
      #            }
      #
      #            // if formMode has a value, then the SalesTable form was
      #            // called from Customer Service.
      #            if (mcrCustomerServiceParm != MCRCustomerServiceParam::None)
      #            {
      #                this.mcrCloseDownOrderEntry();
      #            }
      #
      #            element.doRefresh();
      #
      #            if (!salesTable)
      #            {
      #                salesTable_ds.executeQuery();
      #            }
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrLineManualDiscountOverride
      #/// <summary>
      #/// Record details of manual override.
      #/// </summary>
      #/// <param name="_reasonCode">
      #/// Reason code used to change price/discount.
      #/// </param>
      #/// <param name="_userId">
      #/// user id.
      #/// </param>
      #void mcrLineManualDiscountOverride(RetailInformationSubcodeId _reasonCode, UserId _userId = curUserId())
      #{
      #    mcrSalesLinePriceOverride.PriceOverride = NoYes::No;
      #    mcrSalesLinePriceOverride.ReasonCode = _reasonCode;
      #    // Load these values so that the appropriate values go into the order event.
      #    mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOn;
      #    mcrLinePriceOverrideReasonCode = _reasonCode;
      #    mcrLinePriceOverrideUserId = _userId;
      #}
    ENDSOURCE
    SOURCE #mcrLinePriceOverrideNo
      #/// <summary>
      #///     Recalculates price discounts, total line amounts and creates a price overrided turned off order event.
      #/// </summary>
      #/// <param name="_userId">
      #///     The user who overrode the price.
      #/// </param>
      #void mcrLinePriceOverrideNo(UserId _userId)
      #{
      #    if(salesLine.PriceDiscResultFields::canLineAmountBeUpdated())
      #    {
      #        mcrSalesLinePriceOverride.PriceOverride = NoYes::No;
      #        mcrSalesLinePriceOverride.ListPrice = 0;
      #        mcrSalesLinePriceOverride.ListPriceCurrencyCode = "";
      #        mcrSalesLinePriceOverride.ReasonCode = "";
      #        salesLine.setPriceDisc(salesLine.inventDim());
      #        //Load these values so that the appropriate values go into the order event.
      #        mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOff;
      #        mcrLinePriceOverrideReasonCode = "";
      #        mcrLinePriceOverrideUserId = _userId;
      #    }
      #    else
      #    {
      #        mcrSalesLinePriceOverride.PriceOverride = NoYes::Yes;
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrLinePriceOverrideYes
      #void mcrLinePriceOverrideYes(RetailInformationSubcodeId _reasonCode, UserId _userId = curUserId())
      #{
      #    mcrSalesLinePriceOverride.PriceOverride = NoYes::Yes;
      #    mcrSalesLinePriceOverride.ReasonCode = _reasonCode;
      #    // Load these values so that the appropriate values go into the order event.
      #    mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOn;
      #    mcrLinePriceOverrideReasonCode = _reasonCode;
      #    mcrLinePriceOverrideUserId = _userId;
      #}
    ENDSOURCE
    SOURCE #mcrModify
      #void mcrModify()
      #{
      #    // Attempt to allow order to be modified.
      #    if (salesTable.mcrAllowStatusRollback())
      #    {
      #        // roll back the sales order status
      #        salesTable.mcrOpenSalesOrder();
      #
      #        if (salesTable.SalesStatus == SalesStatus::Backorder
      #            && enableOrderCompletion)
      #        {
      #            openOrderSalesTable = salesTable.data();
      #        }
      #
      #        // The active method does a lot of enabling and
      #        // disabling as well as calls set header control.
      #        // By calling active the screen should be in the correct
      #        // view for modifications.
      #        salesTable_ds.active();
      #        element.mcrSetLineControls();
      #
      #        element.doRefresh();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrOrderEntryModeInit
      #void mcrOrderEntryModeInit()
      #{
      #    if (!mcrParmsSet)
      #    {
      #        retailMCRChannelTable = RetailMCRChannelTable::findChannelBySalesTable(salesTable);
      #        enableDirectedSelling = retailMCRChannelTable.mcrEnableDirectedSelling;
      #        enableOrderPriceControl = retailMCRChannelTable.mcrEnableOrderPriceControl;
      #        enableOrderCompletion = retailMCRChannelTable.mcrEnableOrderCompletion;
      #        mcrParmsSet = true;
      #    }
      #
      #    element.lock();
      #    // Initialization specifically for Journals and campaigns
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId)
      #        && element.args().parmEnum() == SalesTableFormId::MCRCampaign)
      #    {
      #        salesTable_ContactPersonId.visible(true);
      #    }
      #    // Initialization specifically for telemarketing SO
      #    else if (element.args().parmEnumType() == enumNum(SalesTableFormId)
      #        && element.args().parmEnum() == SalesTableFormId::MCRTelemarketing)
      #    {
      #        mcrSalesTable_SmmTMCallListID.visible(true);
      #        salesTable_ContactPersonId.visible(true);
      #    }
      #
      #    //Parameter to see if we are called from CustomerService. (also used from custtable, salestablelistpage, MCRReturnRecap)
      #    if (element.args().parmObject()
      #        && classIdGet(element.args().parmObject()) == classIdGet(salesTableConfigure))
      #    {
      #        salesTableConfigure = element.args().parmObject();
      #        mcrCustomerServiceParm = salesTableConfigure.parmCustomerServiceParam();
      #    }
      #
      #    // Used to signify form is called by Returns
      #    if (TradeFormHelper::isCalledFromForm(element.args(), formStr(ReturnTable))
      #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(MCRReturnRecap)))
      #    {
      #        returnProcessing = true;
      #    }
      #
      #    // Hide and show contorls based on order parameters
      #    //  Action Pane: Sales Order
      #    editSalesOrder.enabled(!enableOrderCompletion
      #                           && tabPageDetails.isActivePage());
      #    modify.enabled(enableOrderCompletion);
      #    complete.enabled(enableOrderCompletion);
      #    creditCard.enabled(!enableOrderCompletion);
      #    payment_M_editCreditCard.enabled(!enableOrderCompletion);
      #    payment_M_editCreditCard.skip(enableOrderCompletion);
      #    groupLineViewHeader.visible(!enableOrderCompletion);
      #    mcrGroupLineViewHeader.visible(enableOrderCompletion);
      #
      #    mcrPriceOverrideIcon.enabled(enableOrderPriceControl);
      #    mcrPriceOverrideIcon.skip(!enableOrderPriceControl);
      #    mcrPriceMatch.enabled(enableOrderPriceControl);
      #    mcrSalesLinePriceOverride_PriceOverride.enabled(enableOrderPriceControl);
      #    mcrSalesLinePriceOverride_PriceOverride.skip(!enableOrderPriceControl);
      #
      #    mcrSalesTable_PriceOverride.enabled(enableOrderPriceControl);
      #    mcrSalesTable_PriceOverride.skip(!enableOrderPriceControl);
      #
      #    mcrMarginAlert.enabled(enableOrderPriceControl);
      #    mcrPriceOverride.enabled(enableOrderPriceControl);
      #    mcrPriceGroup.enabled(enableOrderPriceControl);
      #
      #    mcrCatalog.enabled(enableDirectedSelling);
      #    mcrSalesLine_LineType.enabled(enableDirectedSelling);
      #    mcrSalesLine_LineType.skip(!enableDirectedSelling);
      #    mcrSalesLine_SourceId.enabled(enableDirectedSelling);
      #    mcrItemDisplay.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceId.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceId.skip(!enableDirectedSelling);
      #    mcrDetails.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceIdGrid.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceIdGrid.skip(!enableDirectedSelling);
      #    mcrCustomerService.enabled(enableDirectedSelling);
      #
      #    mcrSalesTable_ds.object(fieldNum(MCRSalesTable,SourceId)).mandatory(mcrOrderParameters.mcrSourceCodeRequired);
      #    mcrSalesLine_ds.object(fieldNum(MCRSalesLine,SourceId)).mandatory(mcrOrderParameters.mcrSourceCodeRequired);
      #    // set boolean so initial order messages are to display
      #    mcrSkipscript = 0;
      #
      #    element.unlock();
      #}
    ENDSOURCE
    SOURCE #mcrProcessOrderRecap
      #/// <summary>
      #///     Completes the order like the order recap form would.
      #/// </summary>
      #/// <returns>
      #///     true if the order is completed without an error; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #///     If an error occurs, the user is returned to modify the order.
      #/// </remarks>
      #boolean mcrProcessOrderRecap()
      #{
      #    //Order types other than sales and returns require no processing.
      #    if (salesTable.SalesType != SalesType::Sales
      #    && salesTable.SalesType != SalesType::ReturnItem)
      #    {
      #        return true;
      #    }
      #    return true;
      #}
    ENDSOURCE
    SOURCE #mcrPromptForGiftCardUpdate
      #public void mcrPromptForGiftCardUpdate()
      #{
      #    Args                credArgs;
      #    FormRun             credFormRun;
      #    MCRSalesLine        mcrSalesLineLocal;
      #
      #    credArgs = new Args();
      #
      #    credArgs.name(formStr(MCRGiftCardUpdatePromptDialog));
      #    credArgs.record(mcrSalesLine);
      #    credFormRun = classfactory.formRunClass(credArgs);
      #    credFormRun.run();
      #    credFormRun.wait();
      #
      #    if (credFormRun.closedOk())
      #    {
      #        mcrSalesLineLocal = credArgs.record();
      #
      #        //update fields
      #        mcrSalesLine.GiftCardNumber = mcrSalesLineLocal.GiftCardNumber;
      #        mcrSalesLine.GiftCardType = mcrSalesLineLocal.GiftCardType;
      #        mcrSalesLine.GiftCardBuyerName = mcrSalesLineLocal.GiftCardBuyerName;
      #        mcrSalesLine.GiftCardRecipientName = mcrSalesLineLocal.GiftCardRecipientName;
      #        mcrSalesLine.GiftCardBuyerEmail = mcrSalesLineLocal.GiftCardBuyerEmail;
      #        mcrSalesLine.GiftCardRecipientEmail = mcrSalesLineLocal.GiftCardRecipientEmail;
      #        mcrSalesLine.GiftCardGiftMessage = mcrSalesLineLocal.GiftCardGiftMessage;
      #
      #        mcrSalesLine_ds.refresh();
      #    }
      #}
      #
      #
    ENDSOURCE
    SOURCE #mcrPromptOpenOrderNotAllowed
      #void mcrPromptOpenOrderNotAllowed()
      #{
      #    // if the status of the order being evaluated has had
      #    // its status changed to something other than open order
      #    // (backorder) clear out the buffer which indicates an open order.
      #    // The user should not be allowed to leave an order open only if the order is
      #    // a sales order
      #    if (!salesTable.mcrOrderProcessed())
      #    {
      #        startLengthyOperation();
      #
      #        if (salesTable.Touched == NoYes::Yes)
      #        {
      #            salesTable.reread();
      #        }
      #
      #        if (element.mcrCheckComplete())
      #        {
      #            // Returns processing will handle completion of a return and exchange order,
      #            // therefore, don't launch the sales recap form.
      #            if (returnProcessing)
      #            {
      #                SalesTableForm::mcrCompleteMarkupTransCalc(salesTable);
      #
      #                // Need to know the user clicked complete.
      #                element.close();
      #            }
      #            else
      #            {
      #                element.mcrLaunchOrderSummary();
      #
      #                salesTable_ds.reread();
      #                salesTable_ds.refresh();
      #                salesTable_ds.active();
      #            }
      #        }
      #
      #        element.mcrClearOpenOrderSalesTableBuffer();
      #
      #        endLengthyOperation();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrRefreshMarginAlert
      #/// <summary>
      #/// Refreshes the estimated margin percentage and margin icon if the margin alert
      #/// is enabled.
      #/// </summary>
      #void mcrRefreshMarginAlert()
      #{
      #    if (salesParameters.mcrEnableMarginAlert)
      #    {
      #        marginMap.remove(salesLine.InventTransId);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrSetEditGiftCard
      #void mcrSetEditGiftCard()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    element.lock();
      #
      #    // Hide or show fields based on the item being a physical gift card
      #    salesTableInteractionHelper.mcrInitGiftCardControls(salesLine.ItemId, mcrSalesLine.GiftCardType);
      #
      #    if (salesTableInteractionHelper.parmMCRClearGiftCardNumber())
      #    {
      #        mcrSalesLine.GiftCardNumber = '';
      #    }
      #
      #    mcrUpdateGiftCard.enabled(salesTableInteractionHelper.parmMCRUpdateGiftCardEnabled());
      #    giftCardVirtual.visible(salesTableInteractionHelper.parmMCRGiftCardVirtualVisible());
      #    giftCardPhysical.visible(salesTableInteractionHelper.parmMCRGiftCardPhysicalVisible());
      #    mcrSalesLine_GiftCardNumber.visible(salesTableInteractionHelper.parmMCRGiftCardNumberVisible());
      #
      #    element.unlock();
      #}
      #
    ENDSOURCE
    SOURCE #mcrSetEditItemAllowed
      #void  mcrSetEditItemAllowed(boolean _allowEdit)
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit  (_allowEdit);
      #}
      #
    ENDSOURCE
    SOURCE #mcrSetHeaderControls
      #public void mcrSetHeaderControls()
      #{
      #    boolean allowEdit   = true;
      #    boolean allowDelete = true;
      #    SalesTableInteractionHelper salesTableInteractionHelper;
      #
      #    element.lock();
      #
      #    if (enableDirectedSelling || enableOrderCompletion)
      #    {
      #        salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #        salesTableInteractionHelper.mcrInitHeaderControls(salesTable,
      #                                                            enableOrderCompletion,
      #                                                            returnProcessing,
      #                                                            mcrReturnSalesTable.IsExchange);
      #    }
      #
      #    if (enableDirectedSelling)
      #    {
      #        //ButtonHeaderFunction
      #        salesCopyAllHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #        salesCopyJournalHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #        salesCreditNoteHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #    }
      #
      #    if (enableOrderCompletion)
      #    {
      #        allowEdit   = salesTableInteractionHelper.parmMCRHeaderAllowEdit();
      #        allowDelete = salesTableInteractionHelper.parmMCRHeaderAllowDelete();
      #
      #        //ButtonHeaderSetup
      #        buttonMarkupTransHeading.enabled(allowEdit);
      #
      #        //ButtonLineSetup
      #        buttonMarkupTransLine.enabled(allowEdit);
      #        lineTaxTransSource.enabled(allowEdit);
      #
      #        // Toggle the complete/modify button
      #        // Initialize buttons to not be visible.  They are turned on later.
      #        element.mcrVisibleControl(complete, false); // performance tuning
      #        element.mcrVisibleControl(modify, false);   // perofrmance tuning
      #
      #        // If status is Open, enable the complete button.
      #        if (salesTableInteractionHelper.parmMCRCompleteButtonEnabled())
      #        {
      #            element.mcrVisibleControl(complete, true); // performance tuning
      #            complete.enabled(true);
      #        }
      #        //Otherwise, show modify.
      #        else
      #        {
      #            element.mcrVisibleControl(modify, true); // performance tuning
      #            modify.enabled(salesTableInteractionHelper.parmMCROrderModifyEnabled());
      #        }
      #    }
      #
      #    element.editSales(allowEdit, allowDelete);
      #
      #    element.unlock();
      #}
    ENDSOURCE
    SOURCE #mcrSetLineControls
      #/// <summary>
      #///     Updates controls for the sales order lines.
      #/// </summary>
      #void mcrSetLineControls()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper;
      #
      #    if (mcrCallCenterEnabled)
      #    {
      #        element.lock();
      #
      #        salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #        salesTableInteractionHelper.mcrInitLineControls(salesTable,
      #                                                        salesLine,
      #                                                        enableOrderCompletion,
      #                                                        enableDirectedSelling,
      #                                                        mcrSalesLinePriceOverride.PriceOverride);
      #
      #        lineStripDelete.enabled(salesTableInteractionHelper.parmMCRLineStripDeleteEnabled());
      #        mcrLineNotesLine.enabled(salesTableInteractionHelper.parmMCRLineNotesLineEnabled());
      #
      #        if (salesTableInteractionHelper.parmMCREditItemAllowed())
      #        {
      #            element.mcrSetEditItemAllowed(true);
      #        }
      #
      #        salesLine_ds.object(fieldNum(SalesLine, SalesUnit)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSalesUnit());
      #        salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSalesQty());
      #        mcrSalesLine_ds.object(fieldNum(MCRSalesLine, SourceId)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSourceId());
      #
      #        element.mcrSetEditGiftCard();
      #
      #        element.unlock();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrSetScriptStr
      #void mcrSetScriptStr(str _scriptStr)
      #{
      #    if (enableDirectedSelling)
      #    {
      #        if(mcrScript != _scriptStr
      #            && mcrSkipScript == 0)
      #        {
      #            mcrScript = _scriptStr;
      #        }
      #
      #        if(mcrSkipScript > 0)
      #        {
      #            mcrSkipScript--;
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrVisibleControl
      #/// <summary>
      #///     Changes visibility of a form control when the control is not auto-declared.
      #/// </summary>
      #/// <param name="_formControl">
      #///     The form control that needs to be made visible or not visible.
      #/// </param>
      #/// <param name="_visible">
      #///     A boolean to indicate if a form control has to be made visible or not visible.
      #/// </param>
      #void mcrVisibleControl(
      #    FormControl     _formControl,
      #    boolean         _visible
      #    )
      #{
      #    // Only change visibility if value is different
      #    if (_formControl.visible() != _visible)
      #    {
      #        _formControl.visible(_visible);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrVisibleObject
      #/// <summary>
      #///     Changes visibility of a data object when the object is not auto-declared.
      #/// </summary>
      #/// <param name="_formDataObject">
      #///     The data object from form that needs to be made visible or not visible.
      #/// </param>
      #/// <param name="_visible">
      #///     A boolean to indicate if a form data object has to be made visible or not visible.
      #/// </param>
      #void mcrVisibleObject(
      #    FormDataObject  _formDataObject,
      #    boolean         _visible
      #    )
      #{
      #    if (_formDataObject.visible() != _visible)
      #    {
      #        _formDataObject.visible(_visible);
      #    }
      #}
    ENDSOURCE
    SOURCE #multiLineDiscount
      #/// <summary>
      #/// Calculates multi line discounts.
      #/// </summary>
      #public void multiLineDiscount()
      #{
      #    element.automaticTotalDiscount();
      #
      #    if (salesTable.updateMultiLineDisc())
      #    {
      #        salesLine_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #newSalesId
      #SalesId  newSalesId(SalesId  _newSalesId = newSalesId)
      #{
      #    newSalesId = _newSalesId;
      #    return _newSalesId;
      #}
    ENDSOURCE
    SOURCE #nextGroup
      #void  nextGroup()
      #{
      #    if (!SalesLine::exist(salesTable.SalesId))
      #    {
      #        salesLine_ds.create();
      #    }
      #
      #    //Only setfocus if on the correct form view
      #    if(salesLine_ItemId.isDisplayed())
      #    {
      #        salesLine_ItemId.setFocus();
      #    }
      #}
    ENDSOURCE
    SOURCE #noteFormatEdit
      #/// <summary>
      #///     This method sets the fields <c>RefInvoiceId</c>, <c>RefInvoiceAmountCur</c> and <c>ReasonTableRef</c>
      #///     of table <c>SalesTable</c> editable or not.
      #/// </summary>
      #/// <remarks>
      #///     These fields is not editable only when the note format is <c>TaxUnrealizedSalesNoteFormat::None</c>.
      #/// </remarks>
      #//<GTH>
      #public void noteFormatEdit()
      #{
      #    boolean     isNoneFormat;
      #
      #    isNoneFormat = (salesTableExtensionTH.NoteFormat == TaxUnrealizedSalesNoteFormat::None);
      #
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceId)).allowEdit(!isNoneFormat);
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceAmountCur)).allowEdit(!isNoneFormat);
      #    editReasonCode_TH.allowEdit(!isNoneFormat);
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #parmPostalAddressLocation
      #public LogisticsLocationRecId parmPostalAddressLocation(LogisticsLocationRecId _postalAddressLocation = 0)
      #{
      #    if (!_postalAddressLocation)
      #    {
      #        // Set location by active datasource
      #        if (element.dataSource().name() == salesLine_ds.name())
      #        {
      #            _postalAddressLocation = salesLine.deliveryLocation();
      #        }
      #        else
      #        {
      #            _postalAddressLocation = salesTable.deliveryLocation();
      #        }
      #    }
      #
      #    postalAddressLocation = _postalAddressLocation;
      #    return postalAddressLocation;
      #}
    ENDSOURCE
    SOURCE #pbaConfigureLine
      #void pbaConfigureLine()
      #{
      #    PBATablePBAInstance pbaTablePBAInstance;
      #
      #    if (PCRuntimeLibrary::isConstraintBasedConfigurable(salesLine.ItemId))
      #    {
      #        PCExecuteVariantConfiguration::execute(salesLine, salesLine.ItemId, inventDim.ConfigId);
      #    }
      #    else
      #    {
      #        if (!autoConfig )
      #        {
      #            PBAExecute::execute(salesLine,pbaTablePBAInstance, salesLine.CustAccount);
      #        }
      #
      #        autoConfig = false;
      #    }
      #
      #    // syncs sales table with db
      #    salesLine_ds.research(true);
      #}
    ENDSOURCE
    SOURCE #pmfIsEnabled
      #/// <summary>
      #/// Returns if the PMF security key is enabled
      #/// </summary>
      #/// <returns type="boolean">True if enabled; otherwise false</returns>
      #public boolean pmfIsEnabled()
      #{
      #    return salesLine.inventTable().isFormulaAllowed();
      #}
    ENDSOURCE
    SOURCE #recalculateRetailPricesDiscounts
      #void recalculateRetailPricesDiscounts()
      #{
      #    RetailSalesTable retailSalesTable = salesTable.retailSalesTable();
      #    RetailSalesOrderCalculator retailCalculator = RetailSalesOrderCalculator::construct(salesTable.SalesId);
      #
      #    retailCalculator.setPricesDiscountsOnOrder(retailSalesTable.TotalManualDiscountPercentage);
      #    retailOrderNeedRecalculation = false;
      #
      #    salesLine_ds.reread();
      #    salesLine_ds.refresh();
      #}
      #
    ENDSOURCE
    SOURCE #refreshSalesLine_IN
      #// <GIN>
      #void refreshSalesLine_IN()
      #{
      #    salesLine_IN_ds.reread();
      #    salesLine_IN_ds.refresh();
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #refreshTmsDisplayRouteCode
      #/// <summary>
      #/// Refresh local cache for the sales order record
      #/// </summary>
      #public void refreshTmsDisplayRouteCode()
      #{
      #    salesTableForm.tmsDisplayRouteCode(salesTable, true);
      #}
    ENDSOURCE
    SOURCE #removeAgreementLink
      #public void removeAgreementLink()
      #{
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine = salesLine.orig().data();
      #    boolean                                 doNotAsk;
      #
      #    if (salesLine.unLinkAgreementLinePrompt())
      #    {
      #        // When the user manually removes a link to an agreement line, then also prevent automatic (re)linking of agreement lines
      #        salesLine.AgreementSkipAutoLink = NoYes::Yes;
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, doNotAsk))
      #            {
      #                // Re-query delivery lines displayed by grid and update grid
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #returnedItem
      #boolean returnedItem()
      #{
      #    return salesTable.SalesType == SalesType::ReturnItem;
      #}
    ENDSOURCE
    SOURCE #run
      #void  run()
      #{
      #    int designatedTabNo = 1;
      #    SalesTable salesTableLocal;
      #
      #    if (TradeFormHelper::isCalledFromListPage(element.args()))
      #    {
      #        designatedTabNo = 3;
      #    }
      #
      #    // <GIN>
      #    SysListPageHelper::handleRunPreSuper(element, lineViewTab, designatedTabNo, designatedTabNo);
      #    // </GIN>
      #    // Set proper TAB explicitly.
      #    lineViewTab.tab(designatedTabNo);
      #
      #    super();
      #    // <GIN>
      #    SysListPageHelper::handleRunPostSuper(element, lineViewTab);
      #    // </GIN>
      #    docuActionTemplateUndefined.visible(!isDocuActionTemplate);
      #
      #    // Code used to create a new Sales Order within SalesTable when
      #    // it is called from Customer Service.  Most of this code was taken
      #    // from SalesCreateOrder.
      #    if (mcrCustomerServiceParm == MCRCustomerServiceParam::Create || mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew)
      #    {
      #        salesTableLocal = element.args().lookupRecord();
      #        if(salesTableLocal)
      #        {
      #            salesTable_ds.findRecord(salesTableLocal);
      #        }
      #        else
      #        {
      #            salesTable_ds.create();
      #        }
      #    }
      #
      #    if (mcrCustomerServiceParm == MCRCustomerServiceParam::OneTime)
      #    {
      #        salesTable_ds.create();
      #    }
      #    //Only setfocus if on the correct form view
      #    if(mcrSalesTable_SourceId.isDisplayed())
      #    {
      #        mcrSalesTable_SourceId.setFocus();
      #    }
      #    if(salesLine_ItemId.isDisplayed()) //Only setfocus if on the correct form view
      #    {
      #        salesLine_ItemId.setFocus();
      #    }
      #}
    ENDSOURCE
    SOURCE #salesTable
      #SalesTable salesTable()
      #{
      #    return salesTable;
      #}
    ENDSOURCE
    SOURCE #setBasisDate_IN
      #// <GIN>
      #public void setBasisDate_IN()
      #{
      #    CustInvoiceTrans custInvoiceTransOrig;
      #    SalesLine        salesLineOrig;
      #
      #    custInvoiceTransOrig = CustInvoiceTrans::findRecId(salesLineReturnDetails_IN.CustInvoiceTrans);
      #    salesLineOrig        = custInvoiceTransOrig.salesLine();
      #
      #    if (salesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::InvoiceDate)
      #    {
      #        salesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #    }
      #    else if (salesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::DeliveryDate)
      #    {
      #        salesLineReturnDetails_IN.BasisDate = salesLineOrig.ReceiptDateConfirmed;
      #    }
      #    salesLineReturnDetails_IN_ds.write();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setCaptionText
      #void  setCaptionText()
      #{
      #    element.design().caption(strFmt(
      #        "@SYS4009992", //'%1 %2 %3 %4 %5 %6 %7 %8'
      #            "@SYS9694",
      #            salesTable.SalesId,
      #            ',',
      #            "@HVP1703",
      #            salesTableForm.captionName(),
      #            ',',
      #            "@SYS5398",
      #            salesLine.itemName()
      #    ));
      #}
    ENDSOURCE
    SOURCE #setEditItemOrCategoryAllowed
      #/// <summary>
      #/// Enables or disables editing of the item and sales category fields.
      #/// </summary>
      #/// <param name="allowEdit">
      #/// Whether to enable editing.
      #/// </param>
      #void setEditItemOrCategoryAllowed(boolean  allowEdit)
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEdit);
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(false);
      #    }
      #    else
      #    {
      #    // </GBR>
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(allowEdit);
      #    // <GBR>
      #    }
      #    // </GBR>
      #}
    ENDSOURCE
    SOURCE #setEximFieldsAccess_IN
      #// <GIN>
      #public void setEximFieldsAccess_IN()
      #{
      #    EximParameters_IN eximParameters;
      #    boolean           isDBKEnabled;
      #    boolean           isInvoice;
      #    boolean           isDEPBApplicable;
      #
      #    if (salesTable.CustomsExportOrder_IN && TaxParameters::find().EximIncentiveSchemes_IN)
      #    {
      #        eximParameters   = EximParameters_IN::find();
      #        isInvoice        = salesLine.SalesQty > 0 ? true : false;
      #        isDBKEnabled     = isInvoice && (eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None);
      #        isDEPBApplicable = isInvoice && eximSalesLine_IN.ApplyDEPB;
      #
      #        eximIncentiveScheme_IN.visible(true);
      #        incentiveSchemeGroup_IN.visible(true);
      #
      #        eximSalesLine_IN_ApplyDEPB.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_MarketValue.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_DBKCenvatStatus.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKRateType.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKPercent.visible(eximParameters.ActivateDutyDrawback);
      #
      #        eximAA_IN.visible(eximParameters.ActivateAA);
      #        eximDFIA_IN.visible(eximParameters.ActivateDFIA);
      #
      #        eximEPCG_IN.visible(eximParameters.ActivateEPCG);
      #
      #        eximSalesLine_IN_ApplyDEPB.allowEdit(isInvoice);
      #        eximSalesLine_IN_MarketValue.allowEdit(isDEPBApplicable);
      #        eximSalesLine_IN_DBKCenvatStatus.allowEdit(isInvoice);
      #        eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_EximIncentiveSchemeGroup.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximPorts.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximProductGroupTable.allowEdit(isInvoice);
      #
      #        // buttons
      #        incentiveSchemeGroup_IN.enabled(isInvoice);
      #
      #        eximAA_IN.enabled(isInvoice);
      #        eximDFIA_IN.enabled(isInvoice);
      #
      #        eximEPCG_IN.enabled(isInvoice);
      #    }
      #    else
      #    {
      #        eximIncentiveScheme_IN.visible(false);
      #        incentiveSchemeGroup_IN.visible(false);
      #        incentiveSchemeGroup_IN.enabled(false);
      #        eximAA_IN.enabled(false);
      #        eximDFIA_IN.enabled(false);
      #
      #        eximEPCG_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnDetails_IN
      #/// <summary>
      #/// Reseting the Return Feilds when the return order becomes normal sales order.
      #/// </summary>
      #// <GIN>
      #public void setReturnDetails_IN()
      #{
      #    salesLineReturnDetails_IN.Period     = 0;
      #    salesLineReturnDetails_IN.Type       = SalesReturnType_IN::None;
      #    salesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #    salesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #    salesLineReturnDetails_IN_ds.write();
      #    salesLineReturnDetails_IN_ds.reread();
      #    salesLineReturnDetails_IN_ds.refresh();
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(false);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnFields
      #void setReturnFields()
      #{
      #    boolean     allowEditOrCreate = !salesTable.returnItem();
      #
      #    salesLine_ds.allowCreate(allowEditOrCreate);
      #
      #    // Sales header enabling and disabling
      #
      #    salesAvailableDlvDatesHeader.enabled(allowEditOrCreate && salesAvailableDlvDatesHeader.enabled());
      #
      #    salesTable_ds.object(fieldNum(SalesTable, Deadline)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, InventLocationId)).allowEdit(allowEditOrCreate );
      #    salesTable_ds.object(fieldNum(SalesTable, Reservation)).allowEdit(allowEditOrCreate);
      #
      #    salesTable_ds.object(fieldNum(SalesTable, ItemTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, CaseTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, PalletTagging)).allowEdit(allowEditOrCreate);
      #
      #    delivery.allowEdit(allowEditOrCreate);
      #    miscDelivery.allowEdit(allowEditOrCreate);
      #    transport.allowEdit(allowEditOrCreate);
      #    payment.allowEdit(allowEditOrCreate);
      #    carrierInfo.allowEdit(allowEditOrCreate);
      #
      #    tmsTransportation.allowEdit(allowEditOrCreate);
      #
      #    // Salesline enabling and disabling
      #
      #    salesAvailableDlvDatesLine.enabled(allowEditOrCreate && salesAvailableDlvDatesLine.enabled());
      #
      #    // ItemId, SalesQty, Blocked, Complete, Return lot id
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEditOrCreate && salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit());
      #    salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Blocked)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Complete)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(allowEditOrCreate);
      #
      #    // Inventory dimensions
      #    inventDim_ds.allowEdit(allowEditOrCreate);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(allowEditOrCreate);
      #
      #    // Quantity
      #    salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(allowEditOrCreate);
      #
      #    // Price discount
      #    salesLine_ds.object(fieldNum(SalesLine, LinePercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, LineDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnPercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PriceUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, SalesMarkup)).allowEdit(allowEditOrCreate);
      #
      #    // Carrier info
      #    salesLine_ds.object(fieldNum(SalesLine, ShipCarrierAccount)).allowEdit(allowEditOrCreate);
      #
      #    // Bar code
      #    salesLine_ds.object(fieldNum(SalesLine, BarCode)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, BarCodeType)).allowEdit(allowEditOrCreate);
      #
      #    // Project
      #    salesLine_ds.object(fieldNum(SalesLine, ProjId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjTransId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(allowEditOrCreate);
      #
      #    // Packing materials
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnitQty)).allowEdit(allowEditOrCreate);
      #
      #    lineDelivery.allowEdit(allowEditOrCreate);
      #    miscLineDelivery.allowEdit(allowEditOrCreate);
      #    lineInventory.allowEdit(allowEditOrCreate);
      #}
    ENDSOURCE
    SOURCE #setReturnFields_IN
      #// <GIN>
      #void setReturnFields_IN()
      #{
      #    if (salesTable.SalesType == SalesType::ReturnItem)
      #    {
      #        tabTaxInformation_IN.allowEdit(!salesLine.InventTransIdReturn);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(salesLine.SalesQty<0);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #
      #        if (ReturnDispositionCode::find(salesLine.ReturnDispositionCodeId).DispositionAction == DispositionAction::CreditOnly)
      #        {
      #            salesLine_IN.ExciseRecordType_IN = ExciseRecordType_IN::None;
      #            salesLine_IN.DirectSettlement_IN = DirectSettlement_IN::None;
      #            exciseNone_IN.allowEdit(false);
      #            exciseManufacture_IN.allowEdit(false);
      #            exciseTraders_IN.allowEdit(false);
      #        }
      #        else
      #        {
      #            exciseNone_IN.allowEdit(true);
      #            exciseManufacture_IN.allowEdit(true);
      #            exciseTraders_IN.allowEdit(true);
      #        }
      #    }
      #    else
      #    {
      #        exciseNone_IN.allowEdit(true);
      #        exciseManufacture_IN.allowEdit(true);
      #        exciseTraders_IN.allowEdit(true);
      #        tabTaxInformation_IN.allowEdit(true);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #// <GIN>
      #void setTaxWithholdEnabled_IN()
      #{
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesTable.tdsGroup_IN);
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesTable.tcsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine_IN.tdsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine_IN.tcsGroup_IN);
      #    buttonWithholdTax_IN.enabled(salesLine_IN.tdsGroup_IN || salesLine_IN.tcsGroup_IN);
      #    if (salesLine.InventTransIdReturn)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #// <GIN>
      #void setTaxWithholdVisible_IN()
      #{
      #    TaxWithholdParameters_IN    taxWithholdParameters;
      #
      #    taxWithholdParameters = TaxWithholdParameters_IN::find();
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    lineWithholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    buttonWithholdTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    withholdingTax.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTitleText
      #public void setTitleText()
      #{
      #    headerTitle.text(strFmt('%1 : %2 - %3', salesTable.SalesId,
      #                                            salesTable.CustAccount,
      #                                            salesTable.customerName()));
      #}
    ENDSOURCE
    SOURCE #setVisible_IN
      #// <GIN>
      #private void setVisible_IN()
      #{
      #    TaxParameters   taxParametersLoc        = TaxParameters::find();
      #
      #    salesLine_AssessableValue_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    salesLine_MaximumRetailPrice_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    tabTaxInformation_IN.visible(isIndiaIndirectTaxParameterMarked || TaxWithholdParameters_IN::checkTaxParameters());
      #    companyInfo.visible(isIndiaIndirectTaxParameterMarked);
      #    vat.visible(taxParametersLoc.vat_in);
      #    indiaSalesTax.visible(taxParametersLoc.SalesTax_IN);
      #
      #    excise_IN.visible(taxParametersLoc.Excise_IN);
      #    customs_IN.visible(taxParametersLoc.Customs_IN);
      #    serviceTax_IN.visible(taxParametersLoc.ServiceTax_IN);
      #
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesTable_ds.object(fieldNum(SalesTable, CustomsExportOrder_IN)).visible(taxParametersLoc.Customs_IN);
      #
      #    createExportOrder_IN.visible(taxParametersLoc.Customs_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, TaxInventVATCommodityCode_IN)).visible(taxParametersLoc.vat_in);
      #    customerReturns_IN.visible(isIndiaIndirectTaxParameterMarked);
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #showInactiveAddressBar
      #public void showInactiveAddressBar()
      #{
      #    LogisticsLocationEntity::showHideEffectiveAddressMessageBar(element, logisticsPostalAddressDeliveryHeader, logisticsPostalAddressDeliveryLine);
      #}
    ENDSOURCE
    SOURCE #tmsSetCarrierFieldsFromDlvMode
      #/// <summary>
      #///    Sets all the fields that depend on carrier.
      #/// </summary>
      #/// <param name="_dlvModeId">
      #/// The delivery mode Id
      #/// </param>
      #public void tmsSetCarrierFieldsFromDlvMode(DlvModeId   _dlvModeId)
      #{
      #    TMSCarrierService carrierService;
      #
      #    carrierService = TMSCarrierService::findByDlvModeId(_dlvModeId);
      #
      #    tmsSalesTable.CarrierCode           = carrierService.CarrierCode;
      #    tmsSalesTable.CarrierServiceCode    = carrierService.CarrierServiceCode;
      #    tmsSalesTable.ModeCode              = TMSCarrier::find(carrierService.CarrierCode).ModeCode;
      #
      #    tmsSalesTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #tmsUpdateSalesOrder
      #/// <summary>
      #/// Updates the sales order after transportation fields are updated
      #/// </summary>
      #public void tmsUpdateSalesOrder()
      #{
      #    salesTable.DlvMode = TMSCarrierService::findDlvModeId(tmsSalesTable.CarrierCode, tmsSalesTable.CarrierServiceCode);
      #
      #    salesTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode)
      #{
      #    InventMovement movement = InventMovement::construct(salesLine);
      #    Set            validInventDimDSset;
      #    InventDimControlIdCollection inventDimControlIdCollection;
      #    boolean emptyLine;
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init:
      #            if (!inventDimFormSetup)
      #            {
      #                validInventDimDSset = new Set(Types::String);
      #                validInventDimDSset.add(inventDim_ds.name());
      #                inventDimControlIdCollection = InventDimControlIdCollection::construct();
      #                inventDimControlIdCollection.add(storageDimensions.id(), false);
      #                inventDimControlIdCollection.add(trackingDimensions.id(), false);
      #                inventDimControlIdCollection.add(productDimensions.id(), false);
      #                inventDimControlIdCollection.add(inventoryDimensionsGrid.id(), true);
      #                inventDimFormSetup = InventDimCtrl_Frm_Mov_OrderLine::newFromFormMovement(element, movement, validInventDimDSset
      #                , inventDimControlIdCollection
      #                );
      #            }
      #
      #        case InventDimFormDesignUpdate::Active,
      #             InventDimFormDesignUpdate::FieldChange:
      #            emptyLine = salesLine.ItemId == '' && salesLine.SalesCategory == 0;
      #            storageDimensions.allowEdit(!emptyLine);
      #            trackingDimensions.allowEdit(!emptyLine);
      #            productDimensions.allowEdit(!emptyLine);
      #            inventoryDimensionsGrid.allowEdit(!emptyLine);
      #            if (!emptyLine)
      #            {//For performance reasons, only call the inventDimFormSetup if the order line has an item ID or Category ID.
      #                inventDimFormSetup.formActiveSetup(movement.inventDimGroupSetup(), movement);
      #                inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            }
      #            break;
      #
      #        default : throw error(strFmt("@SYS54195",funcName()));
      #    }
      #}
    ENDSOURCE
    SOURCE #updateDesign_MX
      #//<GMX>
      #public void updateDesign_MX()
      #{
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled() || EInvoiceCFDIParameters_MX::isElectronicInvoiceEnabled() )
      #    {
      #        eInvoice_MX.visible(true);
      #    }
      #    else
      #    {
      #        eInvoice_MX.visible(false);
      #    }
      #}
      #//</GMX>
    ENDSOURCE
    SOURCE #updateDesignConsInvoice_JP
      #/// <summary>
      #/// Updates the design for the consolidation invoice related controls.
      #/// </summary>
      #// <GJP>
      #void updateDesignConsInvoice_JP()
      #{
      #    if (!CustConsInvoiceType_JP::isCustConsInvoiceEnabled())
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, ConsTarget_JP)).visible(false);
      #        consTarget_JP.visible(false);
      #    }
      #}
      #// </GJP>
      #
    ENDSOURCE
    SOURCE #updateDesignForUnrealizedVAT
      #/// <summary>
      #///     Sets fields visible.
      #/// </summary>
      #//<GTH>
      #private void updateDesignForUnrealizedVAT()
      #{
      #    noteFormat_TH.visible(true);
      #    salesTable_RefInvoiceId_TH.visible(true);
      #    salesTable_RefInvoiceAmountCur_TH.visible(true);
      #    editReasonCode_TH.visible(true);
      #    salesTable_TaxAgent_TH.visible(true);
      #
      #    this.noteFormatEdit();
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #updateReturnableDetails_IN
      #/// <summary>
      #/// Return order fields specicfic india are getting updated here.
      #/// </summary>
      #// <GIN>
      #public void updateReturnableDetails_IN()
      #{
      #    SalesReturnInformation_IN           salesReturnInformation;
      #    TaxInformation_IN                   taxInformation;
      #    SalesReturn_IN                      salesReturn = SalesReturn_IN::construct(salesLine.TaxItemGroup);
      #    SalesReturnPeriodUnit_IN            salesReturnPeriodUnit = SalesReturnPeriodUnit_IN::None;
      #    SalesReturnCalculationDateType_IN   salesReturnCalculationDateType = SalesReturnCalculationDateType_IN::None;
      #    SalesLine                           salesLineOrig;
      #    CustInvoiceTrans                    custInvoiceTransOrig;
      #
      #    taxInformation         = TaxInformation_IN::find(salesLine_IN.TaxInformation);
      #    salesReturnInformation = salesReturn.getReturnInformation(taxInformation);
      #
      #    if (salesLineReturnDetails_IN.Type != SalesReturnType_IN::None && salesReturnInformation.RecId)
      #    {
      #        salesLineReturnDetails_IN.BasisType = (str2enum(salesReturnCalculationDateType, enum2Value(salesReturnInformation.BasisType)));
      #
      #        if(salesLineReturnDetails_IN.Type == SalesReturnType_IN::CustomerReturns)
      #        {
      #            salesLineReturnDetails_IN.Period     = salesReturnInformation.Period;
      #            salesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.PeriodType)));
      #        }
      #        else
      #        {
      #            salesLineReturnDetails_IN.Period     = salesReturnInformation.IncompletePeriod;
      #            salesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.IncompletePeriodType)));
      #        }
      #        if(salesLine.InventTransIdReturn)
      #        {
      #            custInvoiceTransOrig = CustInvoiceTrans::findRecId(salesLineReturnDetails_IN.CustInvoiceTrans);
      #            salesLineOrig        = custInvoiceTransOrig.salesLine();
      #            if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::InvoiceDate)
      #            {
      #                salesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #            }
      #            else if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::DeliveryDate)
      #            {
      #                salesLineReturnDetails_IN.BasisDate =  salesLineOrig.ReceiptDateConfirmed ;
      #            }
      #        }
      #        salesLineReturnDetails_IN.SalesLine_IN  = salesLine_IN.RecId;
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.write();
      #    }
      #    else
      #    {
      #        salesLineReturnDetails_IN.Period     = 0;
      #        salesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #        salesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #        salesLineReturnDetails_IN_ds.write();
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #updateRFIDTagging
      #void  updateRFIDTagging()
      #{
      #    RFIDItemTaggingLevel    taggingLevel;
      #    boolean                 itemTagging     = true;
      #    boolean                 caseTagging     = true;
      #    boolean                 palletTagging   = true;
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().InventSerialIdFlag)
      #    {
      #        if (salesLine.ItemTagging)
      #        {
      #            caseTagging = false;
      #        }
      #        else
      #        {
      #            caseTagging = true;
      #        }
      #
      #        if (salesLine.CaseTagging)
      #        {
      #            itemTagging = false;
      #        }
      #        else
      #        {
      #            itemTagging = true;
      #        }
      #    }
      #    else
      #    {
      #        itemTagging = false;
      #        caseTagging = true;
      #    }
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().wmsPalletIdFlag
      #        &&  salesline.inventTable().PalletTagging)
      #    {
      #        palletTagging = true;
      #    }
      #    else
      #    {
      #        palletTagging = false;
      #    }
      #
      #    if (itemTagging  ||  caseTagging)
      #    {
      #        taggingLevel = salesLine.inventTable().ItemTaggingLevel;
      #
      #        switch (taggingLevel)
      #        {
      #            case RFIDItemTaggingLevel::None :
      #                itemTagging = false;
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::ItemLevel :
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::CaseLevel :
      #                itemTagging = false;
      #                break;
      #        }
      #    }
      #
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).allowEdit     ( itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).skip          (!itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).allowEdit     ( caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).skip          (!caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).allowEdit   ( palletTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).skip        (!palletTagging);
      #}
    ENDSOURCE
    SOURCE #useRetailPricingEngine
      #boolean useRetailPricingEngine()
      #{
      #    return RetailPricingEngine::useRetailPricingEngineForSalesOrder(salesTable.SalesId);
      #}
    ENDSOURCE
    SOURCE #writeTmpFrmVirtual
      #//TODO IS Review code
      #// HV_06027 Create Sales Contract
      #void writeTmpFrmVirtual(TmpFrmVirtual _tmpFrmVirtual, TableId _tableId, RecId _recId, Num _id, LineNum _lineNum = 0, TransDate _transDate = systemDateGet(), Qty _qty = 0)
      #{
      #    _tmpFrmVirtual.clear();
      #
      #    _tmpFrmVirtual.tableNum     = _tableid;
      #    _tmpFrmVirtual.recordNo     = _recId;
      #    _tmpFrmVirtual.id           = _id;
      #    _tmpFrmVirtual.num          = _lineNum;
      #    _tmpFrmVirtual.transDate    = _transDate;
      #    _tmpFrmVirtual.qty          = _qty;
      #
      #    _tmpFrmVirtual.write();
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          Index               #SalesIdx
          StartPosition       #Last
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SalesId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTableForm.pdsSetHeaderAccess();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean     ret;
                #    CustTable   custTable;
                #
                #    ret = super();
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTable = CustTable::find(salesTable.CustAccount);
                #        // Do not allow a user to manually enter a phantom custAccount.
                #        if (custTable.mcrMergedParent)
                #        {
                #            ret = checkFailed(strFmt("@MCR12337", salesTable.CustAccount, custTable.mcrMergedParent));
                #        }
                #    }
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    FormRun formRun;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        formRun = classfactory.formRunClass(new Args(formStr(MCRCustLookup)));
                #        formRun.init();
                #        this.performFormLookup(formRun,_formControl);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    MCRCustPaymTable mcrCustPaymTableCount;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // Invoice account has changed so back out any existing payments
                #        select count(RecId) from mcrCustPaymTableCount
                #            where mcrCustPaymTableCount.RefRecId   == salesTable.RecId
                #               && mcrCustPaymTableCount.RefTableId == salesTable.TableId;
                #
                #        // if payment records currently exist
                #        if(mcrCustPaymTableCount.RecId > 0)
                #        {
                #            // Inform user they are about to lose their payment records and ask
                #            // if they wish to continue.
                #            if (Box::yesNo("@MCR12786", DialogButton::Yes) == DialogButton::No)
                #            {
                #                salesTable.CustAccount = salesTable.orig().CustAccount;
                #                salestable_ds.refresh();
                #                return;
                #            }
                #        }
                #    }
                #
                #    super();
                #
                #    if ((select firstonly salesLine where salesLine.SalesId == salesTable.SalesId).RecId)
                #    {
                #        salesLine_ds.executeQuery();
                #    }
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesTable_ds.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    }
                #    // </GEERU>
                #
                #    salesTable_ds.refresh();
                #
                #    salesTable_ds.rereadReferenceDataSources();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable_BR_ds.refresh();
                #    }
                #    // </GBR>
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InvoiceAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean     ret;
                #    CustTable   custTable;
                #
                #    ret = super();
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTable = CustTable::find(salesTable.InvoiceAccount);
                #        if (custTable.mcrMergedParent)
                #        {
                #            ret = false;
                #        }
                #    }
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    FormRun formRun;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // Do not display one time customers and phantom customers.
                #        formRun = classfactory.formRunClass(new Args(formStr(MCRCustLookup)));
                #        formRun.init();
                #        this.performFormLookup(formRun,_formControl);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    MCRCustPaymTable mcrCustPaymTableLocal;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // If the order was a continuity header and the invoice account was
                #        // changed the related payment was not found because it is not tied to the sales order.
                #        if (mcrSalesTable.ContinuityOrder == NoYes::Yes)
                #        {
                #            SalesTable::mcrUpdateContinuityPayments(salesTable);
                #        }
                #
                #        // Invoice account has changed so back out any existing payments
                #        select count(RecId) from mcrCustPaymTableLocal
                #            where mcrCustPaymTableLocal.RefRecId == salesTable.RecId
                #                && mcrCustPaymTableLocal.RefTableId == salesTable.TableId
                #                && mcrCustPaymTableLocal.CustAccount != salesTable.InvoiceAccount;
                #
                #        // if payment records currently exist
                #        if(mcrCustPaymTableLocal.RecId > 0)
                #        {
                #            // Inform user they are about to loose their payment records and ask
                #            // if they wish to continue.
                #            if (Box::yesNo("@MCR12782",DialogButton::Yes)==DialogButton::No)
                #            {
                #                salesTable.InvoiceAccount = salesTable.orig().InvoiceAccount;
                #                salestable_ds.refresh();
                #                return;
                #            }
                #        }
                #    }
                #
                #    super();
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesLine_ds.reread();
                #        salesLine_ds.refresh();
                #    }
                #    // </GEERU>
                #
                #    //IMP0321_HV_06002
                #    salesTable.setTaxGroup(salesTable.getSalesTaxGroup());
                #    salesTable.setCustVATNumber();
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #
                #    //<--B.Idesman 04.12.2014 imp0310
                #
                #    // HV_06020_PaymentTermsAndSchedule -->
                #    //if (isConfigurationKeyEnabled(configurationKeyNum(CRSEBulgaria)))
                #    {
                #         salesTable.calcDue_BG();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    // <GEEU>
                #    salesTable.initBankAccounts_LV();
                #    BankAccountTable::checkDefaultGiroBank_W(salesTable.CurrencyCode);
                #    salesTable_ds.refresh();
                #    // </GEEU>
                #
                #    if (TaxParameters::find().Customs_IN)
                #    {
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export, systemDateGet(), false);
                #        }
                #    }
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)).mandatory(salesTable.dlvModeMandatory());
                #
                #    //<--B.Idesman 04.12.2014 imp0310
                #    {
                #         salesTable.calcDue_BG();
                #    }
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CashDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    CashDisc    cashDisc;
                #
                #    super();
                #
                #    cashDisc = CashDisc::find(salesTable.CashDisc);
                #    salesTable.CashDiscPercent = cashDisc.Percent;
                #
                #    salesTable.dataSource().refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DiscPercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRetailOrder)
                #    {
                #        retailOrderNeedRecalculation = true;
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = super();
                #
                #    if (ret && mcrCallCenterEnabled && enableOrderPriceControl)
                #    {
                #        ret = salesTable_ds.mcrGetOverrideResponse();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    MCRExpedite mcrExpedite = DlvMode::find(salesTable.DlvMode).mcrExpedite;
                #
                #    super();
                #
                #    if (mcrSalesTableShipping.Expedite != mcrExpedite)
                #    {
                #        mcrSalesTableShipping.Expedite = mcrExpedite;
                #        salesTable.mcrPackMCRSalesTableShipping(mcrSalesTableShipping);
                #    }
                #
                #    salesTable_ds.refreshDDC();
                #
                #    element.tmsSetCarrierFieldsFromDlvMode(salesTable.DlvMode);
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    element.changeType();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyAutoCreateOrders
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (salesTable.InterCompanyAutoCreateOrders)
                #    {
                #        salesTableForm.interCompanyAutoCreateOrdersNow(true);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymentSched
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    if (salesTable.PaymentSched)
                #    {
                #        buttonPaymentSchedule.enabled(true);
                #    }
                #    else
                #    {
                #        buttonPaymentSchedule.enabled(false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnItemNum
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    salesTable.jumpRefReturnItemNum(element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContactPersonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #
                #    //IMP0321_HV_06002 ->
                #    salesTable.setTaxGroup(salesTable.getSalesTaxGroup());
                #    salesTable.setNumberSequenceGroup();
                #    salesTable.setCompanyVATNumber();
                #    //<-
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable.InventSiteId)
                #    {
                #        InventLocation::lookupBySiteIdAllTypes(_formControl, salesTable.InventSiteId);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VATNum
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::jumpRefVATNum(salesTable, element);
                #    }
                #    else
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::lookupVATNum(vatNum,salesTable);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EInvoiceLineSpec
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.showDimAccount();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD NumberSequenceGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// IS HVP.IMP0488 K.Iliev 18.02.2015
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //super(_formControl, _filterStr);
                #    SalesTable::IS_lookupNumberSeqGroup(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable.DirectDebitMandate = CustDirectDebitMandate::defaultAndDisplayMandate(
                #        salesTable.InvoiceAccount,
                #        salesTable.PaymMode,
                #        salesTable.DirectDebitMandate,
                #        false,
                #        salesTable_ds,
                #        fieldNum(SalesTable, DirectDebitMandate));
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FixedDueDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    PaymCalendarAdjustedDate        paymCalendarAdjustedDate;
                #
                #    super();
                #
                #    // perform the payment calendar work only for the required countries
                #    if (SysCountryRegionCode::isLegalEntityInConsolidatedCountryRegion() && salesTable.FixedDueDate)
                #    {
                #        paymCalendarAdjustedDate = PaymCalendarSourceSalesOrder::getAdjustedDate(salesTable);
                #
                #        salesTable.FixedDueDate = PaymCalendarProcessor::getAdjustedDueDate(salesTable.FixedDueDate, priorDueDate, paymCalendarAdjustedDate);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyOrder
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ShippingDateConfirmed
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    //<--B.Idesman 04.12.2014 imp0310
                #         salesTable.calcDue_BG();
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryDateControlType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #
                #
                #    //IMP0321_HV_06002 ->
                #    salesTable.setTaxGroup(salesTable.getSalesTaxGroup());
                #    salesTable.setCustVATNumber();
                #    // <--
                #
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesTaker
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD BankDocumentType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.configBankDocumentControls();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Destination_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified() //IMP0211_HV_06001
                #{
                #
                #    SalesLine  lSalesLine;
                #    SalesId     lSalesid;
                #    SalesTable lSalesTable;
                #
                #    lSalesTable = SalesTable_ds.cursor();
                #
                #    while select forUpdate lsalesline where lsalesline.salesid == lSalestable.salesid
                #    {
                #        lSalesLine.Destination_HV = lSalesTable.Destination_HV;
                #        lSalesLine.update();
                #        SalesLine_ds.reread();
                #    }
                #
                #
                #    //IS VK - SKIPPED - CHANGING THE FIELD Destination_HV in SalesLine
                #    /*
                #
                #    DimensionAttribute regionDimAttribute;
                #    DimensionAttributeValue regionDimAttributeValue, regionDimAttributeValueLocal;
                #    DimensionAttributeValueSetStorage dimAttrValueSetStorage, dimAttrValueSetStorageLocal;
                #    RecId dimAttributevalueRecId, defaultDim;
                #
                #    super();
                #
                #    regionDimAttribute = DimensionAttribute::findByName("Region");
                #
                #    dimAttrValueSetStorage = DimensionAttributeValueSetStorage::find(LogisticsAddressCountryRegion::find(SalesTable.Destination_HV).DefaultDimension);
                #    dimAttributevalueRecId = dimAttrValueSetStorage.getValueByDimensionAttribute(regionDimAttribute.RecId);
                #
                #    regionDimAttributeValue = DimensionAttributeValue::find(dimAttributevalueRecId);
                #
                #
                #
                #    if(dimAttributevalueRecId)
                #    {
                #
                #        dimAttrValueSetStorageLocal = DimensionAttributeValueSetStorage::find(SalesLine.DefaultDimension);
                #
                #        dimAttrValueSetStorageLocal.addItem(regionDimAttributeValue);
                #        defaultDim = dimAttrValueSetStorage.save();
                #        SalesTable.DefaultDimension = defaultDim;
                #    }
                #
                #    */
                #
                #
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ShipmentDate_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    //<--B.Idesman 02.12.2014 imp0310
                #    salesTable.calcDue_BG();
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AWBDate_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    //<--B.Idesman 04.12.2014 imp0310
                #    salesTable.calcDue_BG();
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BillOfLadingDate_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #//<--B.Idesman 08.12.2014 imp0310
                #//code added as in ax 2009
                #public void modified()
                #{
                #    InventDim       inventDimNew;
                #
                #
                #    super();
                #
                #    salesTable.initFromPayment();
                #
                #    salesTable.calcDue_BG();
                #
                #    while select forupdate salesLine
                #           where salesLine.SalesId == salesTable.SalesId
                #    {
                #        inventDimNew = InventDim::find(salesLine.InventDimId);
                #        inventDimNew.inventSerialId = salesTable.Consignment_HV ? salesTable.CustAccount : '';
                #        salesLine.InventDimId = InventDim::findOrCreate(inventDimNew).inventDimId;
                #
                #        salesLine.update();
                #
                #        inventDim_ds.reread();
                #    }
                #}
                #//-->
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BillOfLading_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    //<--B.Idesman 02.12.2014 imp0310
                #    super();
                #    salesTable.calcDue_BG();
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, CompanyInfo::standardCurrency());
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurBankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, salesTable.CurrencyCode);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MCROrderStopped
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesResponsible
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #performIntercompanyValidation
          #/// <summary>
          #/// Checks should intercompany validation be performed for the current sales order.
          #/// </summary>
          #/// <returns>
          #/// true if intercompany validation is necessary; otherwise, false.
          #/// </returns>
          #public boolean performIntercompanyValidation()
          #{
          #    if (performIntercompanyValidationCache == UnknownNoYes::Unknown)
          #    {
          #        performIntercompanyValidationCache = salesTable.isInterCompanyOrder() || InterCompanyPurchSalesReference::isSalesTableReferenced(salesTable.SalesId)
          #            ? UnknownNoYes::Yes
          #            : UnknownNoYes::No;
          #    }
          #
          #    return performIntercompanyValidationCache == UnknownNoYes::No ? false : true;
          #}
        ENDSOURCE
        SOURCE #enableRetailFields
          #/// <summary>
          #/// Makes manual discount percentage field visible and disable <c>SalesLine</c> dicount fields.
          #/// </summary>
          #/// <param name="_enableRetailDiscountFields">
          #/// The flag to enable disable specific fields.
          #/// </param>
          #/// <remarks>
          #/// Use for retail orders.
          #/// </remarks>
          #private void enableRetailFields(boolean _enableRetailDiscountFields)
          #{
          #     salesLine_ds.object(fieldNum(SalesLine, LineDisc)).enabled(!_enableRetailDiscountFields);
          #     salesLine_ds.object(fieldNum(SalesLine, LinePercent)).enabled(!_enableRetailDiscountFields);
          #
          #     retailSalesLine_ds.object(fieldNum(RetailSalesLine, LineManualDiscountPercentage)).visible(_enableRetailDiscountFields);
          #
          #     buttonRetailRecalculator.enabled(_enableRetailDiscountFields);
          #}
        ENDSOURCE
        SOURCE #isRetailOrder
          #display public NoYes isRetailOrder()
          #{
          #    return isRetailOrder;
          #}
        ENDSOURCE
        SOURCE #unpackExtensions
          #/// <summary>
          #/// Unpacks all prioritized packed <C>SalesTable</C> extension tables.
          #/// </summary>
          #private void unpackExtensions()
          #{
          #    salesTable.SysExtensionSerializerMap::unpackAll(true);
          #}
        ENDSOURCE
        SOURCE #packExtensions
          #/// <summary>
          #/// Packs prioritized <C>SalesTable</C> extension tables.
          #/// </summary>
          #public void packExtensions()
          #{
          #    salesTable.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesTable);
          #    salesTable.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesTableShipping);
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    this.packExtensions();
          #    super();
          #    this.unpackExtensions();
          #}
        ENDSOURCE
        SOURCE #tmsDisplayRouteCode
          #/// <summary>
          #/// Displays the Route associated with the Sales order, if applicable.
          #/// </summary>
          #/// <returns>
          #/// The Route code if there is only one associated with the order, otherwise an empty string or "Multiple".
          #/// </returns>
          #public display TMSRouteCode tmsDisplayRouteCode()
          #{
          #    return salesTableForm.tmsDisplayRouteCode(salesTable);
          #}
        ENDSOURCE
        SOURCE #mcrGetOverrideResponse
          #/// <summary>
          #/// Prompts the user for a reason code when overriding the discount percent field.
          #/// </summary>
          #/// <returns>
          #/// true if the discount percent can be changed; otherwise, false.
          #/// </returns>
          #public boolean mcrGetOverrideResponse()
          #{
          #    boolean                     currentUserPermission;
          #    container                   userIdReasonCode;
          #    MCROverrideLogin            mcrOverrideLogin;
          #    Args                        args;
          #    RetailInformationSubcodeId  reasonCode;
          #    boolean                     cancelOverride;
          #
          #    #define.Cancel('Cancel')
          #
          #    // only check override parameters if the system parameter is set to true
          #    if(enableOrderPriceControl)
          #    {
          #        if(MCRPriceOverrideMarkUpGroup::validatePercent(salesTable.DiscPercent))
          #        {
          #            // See if the current user has permission to override the disc pct.  If
          #            // not, call the form for a different user to log in.
          #            mcrOverrideLogin = new MCROverrideLogin();
          #
          #            //  Check user's price override permissions.  If the user doesn't have
          #            //  permission, pop up a dialog.
          #            currentUserPermission = mcrOverrideLogin.isUserValid(curUserId(),
          #                                                                salesTable.DiscPercent,
          #                                                                fieldNum(MCRPriceOverrideMarkUpGroup,
          #                                                                DiscPercentOverride));
          #
          #            // Do not allow the user to manipulate the form while a dialog is open.
          #            element.mcrDisableForm();
          #
          #            // if the current user does not have permission
          #            if (!currentUserPermission)
          #            {
          #                args = mcrOverrideLogin.launchPriceOverrideLogin(salesTable,
          #                                                                NoYes::Yes,
          #                                                                fieldNum(SalesTable, DiscPercent));
          #
          #                // if the user did not cancel out or close using the X with out first getting a valid login
          #                // from the override form it means that someone had a successful override
          #                if (args.parm() != #Cancel)
          #                {
          #                    mcrSalesTable.PriceOverride = NoYes::Yes;
          #                    // the args.parm passes out user id and reason code
          #                    userIdReasonCode = str2con(args.parm());
          #                    element.mcrHeaderPriceOverride(false,
          #                                                   conPeek(userIdReasonCode,2),
          #                                                   conPeek(userIdReasonCode,1));
          #                }
          #                else
          #                {
          #                    cancelOverride = true;
          #                }
          #            }
          #            else  //if current user can override the price.
          #            {
          #                reasonCode = mcrOverrideLogin.launchPriceOverrideReasonCode(salesTable,
          #                                                                            NoYes::Yes);
          #                if (reasonCode != #Cancel)
          #                {
          #                    mcrSalesTable.PriceOverride = NoYes::Yes;
          #                    element.mcrHeaderPriceOverride(false,
          #                                                  reasonCode,
          #                                                  curUserId());
          #                }
          #                else
          #                {
          #                    cancelOverride = true;
          #                }
          #            }
          #            element.mcrEnableForm();
          #        }
          #        else
          #        {
          #            cancelOverride = true;
          #        }
          #
          #        element.mcrSetHeaderControls();
          #    }
          #
          #    return !cancelOverride;
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    salesTable.PackedExtensions         = salesTable.orig().PackedExtensions;
          #    salesTable.PackedPrioritizedIdList  = salesTable.orig().PackedPrioritizedIdList;
          #
          #    ret = super(_forceUpdate);
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        mcrParmsSet = false;
          #    }
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #boolean validateDelete()
          #{
          #    boolean ret;
          #
          #    // Are you sure you want to delete replacement order? A return order is attached.
          #    if (salesTable.ReturnItemNum && SalesTable::findReturnItemNum(salesTable.ReturnItemNum).ReturnReplacementId == salesTable.SalesId
          #        && Box::yesNo("@SYS106592", DialogButton::No) == DialogButton::No)
          #    {
          #        ret = false;
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reRead()
          #{
          #    // Rereading was causing an error when the sales line wouldn't get saved,
          #    // but the focus would be taken off the line.  This ensures an unsaved sales line is cleared
          #    // before the view is refreshed.
          #    if (! salesLine.RecId)
          #    {
          #        salesLine.clear();
          #    }
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceDelete(element, salesTable_ds, true);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #boolean validateWrite()
          #{
          #    boolean                     ret;
          #    // <GEERU>
          #    List                        salesTable2LineUpdateFields;
          #    ListEnumerator              salesTable2LineUpdateFieldsEnumerator;
          #    SalesTable2LineField        salesTable2LineField;
          #    // </GEERU>
          #
          #    if (salesTable.RecId != 0
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesTable.DeliveryDateControlType  = SalesDeliveryDateControlType::None;
          #    }
          #
          #    this.packExtensions();
          #    ret = super();
          #    this.unpackExtensions();
          #
          #    if (!askingModifyInvoiced && ret && !salesTable.Touched)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate(true, this.performIntercompanyValidation());
          #        askingModifyInvoiced = false;
          #    }
          #
          #    if (ret && salesTableType && !salesTableType.formMethodDataSourceValidateWrite(element, salesTable_ds))
          #    {
          #        ret = false;
          #    }
          #
          #    if (ret && salesTable.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(salesTable);
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesTable.TaxGroup != salesTable.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesTable.TableId, salesTable.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #
          #    if (ret)
          #    {
          #        salesTable2LineUpdatePrompt = SalesTable2LineUpdatePrompt::newFromSalesTableWithMarkupParams(salesTable, copyTaxGroupToMarkupTrans);
          #
          #        ret = salesTable2LineUpdatePrompt.extendedPrompt();
          #    }
          #
          #    // <GEERU>
          #    if (isRU
          #        && ret
          #        && salesTable2LineUpdatePrompt)
          #    {
          #        salesTable2LineUpdateFields = List::create(salesTable2LineUpdatePrompt.packedSalesTable2LineUpdateFields());
          #        salesTable2LineUpdateFieldsEnumerator = salesTable2LineUpdateFields.getEnumerator();
          #
          #        while (salesTable2LineUpdateFieldsEnumerator.moveNext())
          #        {
          #            salesTable2LineField = salesTable2LineUpdateFieldsEnumerator.current();
          #
          #            if (salesTable2LineField.fieldId()          == fieldNum(SalesTable_RU, InventProfileId_RU) &&
          #                salesTable2LineField.updateSalesLines() == NoYes::No)
          #            {
          #                // must be checked for possible inconsistence if user did not select to propagate inventProfileId to the order lines
          #                // otherwise it will be checked on sales order validateWrite() method
          #                ret = salesTable.checkInventProfile_RU(true);
          #            }
          #        }
          #    }
          #    // </GEERU>
          #
          #
          #    //ISVK && ISBF
          #    if ( curext() == '510' && SalesTable.isCreditNote_PL() )
          #        ret = true;
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    boolean                 copyThirdPartyBillingAddress;
          #    boolean                 convertCurrency = false;
          #    TradeCurencyConversion  tradeCurencyConversion = TradeCurencyConversion::ExchRate;
          #    boolean                 salesLineExists;
          #    boolean                 markupTransExists;
          #    boolean                 mustReread;
          #    MCRCustPaymTotals       mcrCustPaymTotals;
          #    SalesLine               salesLineLocal;
          #    TMSSalesTable           newTMSSalesTable;
          #
          #    // <GEEPL>
          #    RefRecId                serviceTariffNumber;
          #    // </GEEPL>
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        salesLineExists = SalesLine::exist(salesTable.SalesId);
          #        markupTransExists = MarkupTrans::exist(salesTable.TableId, salesTable.RecId);
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #            {
          #                // If one or more payments disallows changing the currency,
          #                //  do not perform the currency conversion.
          #                mcrCustPaymTotals = MCRCustPaymTotals::construct(salesTable.TableId, salesTable.RecId);
          #
          #                if (mcrCustPaymTotals && !mcrCustPaymTotals.allowEditCurrency())
          #                {
          #                    convertCurrency = false;
          #                }
          #
          #                else
          #                {
          #                    [convertCurrency, tradeCurencyConversion] = SalesTable::promptConvertCurrencyCode(salesTable);
          #                }
          #            }
          #        }
          #
          #        if (salesLineExists)
          #        {
          #            if (salesTable.ShipCarrierPostalAddress != salesTable.orig().ShipCarrierPostalAddress)
          #            {
          #               copyThirdPartyBillingAddress = SalesTable::promptCopyThirdPartyBillingAddress() == DialogButton::Yes;
          #            }
          #        }
          #
          #        ttsbegin;
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.updateDeliveryDateAndCopyAddress(salesTable.SalesId);
          #        }
          #        if (copyThirdPartyBillingAddress)
          #        {
          #            salesTable.copyThirdPartyBillingAddressToLine();
          #        }
          #
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (convertCurrency)
          #            {
          #                salesTable.convertCurrencyCode(salesTable.CurrencyCode, tradeCurencyConversion);
          #            }
          #            else
          #            {
          #                // Cancel has been choosen in the Convert Currency Code dialogue:
          #                //      No attempts to recalc currency code should be made;
          #                //      All changes made to the currency code have to be rolled back;
          #                //      No additional warnings should be issued concerning currency code change operation.
          #                if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #                {
          #                    salesTable.CurrencyCode = salesTable.orig().CurrencyCode;
          #                }
          #            }
          #        }
          #
          #        salesTable.Touched = NoYes::No;
          #
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #        }
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesTable.TableId, salesTable.RecId, salesTable.TaxGroup, salesTable.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerTable.writing();
          #
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #        // </GEEPL>
          #        //<GTH>
          #        if (TaxThaiGovCertificationFeatureChecker::isTaxBranchEnabled())
          #        {
          #            salesTableExtensionTH.TaxBranch = TaxBranchType::getTaxBranchRecIdByDefaultDimension(salesTable.DefaultDimension);
          #        }
          #        //</GTH>
          #        //Save off the original value of the DiscPercent in case it has been changed.
          #        //If it has been changed, an order event will be written after the call to super().
          #        mcrHeaderPriceOverrideDiscPct = salesTable.orig().DiscPercent;
          #
          #        this.packExtensions();
          #        super();
          #        this.unpackExtensions();
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesTable_Intrastat)))
          #        {
          #            salesTable_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GEECZ>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesTable_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GBR>
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffHeader.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffHeader.ParentRecId = salesTable.RecId;
          #            taxServiceTariffHeader.ParentTableId = salesTable.TableId;
          #        }
          #        // </GEEPL>
          #
          #        if (isSalesTableExtensionTHEnabled)
          #        {
          #            salesTableExtensionTH.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        if (isSalesTableWEnabled)
          #        {
          #            salesTable_W.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #
          #        salesTableForm.salesTable(salesTable);
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.run();
          #            salesTable2LineUpdatePrompt = null;
          #            mustReread = true;
          #        }
          #        // Write order event if total discount has been overridden.
          #        if (mcrHeaderPriceOverrideUserId
          #            && salesTable.DiscPercent != mcrHeaderPriceOverrideDiscPct)
          #        {
          #            element.mcrInsertPriceOverrideOrderEvent();
          #            mcrHeaderPriceOverrideDiscPct = salesTable.DiscPercent;
          #        }
          #
          #        if (isRetailOrder && retailOrderNeedRecalculation)
          #        {
          #            element.recalculateRetailPricesDiscounts();
          #        }
          #
          #        ttscommit;
          #
          #        if (mustReread)
          #        {
          #            // If updating header and there are no salesLines, don't research so the line being created isn't lost.
          #            // Will still lose blank salesLine if a salesLine has already been saved
          #            select firstonly salesLineLocal
          #                where salesLineLocal.SalesId == salesTable.SalesId;
          #            if (salesLineLocal
          #                || (! salesLineLocal && salesLine))
          #            {
          #                salesLine_ds.research();
          #            }
          #        }
          #
          #        salesTableType = null;
          #    }
          #
          #    if (!tmsSalesTable.isTmp()) // No need to query for TMSSalesTable if it is disabled
          #    {
          #        newTMSSalesTable = TMSSalesTable::find(salesTable.SalesId);
          #
          #        tmsSalesTable.data(newTMSSalesTable);
          #        tmsSalesTable.reread();
          #    }
          #
          #    if (headerError)
          #    {
          #        element.gotoLines();
          #    }
          #    // Records that the order has been opened and which one it is.
          #    if (salesTable.SalesStatus == SalesStatus::Backorder
          #        && enableOrderCompletion)
          #    {
          #        openOrderSalesTable = salesTable.data();
          #    }
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ProjTable                       projTableLink;
          #    ProjInvoiceTable                projInvoiceTableLink;
          #    ProjWIPTable                    projWIPTable;
          #    CostControlTransCommittedCost   costControlTransCommittedCost;
          #    QueryBuildRange                 projIdSalesTable;
          #    TAMDeduction                     tamDeduction;
          #
          #    if (skipLinkActive)
          #    {
          #        return;
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(CostControlTransCommittedCost):
          #            costControlTransCommittedCost =  element.args().record() as CostControlTransCommittedCost;
          #            queryBuildRangeSalesId.value(queryValue(costControlTransCommittedCost.RefId));
          #            break;
          #
          #        case tableNum(ProjTable)        :
          #            projTableLink = element.args().record() as ProjTable;
          #            queryBuildRangeProjId.value(projTableLink.ProjId+'*');
          #            break;
          #        case tableNum(ProjInvoiceTable):
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projInvoiceTableLink   = element.args().record() as ProjInvoiceTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #            break;
          #
          #        case tableNum(ProjWIPTable)     :
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projWIPTable   =   element.args().record() as ProjWIPTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.wipProject  == projWIPTable.ProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #
          #            break;
          #
          #            case tableNum(smmActivities) :
          #            smmActivityParentLink::updateQuery(this.query().dataSourceTable(tableNum(SalesTable)), element.args().record() as smmActivities);
          #            break;
          #            // If deduction has salesId specified, show that sales order, otherwise
          #            // show all sales orders with invoice account equal to deduction's account
          #            case tableNum(TAMDeduction)     :
          #                // Clear ranges
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).
          #                    clearRange(fieldNum(SalesTable, InvoiceAccount));
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).
          #                    clearRange(fieldNum(SalesTable, SalesId));
          #                tamDeduction.data(element.args().record());
          #                if (tamDeduction.SalesId)
          #                {
          #                    // If deduction has SalesId just show that sales order
          #                    salesTable_ds.query().dataSourceTable(tableNum(SalesTable))
          #                        .addRange(fieldNum(SalesTable, SalesId)).value(tamDeduction.SalesId);
          #                }
          #                else
          #                {
          #                    // If no SalesId specified show all sales orders with invoice
          #                    // account equal to deduction's account
          #                    salesTable_ds.query().dataSourceTable(tableNum(SalesTable))
          #                        .addRange(fieldNum(SalesTable, InvoiceAccount)).value(tamDeduction.AccountNum);
          #                }
          #                break;
          #    }
          #
          #    if (salesTableForm.linkActive())
          #    {
          #         salesTableForm.salesTable(element.args().record() as SalesTable);
          #         salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
          #    }
          #
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceLinkActive(element, salesTable_ds);
          #    }
          #
          #    // Only run super if this is not a sales order created from customer
          #    // maintenance, otherwise when allow open orders is off, it will launch the pop-up error
          #    // when loading the sales form.
          #    if (!enterOrderFromNewCust)
          #    {
          #        super();
          #        enterOrderFromNewCust = false;
          #    }
          #    linkActiveHeaderExecuted = false;
          #}
        ENDSOURCE
        SOURCE #init
          #void  init()
          #{
          #    Query           query;
          #    QueryBuildRange queryBuildRange;
          #    ProdTable       prodTable;
          #    CustTable       custTable;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProjTable) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeProjId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId));
          #            salesTable_ds.query(query);
          #            break;
          #
          #        case tableNum(CostControlTransCommittedCost) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeSalesId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, SalesId));
          #            salesTable_ds.query(query);
          #            break;
          #    }
          #
          #    super();
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        mcrParmsSet = false;
          #    }
          #    if ((TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTable))
          #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTableListPage)))
          #        && element.args().record().TableId == tableNum(CustTable))
          #    {
          #        this.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #        custTable = element.args().record() as CustTable;
          #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, CustAccount),element.args().record(),fieldNum(CustTable, AccountNum));
          #        queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, CustAccount));
          #        if (queryBuildRange)
          #        {
          #            queryBuildRange.value(custTable.AccountNum);
          #        }
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProdTable) :
          #            prodTable = element.args().record() as ProdTable;
          #            if (prodTable.InventRefType == InventRefType::Sales && prodTable.InventRefId)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, SalesId),element.args().record(),fieldNum(ProdTable, InventRefId));
          #                queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, SalesStatus));
          #                if (queryBuildRange)
          #                {
          #                    queryBuildRange.value(SysQuery::valueUnlimited());
          #                }
          #            }
          #            break;
          #        // For deductions clear link because filter changes (see linkActive)
          #        case tableNum(TAMDeduction) :
          #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #            break;
          #    }
          #
          #    salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editContactPersonName));
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonCode), true);
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonComment), true);
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU), true);
          #    }
          #    // </GEERU>
          #
          #    //IS HUVEPHARMA_AX_IMPL IMP0321 B.FILIPOV 23.12.2014 ->
          #    salesTable.setCustVATNumber();
          #    //<-
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    if (salesTable.checkDelete())
          #    {
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceDelete(element, salesTable_ds);
          #        }
          #
          #        if (mcrCallCenterEnabled)
          #        {
          #            // Need to know when the exchange order was deleted
          #            if(returnProcessing && salesTable.ReturnReplacementId)
          #            {
          #                // Need to know the user deleted.
          #                element.args().parm('ExchangeDeleted');
          #            }
          #
          #            // Prevent leave method from firing on a delete which
          #            // was setting invalid errors.
          #            deleting = true;
          #        }
          #
          #        super();
          #        dimensionDefaultingControllerTable.deleted();
          #
          #        if (mcrCallCenterEnabled)
          #        {
          #            deleting = false;
          #            element.mcrCloseDownOrderEntry();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    SalesTable    newSalesTable;
          #    TMSSalesTable newTMSSalesTable;
          #    MCRSalesTable newMCRSalesTable;
          #    MCRSalesTableShipping newMCRSalesTableShipping;
          #    MCRSourceCode       mcrSourceCode;
          #    CustTable           custTableLocal;
          #
          #    //IMPO235_HV_06047_NumberSequences ->
          #    NumberSeqFormHandler    numberSeqFormHandlerSalesId;
          #    NumberSequenceTable     NumberSequenceTable;
          #    Args                    args;
          #    FormRun                 FormRun;
          #    //<-
          #
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    element.editSales(true);
          #
          #    mcrParmsSet = false;
          #    // If we are called from CustomerService and we already have
          #    // created a Sales Order do NOT allow ctrl-n.
          #    if (salesTable.SalesId && mcrCustomerServiceParm)
          #    {
          #        return;
          #    }
          #
          #    // Refactored logic to run do not allow open order logic in a separate method.
          #    // Need to know whether or not the new create was allowed, if it is not
          #    // return out of the create function.
          #    if (!element.mcrCheckOpenOrder())
          #    {
          #        return;
          #    }
          #
          #    // Initialize the image for each line to a "blank" image.
          #    if (enableDirectedSelling)
          #    {
          #        mcrImageUrl = '';
          #    }
          #
          #    // If we were called from CustomerService or CustTable and we need to
          #    // create a new Sales Order do it here and not in SalesCreateOrder.
          #    // Added new parameter of FormOpenModeForNew
          #    if (mcrCustomerServiceParm    != MCRCustomerServiceParam::None
          #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Add
          #        && mcrCustomerServiceParm != MCRCustomerServiceParam::FormOpenModeForNew)
          #    {
          #        if(element.args().record().TableId == tableNum(CustTable))
          #        {
          #            custTableLocal = element.args().record();
          #        }
          #        salesCreateOrderForm = SalesCreateOrderForm::construct(salesTableForm.defaultSalesType(),
          #                                                               salesTableForm.project());
          #        // When coming from cust service or cust maintenance, open form in simple mode.
          #        if (!salesTable.SalesId)
          #        {
          #            super(append);
          #
          #            if (!salesTableType)
          #            {
          #                salesTableType = salesTable.type();
          #            }
          #
          #            //IMP0306_HV_06047_NumberSequences ->
          #            if (SalesParameters::find().NumberSequenceSelect==NoYes::Yes)
          #            {
          #
          #                args = new args();
          #                args.name(formStr(IS_NumSequence));
          #                args.parmEnum(numberSequenceType_HV::SalesOrder);
          #
          #                FormRun = ClassFactory.formRunClass(args);
          #                FormRun.init();
          #                FormRun.run();
          #                FormRun.wait();
          #
          #                if(FormRun.closedOk())
          #                {
          #                    NumberSequenceTable = FormRun.args().record();
          #
          #                    numberSeqFormHandlerSalesId = NumberSeqFormHandler::newForm(NumberSequenceTable.RecId,
          #                                                                                element,
          #                                                                                salesTable_ds,
          #                                                                                fieldNum(SalesTable, SalesId)
          #                                                                                );
          #                }
          #            }
          #            //<-
          #
          #            //Only setfocus if on the correct form view
          #            if(tabPageDetails.isDisplayed())
          #            {
          #                lineViewTab.setFocus();
          #            }
          #            salesTableType.formMethodDataSourceCreate(element, salesTable_ds);
          #
          #            salesTable.CustAccount = custTableLocal.AccountNum;
          #
          #
          #            salesTable.transferCustAccount();
          #
          #            ttsbegin;
          #
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #            if (salesTable.ProjId)
          #            {
          #                salesTable.initFromProjInvoiceTable();
          #            }
          #
          #
          #            salesTable.insert();
          #
          #            // Records that the order has been opened and which one it is.
          #            if (enableOrderCompletion)
          #            {
          #                openOrderSalesTable = salesTable.data();
          #            }
          #
          #            ttscommit;
          #
          #            if (isSalesTableExtensionTHEnabled || isSalesTableWEnabled)
          #            {
          #                salesTable_DS.research(true);
          #            }
          #
          #            // If creating a sales order from a new customer from CustTable
          #            if(mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew)
          #            {
          #                mcrSalesTable.SourceId = custTableLocal.mcrCustTable().OrigSourceId;
          #
          #                mcrLastSourceId = mcrSalesTable.SourceId;
          #
          #                ttsbegin;
          #                SalesTable::find(salesTable.SalesId, true);
          #                mcrSourceCode = MCRSourceCode::construct(salesTable);
          #                mcrSourceCode.mcrInitFromSourceCodeSetup(MCRSourceCodeSetup::find(mcrSalesTable.SourceId), salesTable.CustAccount);
          #                salesTable.update();
          #                ttscommit;
          #
          #                salesTable_ds.refresh();
          #                // Immediatlly refresh the sales line
          #                salesLine_ds.executeQuery();
          #                salesLine_ds.refresh();
          #            }
          #            // Set field as touched so that when a user clicks off that record,
          #            // validateWrite is called.
          #            this.forceWrite(true);
          #        }
          #    }
          #    else
          #    {
          #        if(salesTableForm.create())
          #        {
          #            if (skipLinkActive)
          #            {
          #                skipLinkActive = false;
          #                if (!linkActiveHeaderExecuted)
          #                {
          #                    this.linkActive();
          #                }
          #            }
          #
          #            newSalesTable = salesTableForm.salesTable();
          #
          #            if (newSalesTable)
          #            {
          #                super(append);
          #
          #                salesTable.data(newSalesTable);
          #
          #                salesTable_DS.rereadReferenceDataSources();
          #
          #                // <GEERU>
          #                if (isRU)
          #                {
          #                    salesTable_RU.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_RU.TableId,
          #                                                                                      salesTable.RecId,
          #                                                                                      true));
          #                    salesTable_RU_DS.rereadReferenceDataSources();
          #                }
          #                // </GEERU>
          #                // <GBR>
          #                if (BrazilParameters::isEnabled())
          #                {
          #                    salesTable_BR.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_BR.TableId,
          #                                                                                      salesTable.RecId,
          #                                                                                      true));
          #
          #                    salesTable_BR_DS.rereadReferenceDataSources();
          #                }
          #                // </GBR>
          #
          #                // <GEERU><GBR>
          #                if (isRU || BrazilParameters::isEnabled())
          #                {
          #                    salesTable_ds.refresh();
          #                }
          #                // </GBR></GEERU>
          #
          #                //<GTH>
          #                if (isSalesTableExtensionTHEnabled || isSalesTableWEnabled)
          #                {
          #                    salesTable_DS.research(true);
          #                }
          #                //</GTH>
          #
          #                lineViewTab.setFocus();
          #
          #                // Context is now editing. If FormOpenMode is ForNew, change it to ForEdit
          #                if (TradeFormHelper::isOpenedForNew(element.args()))
          #                {
          #                    element.args().parmEnum(enum2int(FormOpenMode::ForEdit));
          #                }
          #            }
          #        }
          #        else
          #        {
          #            // If form was opened for the intent of creating new record, and with the given caller, then close form
          #            if (TradeFormHelper::isOpenedForNewFromForm(element.args()))
          #            {
          #                element.close();
          #            }
          #            else
          #            {
          #                element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #            }
          #        }
          #    }
          #
          #    if (!tmsSalesTable.isTmp()) // No need to query for TMSSalesTable if it is disabled
          #    {
          #        newTMSSalesTable = TMSSalesTable::find(salesTable.SalesId);
          #
          #        tmsSalesTable.data(newTMSSalesTable);
          #        tmsSalesTable.reread();
          #    }
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        newMCRSalesTable = MCRSalesTable::findSalesId(salesTable.SalesId);
          #        if (newMCRSalesTable)
          #        {
          #            mcrSalesTable.data(newMCRSalesTable);
          #        }
          #
          #        newMCRSalesTableShipping = MCRSalesTableShipping::findSalesId(salesTable.SalesId);
          #        if (newMCRSalesTableShipping)
          #        {
          #            mcrSalesTableShipping.data(newMCRSalesTableShipping);
          #        }
          #
          #        // If the create is being done from customer maintenance via customer service and
          #        // allowOpenOrders is off, then set the boolean to true so that we will not run
          #        // salesTable/LinkActive/Super which tries to save the salesTable record and prompts
          #        // that there can not be open orders.
          #        if (mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew
          #            && enableOrderCompletion)
          #        {
          #            enterOrderFromNewCust = true;
          #        }
          #
          #        // For when new sales orders are created to set focus to the line.
          #        if(! (MCROrderParameters::find().mcrSourceCodeRequired && mcrSalesTable.SourceId == '')
          #            && salesLine_ItemId.isDisplayed()) //Only setfocus if on the correct form view
          #        {
          #            salesLine_ItemId.setFocus();
          #        }
          #    }
          #    skipLinkActive = false;
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int                     ret;
          #    SalesTableType          editSalesTableType;
          #    SalesTotals             salesTotals;
          #    boolean                 allowEditDeliveryPostalAddress;
          #    container               origPackedExtensions        = salesTable.PackedExtensions;
          #    container               origPackedPrioritizedIdList = salesTable.PackedPrioritizedIdList;
          #    //HUVEPHARMA_AX_SUPP SUPP0010 B.FILIPOV 23.3.2015 ->
          #    DictTable dictTable;
          #    FieldId fieldId;
          #    DictField dictField;
          #    #ISOCountryRegionCodes
          #    //<-
          #
          #    // Allow the invoice account to be edited only if allowed to be changed
          #    // for all payments (or if the sales order is new).
          #    MCRCustPaymTotals mcrCustPaymTotals;
          #    boolean allowEditInvoiceAccount;
          #
          #    performIntercompanyValidationCache = UnknownNoYes::Unknown;
          #
          #    element.lock();
          #
          #    startLengthyOperation();
          #    mcrLastSourceId = mcrSalesTable.SourceId;
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        element.mcrOrderEntryModeInit();
          #    }
          #    mcrCallCenterOrder = salesTable.mcrIsCallCenter();
          #    element.editSales(salesTableForm.editHeaderAllowed());
          #
          #    ret = super();
          #
          #    isRetailOrder = element.useRetailPricingEngine();
          #    retailOrderNeedRecalculation = false;
          #    this.enableRetailFields(isRetailOrder);
          #    editSalesTableType = salesTable.type();
          #    salesTableForm.salesTable(salesTable);
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #
          #
          #    salesTableForm.enableUpdateJournalButtonsMultipleOrders(salesTable,
          #                                              buttonUpdateConfirmation,
          #                                              buttonUpdatePickingList,
          #                                              buttonUpdatePickingListRegistrate,
          #                                              buttonUpdatePackingSlip,
          #                                              buttonUpdateInvoice,
          #                                              null,
          #                                              buttonProformaConfirmation,
          #                                              buttonProformaPackingSlip,
          #                                              // <GEERU>
          #                                              buttonProformaInvoice,
          #                                              buttonUpdateInvoice4Paym_RU,
          #                                              buttonUpdateFacture_RU,
          #                                              factureEditLinesCust_RU,
          #                                              buttonProformaFacture_RU,
          #                                              buttonProformaInvoice4Paym_RU,
          #                                              factureEditLinesCust_Proforma_RU);
          #                                              // </GEERU>
          #
          #    // <GIN>
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
          #    {
          #        salesTableForm.enableExportOrderButton_IN(
          #            salesTable,
          #            createExportOrder_IN);
          #    }
          #
          #    //<--B.Idesman 22.12.2014   imp0314
          #    //rewrite huvepharma logic
          #    salesTable_ds.allowEdit(!salesTable.Blocked_HV);
          #    //-->
          #
          #    // </GIN>
          #    // Enables or disables the sales order fields.
          #    if ((salesTable.SalesType == SalesType::ReturnItem && !isReturnFieldsEnabled)
          #        || (salesTable.SalesType != SalesType::ReturnItem && isReturnFieldsEnabled))
          #    {
          #        element.setReturnFields();
          #        isReturnFieldsEnabled = !isReturnFieldsEnabled;
          #    }
          #    if (enableOrderCompletion)
          #    {
          #        mcrCustPaymTotals = MCRCustPaymTotals::construct(salesTable.TableId, salesTable.RecId);
          #        allowEditInvoiceAccount = !salesTable || mcrCustPaymTotals.allowEditInvoiceAccount();
          #    }
          #
          #    // Change visibility through form method
          #    element.mcrVisibleControl(interCompanyAllowIndirectCreationOrig,
          #                             salesTable.interCompanyAllowIndirectCreationOrig() ? true : false);
          #
          #    element.mcrSetHeaderControls();
          #
          #    buttonLineQuickQuote.  enabled(salesTableForm.editHeaderAllowed());
          #
          #    createCase.enabled(salesTable.RecId != 0);
          #    caseButton.enabled(salesTable.RecId != 0);
          #
          #    if (!enableOrderCompletion)
          #    {
          #        element.editSales(salesTableForm.editHeaderAllowed());
          #    }
          #
          #    //<--B.Idesman 22.12.2014   imp0314
          #    //rewrite huvepharma logic
          #    element.editSales(salesTableForm.editHeaderAllowed() && !salesTable.Blocked_HV);
          #
          #
          #    salesTable_ds.object(fieldnum(SalesTable, CustAccount)   ).allowEdit(editSalesTableType.editCustAccount() && !salesTable.Blocked_HV);
          #    salesTable_ds.object(fieldnum(SalesTable, InvoiceAccount)).allowEdit(editSalesTableType.editInvoiceAccount() && !salesTable.Blocked_HV);
          #    salesTable_ds.object(fieldnum(SalesTable, vatNum)        ).allowEdit(editSalesTableType.editVATNum() && !salesTable.Blocked_HV);
          #    salesTable_ds.object(fieldnum(SalesTable, InclTax)       ).allowEdit(editSalesTableType.editInclTax() && !salesTable.Blocked_HV);
          #
          #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)       ).mandatory(salesTable.dlvModeMandatory() && !salesTable.Blocked_HV);
          #
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).allowEdit(editSalesTableType.editCurrencyCode() && !salesTable.Blocked_HV);
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).skip(!editSalesTableType.editCurrencyCode() && !salesTable.Blocked_HV);
          #
          #    /*
          #    salesTable_ds.object(fieldNum(SalesTable, CustAccount)   ).allowEdit(editSalesTableType.editCustAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, InvoiceAccount)).allowEdit(editSalesTableType.editInvoiceAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, vatNum)        ).allowEdit(editSalesTableType.editVATNum());
          #    salesTable_ds.object(fieldNum(SalesTable, InclTax)       ).allowEdit(editSalesTableType.editInclTax());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)       ).mandatory(salesTable.dlvModeMandatory());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).allowEdit(editSalesTableType.editCurrencyCode());
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).skip(!editSalesTableType.editCurrencyCode());
          #    */
          #    //-->
          #
          #    //salesTable_ds.object(fieldNum(SalesTable, PurchOrderFormNum)).visible(salesTable.ProjId=='');
          #    //salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).visible(salesTable.ProjId=='');
          #
          #    salesTable_ds.rereadReferenceDataSources();
          #    element.showInactiveAddressBar();
          #
          #    if (tmpSalesTableTaxTransForm && !tmpSalesTableTaxTransForm.closed())
          #    {
          #        //If the tax window is already showing this documents taxes then don't recalculate.
          #        if (tmpSalesTableTaxTransForm.getHeadingRecId() != salesTable.RecId)
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxTransForm.pushTaxObject(salesTotals.tax());
          #        }
          #    }
          #
          #    // <GIN>
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        if (tmpSalesTableTaxWithholdTransForm && !tmpSalesTableTaxWithholdTransForm.closed())
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxWithholdTransForm.pushTaxObject(salesTotals.taxWithhold_IN());
          #        }
          #    }
          #    // </GIN>
          #    salesTableForm.interCompanySetHeaderAccess(interCompanyAllowIndirectCreationOrig);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.pdsSetHeaderAccess();
          #    }
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit(!salesTable.returnItem());
          #    }
          #    else
          #    {
          #    // </GBR>
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit();
          #    // <GBR>
          #    }
          #    // </GBR>
          #    logisticsLocationSelectHeader.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewHeader.enabled(allowEditDeliveryPostalAddress);
          #
          #    eInvoice.    visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #    eInvoiceLine.visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #
          #    this.showDimAccount();
          #
          #    headerInquiry_CostControlCommittedCost.enabled(salesTable.ProjId ? true : false);
          #
          #    element.configBankDocumentControls();
          #    element.setTitleText();
          #
          #    dimensionDefaultingControllerTable.activated();
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesTable.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);//51568
          #        salesLine_MaximumRetailPrice_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::No);
          #    }
          #    if (isIndiaWHTMarked)
          #    {
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #    }
          #    // </GIN>
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        salesTable_BR_DS.enableDataSourceFields_BR();
          #    }
          #    // </GBR>
          #
          #    // <GEEPL>
          #    headerPackageParm.enabled(! salesTable.ProjId);
          #    linePackageParm.enabled  (! salesTable.ProjId);
          #    // </GEEPL>
          #
          #    tieredCharges.enabled(salesTable.markupAllowed());
          #    salesTable.PackedExtensions         = origPackedExtensions;
          #    salesTable.PackedPrioritizedIdList  = origPackedPrioritizedIdList;
          #
          #    //<GTH>
          #    if (isUnrealizedVATEnabled)
          #    {
          #        element.noteFormatEdit();
          #    }
          #    //</GTH>
          #
          #    CustDirectDebitMandate::defaultAndDisplayMandate(
          #        salesTable.InvoiceAccount,
          #        salesTable.PaymMode,
          #        salesTable.DirectDebitMandate,
          #        false,
          #        salesTable_ds,
          #        fieldNum(SalesTable, DirectDebitMandate));
          #
          #    if (enableDirectedSelling
          #        && mcrCallCenterEnabled
          #        && !SalesLine::exist(salesTable.SalesId))
          #    {
          #        //no salesline yet so override this value
          #        element.mcrDisplayStartOrderMessage(true);
          #    }
          #
          #
          #
          #    endLengthyOperation();
          #    element.unlock();
          #
          #
          #
          #    //<--B.Idesman 22.12.2014   imp0314
          #    //rewrite huvepharma logic
          #    if (salesTable.Blocked_HV == NoYes::Yes)
          #    {
          #        //specific for ax 2012:
          #        //tab
          #        //we could disable  the whole tab, but so the enable button will be disabled too
          #        SalesOrderNew.enabled(false);
          #        SalesOrderModify.enabled(false);
          #        MCRPayments.enabled(false);
          #        ShowGroup.enabled(false);
          #        SalesOrderCopy.enabled(false);
          #        SalesOrderView.enabled(false);
          #        MCRSalesOrderFunctions.enabled(false);
          #        SalesOrderList.enabled(false);
          #        SalesOrderAttachments.enabled(false);
          #        EventNotification.enabled(false);
          #        //tab
          #        Sell.enabled(false);
          #        //tab
          #        Manage.enabled(false);
          #        //tab
          #        PickAndPack.enabled(false);
          #        //tab
          #        Invoice.enabled(false);
          #        //tab
          #        aptabRetail.enabled(false);
          #        //tab
          #        General.enabled(false);
          #        //tab
          #        WHS.enabled(false);
          #        //tab
          #        TMS.enabled(false);
          #    }else{
          #        //specific for ax 2012:
          #        //tab
          #        SalesOrderNew.enabled(true);
          #        SalesOrderModify.enabled(true);
          #        MCRPayments.enabled(true);
          #        ShowGroup.enabled(true);
          #        SalesOrderCopy.enabled(true);
          #        SalesOrderView.enabled(true);
          #        MCRSalesOrderFunctions.enabled(true);
          #        SalesOrderList.enabled(true);
          #        SalesOrderAttachments.enabled(true);
          #        EventNotification.enabled(true);
          #        //tab
          #        Sell.enabled(true);
          #        //tab
          #        Manage.enabled(true);
          #        //tab
          #        PickAndPack.enabled(true);
          #        //tab
          #        Invoice.enabled(true);
          #        //tab
          #        aptabRetail.enabled(true);
          #        //tab
          #        General.enabled(true);
          #        //tab
          #        WHS.enabled(true);
          #        //tab
          #        TMS.enabled(true);
          #    }
          #    //-->
          #
          #    //ISVK
          #
          #    //buttonUpdateFacture_RU.enabled(false);
          #    buttonUpdateFacture_RU.visible(false);
          #    //buttonProformaFacture_RU.enabled(false);
          #    buttonProformaFacture_RU.visible(false);
          #    //HUVEPHARMA_AX_SUPP SUPP0010 B.FILIPOV 23.3.2015 ->
          #        //IS HUVEPHARMA_AX_SUPP SUPP0441 B.FILIPOV 8.6.2015
          #    //if(!salesTable_ds.allowEdit() && SalesTable.isCreditNote_PL() && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
          #    if(!salesTable_ds.allowEdit() && SalesTable.SalesStatus == SalesStatus::Invoiced)
          #        //<-
          #    {
          #        salesTable_ds.allowEdit(true);
          #        dictTable = new DictTable(tableNum(SalesTable));
          #        fieldId = DictTable.fieldNext(0);
          #        SalesTable_ds.object(fieldNum(SalesTable, SalesNotes_HV)).allowEdit(true);
          #        while(fieldId)
          #        {
          #            dictField = new DictField(tableNum(SalesTable), fieldId);
          #            //IS HUVEPHARMA_AX_SUPP SUPP0441 B.FILIPOV 8.6.2015 ->
          #            //if(fieldId == fieldNum(SalesTable, SalesNotes_HV) || fieldId == fieldNum(SalesTable, InvoiceLetter_HV))
          #            if(fieldId == fieldNum(SalesTable, SalesNotes_HV) || (fieldId == fieldNum(SalesTable, InvoiceLetter_HV) && SalesTable.isCreditNote_PL() && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL])))
          #            //<-
          #            {
          #                salesTable_ds.object(fieldId).allowEdit(true);
          #            }
          #            else if(!dictField.isSystem())
          #            {
          #                //info(fieldId2name(tableNum(SalesTable), fieldId));
          #                salesTable_ds.object(fieldId).allowEdit(false);
          #                //salesTable_ds.object(fieldId).allowAdd(false);
          #            }
          #            fieldId = dictTable.fieldNext(fieldId);
          #        }
          #        //salesTable_ds.object(fieldNum(SalesTable, DiscPercent)).allowEdit(_allowEdit);
          #
          #        //IS HUVEPHARMA_AX_SUPP SUPP0441 B.FILIPOV 8.6.2015 ->
          #        SalesTable_RU_ds.allowEdit(false);
          #        SalesTable_BR_ds.allowEdit(false);
          #        SalesTable_Intrastat_ds.allowEdit(false);
          #        MCRSalesTable_ds.allowEdit(false);
          #        MCRSalesTableShipping_ds.allowEdit(false);
          #        TabFinancialDimensionTable.allowEdit(false);
          #        editContactPersonName1.allowEdit(false);
          #        References_ReasonCode.allowEdit(false);
          #        References_ReasonComment.allowEdit(false);
          #        Currency_M_editFixedExchRate.allowEdit(false);
          #        Payment_M_editCreditCard.allowEdit(false);
          #        //<-
          #    }
          #    //<-
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #displayOption
          #public void displayOption(Common _record, FormRowDisplayOption _options)
          #{
          #    MCRHoldOrderDisplayColor mcrHoldOrderDisplayColor;
          #
          #    SalesTable salesTableLocal =  _record;
          #
          #    mcrHoldOrderDisplayColor = SalesParameters::find().mcrHoldOrderDisplayColor;
          #
          #    if (salesTableLocal)
          #    {
          #        if (mcrHoldOrderDisplayColor
          #            && MCRHoldCodeTrans::findActiveOrderHolds(salesTableLocal.SalesId))
          #        {
          #            _options.backColor(mcrHoldOrderDisplayColor);
          #        }
          #        else
          #        {
          #             _options.clearBackColor();
          #        }
          #    }
          #
          #    super(_record, _options);
          #}
        ENDSOURCE
        SOURCE #editHeader
          #void editHeader()
          #{
          #    this.editSales();
          #}
        ENDSOURCE
        SOURCE #editSales
          #void editSales()
          #{
          #    element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #    element.mcrSetHeaderControls();
          #    element.mcrSetLineControls();
          #}
        ENDSOURCE
        SOURCE #first
          #public int first()
          #{
          #    int ret;
          #
          #    // Selects the first record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed due to the order comnpletion process being enabled.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #last
          #public int last()
          #{
          #    int ret;
          #
          #    // Selects the last record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #reReadLines
          #public void reReadLines()
          #{
          #    salesLine_ds.executeQuery();
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    // Prevent leave method from firing on a delete
          #    if (deleting)
          #    {
          #        return ret;
          #    }
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    if (!salesLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #
          #    // if the status of the order being evaluated has had
          #    // its status changed to something other than open order
          #    // (backorder) clear out the buffer which indicates an open order.
          #    if (enableOrderCompletion)
          #    {
          #        ret = ret && element.mcrCheckOpenOrder();
          #
          #        salesTable_ds.reread();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #showDimAccount
          #void showDimAccount()
          #{
          #    if (salesTable.eInvoiceLineSpec == NoYes::No)
          #    {
          #        eInvoice_EInvoiceLineSpec.enabled(true);
          #        eInvoice_EInvoiceAccountCode.enabled(true);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(false);
          #    }
          #    else
          #    {
          #        eInvoice_EInvoiceAccountCode.enabled(false);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #checkCreditLimit
          #void checkCreditLimit()
          #{
          #    TypeOfCreditmaxCheck    typeOfCreditmaxCheck    = CustParameters::find().CreditMaxCheck;
          #    SalesUpdate qtySpec = (typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceDelivered ? SalesUpdate::PackingSlip :
          #                           typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceAll       ? SalesUpdate::All         : 0);
          #    SalesTotals salesTotals = SalesTotals::construct(salesTable, qtySpec);
          #
          #    salesTable.checkCreditLimit(salesTotals);
          #}
        ENDSOURCE
        SOURCE #next
          #public int next()
          #{
          #    int ret;
          #    // Selects the next record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #
          #    ret = super();
          #    // integer that represents the next record
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #nextPage
          #/// <summary>
          #/// Selects the first record on the next page of the sales table.  This is not
          #/// allowed if the user has opened an order and open orders are not allowed.
          #/// </summary>
          #/// <param name="_pageSize">
          #/// Page size
          #/// </param>
          #/// <returns>
          #/// Returns an integer representing page size.
          #/// </returns>
          #public int nextPage(int _pageSize)
          #{
          #    int ret;
          #
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        _pageSize = 0;
          #    }
          #    ret = super(_pageSize);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #prev
          #public int prev()
          #{
          #    int ret;
          #    // Selects the previous record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #    ret = super();
          #    // integer that represents the next record
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #prevPage
          #public int prevPage(int _pageSize)
          #{
          #    int ret;
          #
          #    // Selects the first record on the last page of the sales table.  This is not
          #    // allowed if the user has opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        _pageSize = 0;
          #    }
          #    ret = super(_pageSize);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesTable_ds && salesTable && salesTable.DeliveryDateControlType)
          #    {
          #        salesTable_ds.refresh();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine
          Table               #SalesLine
          Index               #SalesLineIdx
          CounterField        #LineNum
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args                 args;
                #    FormRun              formRun;
                #
                #    if (mcrCallCenterEnabled && salesLine.mcrSalesLine().SourceId != "")
                #    {
                #        Catalog::lookupItemsFromSourceId(salesLine.mcrSalesLine().SourceId, _formControl, _filterStr);
                #    }
                #    else
                #    {
                #
                #        if (EcoResProductParameters::find().pcLookupMethod == PCLookupMethod::Configurable)
                #        {
                #            args = new Args(formStr(PCProductLookup));
                #            args.caller(element);
                #            formRun = classfactory.formRunClass(args);
                #            formRun.init();
                #            this.performFormLookup(formRun, _formControl);
                #        }
                #        else if (PBAParameters::find().LookupMethod == PBALookupMethod::Configurable)
                #        {
                #            args = new Args(formStr(PBAItemIdLookup));
                #            args.caller(element);
                #            args.record(salesLine);
                #            args.parm(_filterStr);
                #            formRun = classfactory.formRunClass(args);
                #            formRun.init();
                #            this.performFormLookup(formRun, _formControl);
                #        }
                #        else
                #        {
                #            InventTable::lookupItem(_formControl);
                #        }
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    ItemId  itemId;
                #
                #    // <GIN>
                #    InventTable     inventTableLoc;
                #    // </GIN>
                #
                #    super();
                #
                #    itemId = salesLine.ItemId;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.ItemId = itemId;
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)) && itemBarcode)
                #    {
                #        salesLine.InventDimId = itemBarcode.InventDimId;
                #
                #        salesLine_ds.itemIdModified();
                #
                #        salesLine.SalesQty = itemBarcode.Qty;
                #        salesLine.SalesUnit = itemBarcode.UnitID;
                #    }
                #    else
                #    {
                #        salesLine_ds.itemIdModified();
                #    }
                #
                #    // <GIN>
                #    if (isIndiaIndirectTaxParameterMarked)
                #    {
                #        inventTableLoc = InventTable::find(salesLine.ItemId);
                #        salesLine_IN.ExciseTariffCodes_IN   = inventTableLoc.ExciseTariffCodes_IN;
                #        salesLine_IN.CustomsTariffCodeTable_IN  = inventTableLoc.CustomsExportTariffCodeTable_IN;
                #        salesLine_IN.ServiceCodeTable_IN        = inventTableLoc.ServiceCodeTable_IN;
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            //MRP defaulted from item is converted using Customs exchange rate for Export orders.
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export, systemDateGet(), false);
                #        }
                #        salesLine_DS.enableExciseFields_IN();
                #    }
                #    if (TaxParameters::isCustomsEnable_IN()
                #        && salesTable.CustomsExportOrder_IN
                #        && TaxParameters::find().EximIncentiveSchemes_IN)
                #    {
                #        eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        element.enableFieldsActive_IN();
                #    }
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        salesLine_IN.assessableValue(salesLine);
                #    }
                #    // </GIN>
                #
                #    salesLine_ds.refreshDDC();
                #
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
                #    {
                #        salesLine_ds.cacheCalculateMethod(tableMethodStr(SalesLine,pdsCWUnitId));
                #    }
                #
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine.setTaxGroupAndTaxItemGroupFields_BR();
                #
                #        if (salesLine.inventTable().ItemType != ItemType::Service)
                #        {
                #            salesLine.LedgerDimension = SalesPurchOperationType_BR::find(salesTable_BR.SalesPurchOperationType_BR).LedgerDimension;
                #        }
                #
                #        salesLine_ds.refresh();
                #
                #        salesLine_BR_DS.enableDataSourceFields_BR();
                #    }
                #    // </GBR>
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        element.mcrDisplayItemMessage();
                #
                #        // Since many line controls are item dependent, reset line controls
                #        // Set time out for the method because tabs going visible/invisible causes
                #        // any modified methods to run twice.
                #        element.setTimeOut(identifierStr(MCRSetLineControls), 0);
                #
                #        // Load image when item is changed or added.
                #        if (enableDirectedSelling)
                #        {
                #            mcrImageUrl = element.mcrGetLoadImageFileObject().loadImageFile(InventTable::find(salesLine.ItemId));
                #        }
                #    }
                #
                #    // IS_HV_06003 -->
                #    salesLine.ConvertFactorKGA_HV = InventTable::find(salesLine.ItemId).ConvertFactorKGA_HV;
                #    SalesLine.IS_calcPrices();
                #    /*  S.Shk Supp 0462
                #    // IS_HV_06003 -->
                #
                #    //salesLine.QtyKGA_HV = UnitConvert::qty(salesLine.SalesQty, salesLine.SalesUnit, salesLine.inventTable().inventUnitId(), salesLine.ItemId) * salesLine.ConvertFactorKGA_HV;
                #    salesLine.QtyKGA_HV = UnitOfMeasureConverter::convert(salesLine.SalesQty,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*salesLine.ConvertFactorKGA_HV;
                #
                #    //FIX
                #    salesLine.QtyKGA_HV = decRound(salesLine.QtyKGA_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
                #
                #    //AX2012
                #    /*
                #    salesLine.SalesPriceKGA_HV = UnitOfMeasureConversion::valueConvert_HV(salesLine.SalesPrice,
                #                                                                          salesLine.SalesUnit,
                #                                                                          salesLine.inventTable().inventUnitId(),
                #                                                                          salesLine.ItemId) / salesLine.ConvertFactorKGA_HV;
                #    */
                #
                #    //AX2012 FIX
                #    salesLine.SalesPriceKGA_HV = UnitOfMeasureConverter::convert(salesLine.SalesPrice,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    salesLine.SalesPriceKGA_HV = salesLine.SalesPriceKGA_HV/salesLine.ConvertFactorKGA_HV;
                #
                #    */////////// <--/S.Shk
                #
                #    salesLine.IS_ProducerCode = EcoResProduct::find(InventTable::find(SalesLine.ItemId).Product).IS_ProducerCode;
                #    // <--
                #
                #    //IMP0177 T.Goshev 23.10.2014 ->
                #    salesLine.PackingText_HV = InventTable::find(salesLine.ItemId).PackingText_HV;
                #    //<-
                #
                #    //IMPO266-->
                #    salesLine.setTaxItemGroup(salesLine_ds.salesTaxItemGroupId());
                #    // <--
                #
                #}
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    // Do not default Name from category when modified.
                #    keepName = true;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesDeliverNow
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    super();
                #
                #    // IS_HV_06003 -->
                #    //salesLine.SalesDeliverNowAI_HV = UnitConvert::qty(salesLine.SalesDeliverNow, salesLine.SalesUnit, salesLine.inventTable().inventUnitId(), salesLine.ItemId) * salesLine.ConvertFactorKGA_HV;
                #    salesLine.SalesDeliverNowAI_HV = UnitOfMeasureConverter::convert(salesLine.SalesDeliverNow,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*salesLine.ConvertFactorKGA_HV;
                #    // <--
                #
                #    //FIX
                #    salesLine.QtyKGA_HV = decRound(salesLine.SalesDeliverNowAI_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl
                #        && RetailParameters::find().GiftcardItem != salesLine.ItemId)
                #    {
                #        if (salesLine.mcrInventTable().AllowPriceAdjust == NoYes::No)
                #        {
                #            ret = checkFailed("@MCR34339");
                #        }
                #        else
                #        {
                #            ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, SalesPrice),
                #                                                      salesLine.SalesPrice,
                #                                                      fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #        }
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #
                #    super();
                #
                #    // IS_HV_06003 -->
                #    if (salesLine.ConvertFactorKGA_HV)
                #    {
                #        //AX2009
                #        //salesLine.SalesPriceKGA_HV = UnitConvert::valueConvert_HV(salesLine.SalesPrice, salesLine.SalesUnit, salesLine.inventTable().inventUnitId(), salesLine.ItemId) / salesLine.ConvertFactorKGA_HV;
                #
                #
                #    //AX2012 this method does not work
                #    /*
                #    salesLine.SalesPriceKGA_HV = UnitOfMeasureConversion::valueConvert_HV(salesLine.SalesPrice,
                #                                                                          salesLine.SalesUnit,
                #                                                                          salesLine.inventTable().inventUnitId(),
                #                                                                          salesLine.ItemId) / salesLine.ConvertFactorKGA_HV;
                #    */
                #
                #    //AX2012 FIX
                #    salesLine.SalesPriceKGA_HV = UnitOfMeasureConverter::convert(salesLine.SalesPrice,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    salesLine.SalesPriceKGA_HV = salesLine.SalesPriceKGA_HV/salesLine.ConvertFactorKGA_HV;
                #
                #    }
                #    //<-
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LinePercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LinePercent),
                #                                                  salesLine.LinePercent,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LineDisc),
                #                                                  salesLine.LineDisc,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup, CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LineAmount),
                #                                                  salesLine.LineAmount,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.active();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (#PdsSameLotEnabled
                #        && salesLine.Reservation == ItemReservation::Automatic)
                #    {
                #        // trigger a change on the quantity, so batch reservation can be called
                #        salesTable_ds.object(fieldNum(SalesLine, SalesQty)).modified();
                #    }
                #
                #    salesTableForm.pdsSetLineAccess(salesLine);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine.calcPackingUnitQty(inventDim);
                #
                #    // IS_HV_06003 -->
                #    salesLine.modifyKGAQty_HV(salesLine, inventDim);
                #    salesLine.modifyDeliverNowAI_HV(salesLine, inventDim);
                #    // <--
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret && salesLine.RecId && !salesLine.isAgreementLinkValid())
                #    {
                #        ret = salesLine.unLinkAgreementLinePrompt(fieldNum(SalesLine,SalesUnit));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, PriceUnit),
                #                                                  salesLine.PriceUnit,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjTransId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ProjItemTrans::jumpRefTransId(salesLine, element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #    CustTable custTableLocal;
                #
                #    ret = super();
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTableLocal = CustTable::find(salesTable.CustAccount);
                #        // Do not allow a user to manually enter a phantom custAccount.
                #        if (custTableLocal.mcrMergedParent)
                #        {
                #            checkFailed(strFmt("@MCR12337", salesTable.CustAccount, custTableLocal.mcrMergedParent));
                #            // Return the parent account number
                #            salesTable.CustAccount = custTableLocal.mcrMergedRoot;
                #        }
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    InventQty pickedQty;
                #    InventQty qtyOrdered;
                #
                #    if (salesLine.SalesQty > 0 && salesLine.type().mustSalesQtyBeNegative())
                #    {
                #        error("@SYS98119");
                #    }
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // If the user tries to change the quantity below what has already been picked
                #        // for the line, an error will be issued.
                #        pickedQty = salesLine.mcrPickedLineQuantity();
                #        if (pickedQty != 0)
                #        {
                #            qtyOrdered = UnitOfMeasureConverter::convert(salesLine.SalesQty,
                #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit),
                #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.inventTable().inventTableModuleInvent().UnitId),
                #                                                    NoYes::Yes,
                #                                                    InventTable::itemProduct(salesLine.ItemId));
                #
                #            if (abs(qtyOrdered) < abs(pickedQty))
                #            {
                #                throw error("@MCR12251");
                #            }
                #        }
                #    }
                #
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #
                #    // <GIN>
                #    salesLine_DS.enableExciseFields_IN();
                #    // </GIN>
                #
                #    // IS_HV_06003 -->
                #    //salesLine.QtyKGA_HV = UnitConvert::qty(salesLine.SalesQty, salesLine.SalesUnit, salesLine.inventTable().inventUnitId(), salesLine.ItemId) * salesLine.ConvertFactorKGA_HV;
                #    salesLine.QtyKGA_HV = UnitOfMeasureConverter::convert(salesLine.SalesQty,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*salesLine.ConvertFactorKGA_HV;
                #
                #    //FIX
                #    salesLine.QtyKGA_HV = decRound(salesLine.QtyKGA_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
                #
                #    if  (salesLine.PackingUnitQty &&
                #                            InventPackMaterialParmCode::exist(salesLine.SalesId, salesLine.InventTransId))
                #         InventPackMaterialParmCode::updatePackingQty(salesLine.SalesId,salesline.InventTransId, salesLine.PackingUnitQty);
                #    // <--
                #
                #    //HUVEPHARMA_AX_SUPP SUPP0400 V.Karaivanov 05.06.2015 ->>
                #    SalesLine_ds.IS_ValidateInventQty();
                #
                #
                #    salesLine_ds.refresh();
                #
                #    if (PBATableInstance::isPBAEnabledAndExistsPost(salesLine.ItemId, salesLine.InventTransId))
                #    {
                #        if (salesLine.orig().SalesPrice &&
                #            salesLine.orig().SalesPrice != salesLine.SalesPrice)
                #        {
                #            if (PBAParameters::find().PriceCalc == NoYes::Yes)
                #            {
                #                //salesLine.SalesPrice = salesLine.orig().SalesPrice;
                #                salesLine.calcLineAmount();
                #            }
                #            else
                #            {
                #                if (Box::yesNo("@SYS97951", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #                {
                #                    salesLine_ds.write();
                #                    element.pbaConfigureLine();
                #                }
                #            }
                #        }
                #        if (salesLine.orig().SalesQty != salesLine.SalesQty)
                #        {
                #            if (Box::yesNo("@SYS97953", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #            {
                #                salesline_ds.write();
                #                element.pbaConfigureLine();
                #            }
                #            else
                #            {
                #                //clean up BOM, Route and PBA id fields
                #                salesLine.ItemBOMId = '';
                #                salesLine.ItemRouteId = '';
                #                salesLine.ItemPBAId = '';
                #            }
                #        }
                #    }
                #    // PBA end
                #
                #    // <GIN>
                #    if (TaxParameters::isCustomsEnable_IN())
                #    {
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty < 0)
                #        {
                #            eximSalesLine_IN.ApplyDEPB                = NoYes::No;
                #            eximSalesLine_IN.MarketValue              = 0.00;
                #            eximSalesLine_IN.dbkCenvatStatus          = EximDBKCenvatStatus_IN::None;
                #            eximSalesLine_IN.dbkRateType              = EximDBKRateType_IN::AllIndustryRate;
                #            eximSalesLine_IN.dbkPercent               = 100;
                #            eximSalesLine_IN.EximIncentiveSchemeGroup = 0;
                #            eximSalesLine_IN.EximPorts                = 0;
                #            eximSalesLine_IN.EximProductGroupTable    = 0;
                #        }
                #
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty > 0)
                #        {
                #            eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        }
                #
                #        element.setEximFieldsAccess_IN();
                #    }
                #    // </GIN>
                #
                #    if (RetailPricingEngine::useRetailPricingEngineForSalesOrder(salesTable.SalesId))
                #    {
                #        salesLine.setPriceDisc(inventDim);
                #    }
                #
                #    salesLine_ds.refreshDDC();
                #
                #    // If the quantity is modified need to update the related children.
                #    // But only if none have been created yet.
                #    if (mcrSalesLine.LineType == MCRLineType::ContinuityParent
                #        && mcrCallCenterEnabled)
                #    {
                #        salesLine.mcrUpdateContCustLines();
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    // Prevent unnecessary erroring when user enters a positive qty
                #    // for a return order.
                #    if (salesTable.SalesType == SalesType::ReturnItem)
                #    {
                #        salesLine.SalesQty = (salesLine.SalesQty > 0) ? -salesLine.SalesQty : salesLine.SalesQty;
                #    }
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesMarkup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, SalesMarkup),
                #                                                  salesLine.SalesMarkup,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, MultiLnDisc),
                #                                                  salesLine.MultiLnDisc,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnPercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, MultiLnPercent),
                #                                                  salesLine.MultiLnPercent,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemBOMId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupBOMId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemRouteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupRouteId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventTransIdReturn
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTransOrigin::lookupTransIdReturn(_formControl, salesLine, inventDim);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.checkCreditNoteLine();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerLine.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PackingUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified() //IMP0180_HV_06013
                #{
                #    super();
                #    salesLine.calcPackingUnitQty();
                #    salesLine.CreatePackingMaterials();
                #
                #    salesLine.PackingMaterDescr_HV =  InventPackMaterialParmCode::PackMaterDescr(salesLine.SalesId, salesLine.InventTransId);
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CaseTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesCategory
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::resolveCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::lookupCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCategory   salesCategory;
                #    ItemFreeTxt     name;
                #
                #    if (keepName)
                #    {
                #        name           = salesLine.Name;
                #    }
                #
                #    // Reset line, but keep category
                #    salesCategory = salesLine.SalesCategory;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.SalesCategory   = salesCategory;
                #
                #    super();
                #
                #    // Name is defaulted from category in super(). So we revert to saved value it if needed.
                #    if (keepName)
                #    {
                #        salesLine.Name = name;
                #    }
                #
                #    // Enabled/disable fields
                #    salesLine_ds.changedStockedStatus(true);
                #
                #
                #    if (salesLine.isCategoryBased())
                #    {
                #        mcrSalesLineDropShipment_ds.allowEdit(false);
                #
                #        if (salesTable.MatchingAgreement)
                #        {
                #            salesLine.SalesPurchLine::autoMatchAgreementLine(salesTable.MatchingAgreement);
                #        }
                #
                #        if (salesLineForeignTradeCategory.SalesLineDataAreaId == '')
                #        {//Only create record if no one exists
                #            salesLineForeignTradeCategory_ds.allowCreate(true);
                #            salesLineForeignTradeCategory_ds.create();
                #            salesLineForeignTradeCategory_ds.allowEdit(true);
                #            salesLineForeignTradeCategory_ds.allowCreate(false);
                #        }
                #    }
                #    else
                #    {
                #        mcrSalesLineDropShipment_ds.allowEdit(true);
                #        salesLineForeignTradeCategory.clearFormFields();
                #        salesLineForeignTradeCategory_ds.allowEdit(false);
                #        salesLineForeignTradeCategory_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ActivityNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    HierarchyTreeTable::lookupHierarchyTree(_formControl, ProjTable::find(salesLine.ProjId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return ledgerDefaultAccountController.resolveReference();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExpectedRetQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemPBAId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PBAVersion::lookupPBAId(_formControl, salesLine.ItemId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD RetailVariantId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #/// <summary>
                #/// Jump Reference
                #/// </summary>
                #public void jumpRef()
                #{
                #    Args args = new Args();
                #
                #    args.caller(element);
                #    args.record(InventTable::find(salesLine.ItemId));
                #    args.lookupRecord(EcoResDistinctProductVariant::find(InventDimCombination::findVariantId(salesLine.RetailVariantId).DistinctProductVariant));
                #
                #    new MenuFunction(menuitemDisplayStr(EcoResProductVariantsAction), MenuItemType::Display).run(args);
                #}
                #
              ENDSOURCE
              SOURCE #modified
                #/// <summary>
                #/// Retail Variant ID - Modified
                #/// </summary>
                #public void modified()
                #{
                #    InventDimCombination    comb;
                #
                #    super();
                #
                #    comb = InventDimCombination::findVariantId(salesLine.RetailVariantId);
                #    if (comb)
                #    {
                #        inventDim.InventSizeId = comb.inventDim().InventSizeId;
                #        inventDim.InventColorId = comb.inventDim().InventColorId;
                #        inventDim.InventStyleId = comb.inventDim().InventStyleId;
                #        inventDim.ConfigId = comb.inventDim().ConfigId;
                #        // set Name according to VariantId
                #        salesLine.InventDimId    = InventDim::findOrCreate(inventDim).InventDimId;
                #        salesLine.initFromProductDimensions(inventDim);
                #
                #        // set Unit price according to VariantId trade agreements
                #        salesLine.setPriceDisc(inventDim);
                #
                #        salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #/// <summary>
                #/// RetailVariantId - Lookup
                #/// </summary>
                #/// <param name="_formControl">
                #/// Form String Control
                #/// </param>
                #/// <param name="_filterStr">
                #/// Filter String
                #/// </param>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    // super(_formControl, _filterStr);
                #
                #    FormRun formRun = classfactory.formRunClass(new Args(formStr(RetailVariantLookup)));
                #    FormStringControl formControl = _formControl;
                #    ;
                #
                #    formRun.args().parm(salesLine.ItemId);
                #    formRun.args().caller(_formControl);
                #    formRun.init();
                #
                #    formRun.run();
                #    formControl.performFormLookup(formRun);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TransferJournalId_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// IS_HV_06003 -->
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #
                #    switch (salesLine.OfferingType_HV)
                #    {
                #        case OfferingType_HV::QtyPriceEach          :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #
                #        case OfferingType_HV::QtyPriceEachKGA       :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(false);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEach       :
                #            SalesLine_SalesQty.allowEdit(false);
                #            SalesLine_QtyKGA_HV.allowEdit(true);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEachKGA    :
                #            SalesLine_SalesQty.allowEdit(false);
                #            SalesLine_QtyKGA_HV.allowEdit(true);
                #            SalesLine_SalesPrice.allowEdit(false);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
                #            break;
                #
                #        default :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #    }
                #    // <--
                #
                #    salesLine_ds.reFresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesPriceKGA_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #
                #
                #    super();
                #
                #
                #
                #    // IS_HV_06003 -->
                #
                #    //AX2009
                #    //salesLine.SalesPrice = UnitConvert::valueConvert_HV(salesLine.SalesPriceKGA_HV * salesLine.ConvertFactorKGA_HV, salesLine.inventTable().inventUnitId(), salesLine.SalesUnit, salesLine.ItemId);
                #
                #    //AX2012 This method does not work
                #    /*
                #    salesLine.SalesPrice = UnitOfMeasureConversion::valueConvert_HV((salesLine.SalesPriceKGA_HV * salesLine.ConvertFactorKGA_HV),
                #                                                                          salesLine.inventTable().inventUnitId(),
                #                                                                          salesLine.SalesUnit,
                #                                                                          salesLine.ItemId);
                #    */
                #
                #    //AX2012 FIX
                #    salesLine.SalesPrice = salesLine.SalesPriceKGA_HV*salesLine.ConvertFactorKGA_HV;
                #
                #    salesLine.SalesPrice = UnitOfMeasureConverter::convert(salesLine.SalesPrice,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    salesLine.lineAmount = salesLine.calcLineAmountForced();
                #    // <--
                #
                #
                #
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD QtyKGA_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #    /*
                #    salesLine.SalesQty = UnitConvert::qty(salesLine.QtyKGA_HV / salesLine.ConvertFactorKGA_HV,
                #                                          salesLine.inventTable().inventUnitId(),
                #                                          salesLine.SalesUnit,
                #                                          salesLine.ItemId);
                #    */
                #    salesLine.SalesQty = UnitOfMeasureConverter::convert(salesLine.QtyKGA_HV/salesLine.ConvertFactorKGA_HV,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                            true);
                #
                #    //FIX
                #    salesLine.SalesQty = decRound(salesLine.SalesQty, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
                #
                #    // <--
                #
                #    //ISVK
                #    SalesLine::modifySalesqty(salesLine,salesLine.InventDim());
                #
                #
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ConvertFactorKGA_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #    //salesLine.SalesPrice = UnitConvert::valueConvert_HV(salesLine.SalesPriceKGA_HV * salesLine.ConvertFactorKGA_HV, salesLine.inventTable().inventUnitId(), salesLine.SalesUnit, salesLine.ItemId);
                #
                #    //AX2012
                #    /*
                #    salesLine.SalesPrice = UnitOfMeasureConversion::valueConvert_HV((salesLine.SalesPriceKGA_HV * salesLine.ConvertFactorKGA_HV),
                #                                                                          salesLine.SalesUnit,
                #                                                                          salesLine.inventTable().inventUnitId(),
                #                                                                          salesLine.ItemId);
                #    */
                #
                #    //AX2012 FIX
                #    salesLine.SalesPrice = salesLine.SalesPriceKGA_HV*salesLine.ConvertFactorKGA_HV;
                #
                #    salesLine.SalesPrice = UnitOfMeasureConverter::convert(salesLine.SalesPrice,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    // <--
                #
                #    salesLine.lineAmount = salesLine.calcLineAmountForced();
                #    salesLine_ds.reFresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OfferingType_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// IS_HV_06003 -->
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #
                #    salesLine.IS_calcPrices();  //S.Shk SUPP0462
                #
                #    switch (salesLine.OfferingType_HV)
                #    {
                #        case OfferingType_HV::QtyPriceEach          :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #
                #        case OfferingType_HV::QtyPriceEachKGA       :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(false);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEach       :
                #            SalesLine_SalesQty.allowEdit(false);
                #            SalesLine_QtyKGA_HV.allowEdit(true);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEachKGA    :
                #            SalesLine_SalesQty.allowEdit(false);
                #            SalesLine_QtyKGA_HV.allowEdit(true);
                #            SalesLine_SalesPrice.allowEdit(false);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
                #            break;
                #
                #        default :
                #            SalesLine_SalesQty.allowEdit(true);
                #            SalesLine_QtyKGA_HV.allowEdit(false);
                #            SalesLine_SalesPrice.allowEdit(true);
                #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
                #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
                #            break;
                #    }
                #    // <--
                #
                #    salesLine_ds.reFresh();
                #
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventRefTransId_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #//IMP0411 T.Goshev 23.02.2015
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesLine), _formControl);
                #    Query                   query = new Query();
                #    QueryBuildDataSource    queryBuildDataSource;
                #    QueryBuildRange         queryBuildRange;
                #    ;
                #
                #    sysTableLookup.addLookupfield(fieldNum(SalesLine, InventRefTransId_HV));
                #    sysTableLookup.addLookupfield(fieldNum(SalesLine, ItemId));
                #
                #
                #    queryBuildDataSource = query.addDataSource(tablenum(SalesLine));
                #
                #
                #
                #    queryBuildRange = queryBuildDataSource.addRange(fieldnum(SalesLine, salesId));
                #    queryBuildRange.value(queryValue(SalesLine.SalesId));
                #
                #
                #    queryBuildDataSource.addSortField(fieldNum(SalesLine, InventRefTransId_HV));
                #    queryBuildDataSource.addSortField(fieldNum(SalesLine, ItemId));
                #
                #    queryBuildDataSource.orderMode(orderMode::GroupBy);
                #
                #    sysTableLookup.parmQuery(query);
                #    sysTableLookup.performFormLookup();
                #}
              ENDSOURCE
              SOURCE #modified
                #//IMP0411 T.Goshev 23.02.2015
                #public void modified()
                #{
                #    PurchTable      purchTable;
                #    PurchLine       purchLine;
                #
                #    super();
                #    if (salesTable.InterCompanyOrder)
                #    {
                #        changeCompany(salesTable.InterCompanyCompanyId)
                #        {
                #            purchTable = salesTable.interCompanyPurchTable();
                #
                #            select firstonly PurchLine
                #                where  PurchLine.PurchId == purchTable.PurchId &&
                #                       PurchLine.InventRefTransId_HV ==  SalesLine.InventRefTransId_HV;
                #
                #            if (PurchLine)
                #
                #            SalesLine.InventRefId_HV = PurchLine.InventRefId_HV;
                #
                #        }
                #        SalesLine_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesDeliverNowAI_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #    //salesLine.SalesDeliverNow = UnitConvert::qty((salesLine.SalesDeliverNowAI_HV / salesLine.ConvertFactorKGA_HV), salesLine.inventTable().inventUnitId(), salesLine.SalesUnit, salesLine.ItemId);
                #    salesLine.SalesDeliverNow = UnitOfMeasureConverter::convert(salesLine.SalesDeliverNowAI_HV/salesLine.ConvertFactorKGA_HV,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
                #                                                          false,
                #                                                          salesLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    salesLine.setInventDeliverNow();
                #    // <--
                #
                #    //FIX
                #    salesLine.SalesDeliverNow = decRound(salesLine.SalesDeliverNow, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PdsCWQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #IS_InsertIntoErrorLog
          #private void IS_InsertIntoErrorLog(boolean _showMsg = false, boolean _isQtyAutofixed = false, boolean _isRealFix = false)
          #{
          #    IS_SalesQtyInventQtyLog     IS_SalesQtyInventQtyLog;
          #
          #    if ( _showMsg )
          #        warning("@HVP1716");
          #
          #    IS_SalesQtyInventQtyLog.initValue();
          #    IS_SalesQtyInventQtyLog.SysUserId = curUserId();
          #    IS_SalesQtyInventQtyLog.SalesId = SalesLine.SalesId;
          #    IS_SalesQtyInventQtyLog.ItemId = SalesLine.ItemId;
          #    IS_SalesQtyInventQtyLog.SalesQty = SalesLine.SalesQty;
          #    IS_SalesQtyInventQtyLog.RemainInventPhysical = SalesLine.RemainInventPhysical;
          #    IS_SalesQtyInventQtyLog.QtyOrdered = SalesLine.QtyOrdered;
          #    if ( _isQtyAutofixed )
          #        IS_SalesQtyInventQtyLog.isAutoFixed = NoYes::Yes;
          #    if ( _isRealFix )
          #        IS_SalesQtyInventQtyLog.isRealFix = NoYes::Yes;
          #    IS_SalesQtyInventQtyLog.insert();
          #}
        ENDSOURCE
        SOURCE #IS_ValidateInventQty
          #//HUVEPHARMA_AX_SUPP SUPP0400 V.Karaivanov 05.06.2015 ->>
          #public void IS_ValidateInventQty(boolean _realFix = false)
          #{
          #    InventTrans                 inventTrans, inventTransLocal;
          #    InventTransOrigin           inventTransOrigin, inventTransOriginLocal;
          #    IS_SalesQtyInventQtyLog     IS_SalesQtyInventQtyLog;
          #    InventUpd_Estimated         estimated;
          #    Qty                         InventQty;
          #    SalesTable                  salesTableLocal;
          #
          #
          #    return;
          #    if(InventTable::find(SalesLine.ItemId).ItemType == ItemType::Item)
          #    {
          #        //Same UnitId for Sales and Inventory - check qty
          #        if ( InventTableModule::find(SalesLine.ItemId, ModuleInventPurchSales::Invent).UnitId == SalesLine.SalesUnit )
          #        {
          #            select sum(Qty) from inventTrans
          #                join inventTransOrigin where    inventTrans.InventTransOrigin   == inventTransOrigin.RecId  &&
          #                                                inventTransOrigin.InventTransId == SalesLine.InventTransId &&
          #                                                (inventTrans.StatusIssue  == StatusIssue::OnOrder || inventTrans.StatusIssue == StatusIssue::ReservPhysical);
          #
          #            if ( abs(SalesLine.SalesQty) != abs(inventTrans.Qty) )
          #            {
          #                this.IS_InsertIntoErrorLog(false, true, _realFix);
          #                SalesLine.RemainInventPhysical = 0;
          #                SalesLine.validateField(fieldName2id(tableName2id("SalesLine"),"SalesQty"));
          #                SalesLine::modifySalesqty(salesLine,salesLine.InventDim());
          #
          #                //if ( _realFix )
          #                //{
          #                //    estimated = InventUpd_Estimated::newInventMovement(InventMovement::construct(salesLine, InventMovSubType::None));
          #                //    estimated.updateNow();
          #                //}
          #                SalesLine_ds.write();
          #
          #            }
          #        }
          #        else
          #        {
          #            //Different UnitId for Sales and Inventory - check if inventory is +/- 1
          #            select sum(Qty) from inventTrans
          #                    join inventTransOrigin where    inventTrans.InventTransOrigin   == inventTransOrigin.RecId  &&
          #                                                    inventTransOrigin.InventTransId == SalesLine.InventTransId &&
          #                                                    (inventTrans.StatusIssue  == StatusIssue::OnOrder || inventTrans.StatusIssue == StatusIssue::ReservPhysical);
          #
          #            if (( abs(SalesLine.SalesQty) != 1 ) && (abs(inventTrans.Qty) == 1 ) )
          #            {
          #                this.IS_InsertIntoErrorLog(false, true, _realFix);
          #                SalesLine.RemainInventPhysical = 0;
          #                SalesLine.validateField(fieldName2id(tableName2id("SalesLine"),"SalesQty"));
          #                SalesLine::modifySalesqty(salesLine,salesLine.InventDim());
          #                SalesLine.update();
          #                //SalesLine_ds.write();
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #salesTaxItemGroupId
          #//IMPO266
          #TaxItemGroup salesTaxItemGroupId()
          #{
          #    ItemSalesTaxCodeByCountry_BG         itemSalesTaxGroup;
          #
          #    itemSalesTaxGroup = ItemSalesTaxCodeByCountry_BG::findByCountry(salesLine.ItemId,
          #                                                          SalesTaxModuleType_BG::Sales,
          #                                                          salesLine.salesCountry());
          #                                                          //salesLine.salesTable().salesCountry());
          #
          #    if (itemSalesTaxGroup)
          #        return itemSalesTaxGroup.ItemSalesTaxGroup;
          #    else
          #        return salesLine.inventTable().salesTaxItemGroupId();
          #}
        ENDSOURCE
        SOURCE #deleteDirectDeliveryPurchaseOrder
          #/// <summary>
          #/// Deletes the related direct delivery purchase order.
          #/// </summary>
          #/// <remarks>
          #/// This is used for cases when user un-checks the drop shipment flag.
          #/// </remarks>
          #protected void deleteDirectDeliveryPurchaseOrder()
          #{
          #    if(salesLine
          #        && !salesLine.mcrSalesLineDropShipment().DropShipment
          #        && salesLine.orig().mcrSalesLineDropShipment().DropShipment)
          #    {
          #        MCRSalesLineDropShipment::deleteRelatedPurchaseOrderLine(salesLine.RecId);
          #        salesLine_ds.reread();
          #    }
          #}
        ENDSOURCE
        SOURCE #mcrGetMarginValues
          #/// <summary>
          #///     Returns the margin percent value and margin icon for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin percent and icon.
          #/// </returns>
          #private container mcrGetMarginValues(SalesLine _salesLine)
          #{
          #    MCRMarginPecentStr  marginPecentStr;
          #    MCRResourceNum      mcrIcon;
          #
          #    if (salesParameters.mcrEnableMarginAlert
          #        && _salesLine.InventTransId)
          #    {
          #        // Use the value in the map for performance reasons if exists
          #        if (marginMap.exists(_salesLine.InventTransId))
          #        {
          #            return marginMap.lookup(_salesLine.InventTransId);
          #        }
          #        else
          #        {
          #            marginPecentStr = _salesLine.mcrDisplayMarginPercentStr();
          #
          #            // If the margin could not be calculated 'N/A' will be returned so don't
          #            // determine the icon
          #            if (marginPecentStr != "@SYS180118")
          #            {
          #                mcrIcon = MCRMarginAlert::getMarginIcon(str2num(marginPecentStr));
          #            }
          #            marginMap.insert(_salesLine.InventTransId, [marginPecentStr, mcrIcon]);
          #
          #            return [marginPecentStr, mcrIcon];
          #        }
          #    }
          #
          #    return conNull();
          #}
        ENDSOURCE
        SOURCE #mcrMarginPercentStr
          #/// <summary>
          #///     Displays the margin percent value for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin percent.
          #/// </returns>
          #display MCRMarginPecentStr mcrMarginPercentStr(SalesLine _salesLine)
          #{
          #    return conPeek(this.mcrGetMarginValues(_salesLine), 1);
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reread()
          #{
          #    // Current price references may need to be deleted.
          #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #unpackExtensions
          #/// <summary>
          #/// Unpacks all prioritized packed <C>SalesLine</C> extension tables.
          #/// </summary>
          #private void unpackExtensions()
          #{
          #    salesLine.SysExtensionSerializerMap::unpackAll(true);
          #}
        ENDSOURCE
        SOURCE #packExtensions
          #/// <summary>
          #/// Packs prioritized <C>SalesLine</C> extension tables.
          #/// </summary>
          #private void packExtensions()
          #{
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLine);
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLineDropShipment);
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLinePriceOverride);
          #}
        ENDSOURCE
        SOURCE #updateExplosionCTP
          #public void updateExplosionCTP()
          #{
          #    SalesConfirmDatesCommandStrategy    confirmDatesStrategy;
          #
          #    if (salesLine.DeliveryDateControlType == SalesDeliveryDateControlType::CTP)
          #    {
          #        this.write(false);
          #
          #        confirmDatesStrategy = SalesConfirmDatesCommandStrategy::newParameters(
          #            salesLine.DeliveryDateControlType,
          #            max(salesLine.ShippingDateRequested, today()),
          #            dateNull(),
          #            true);
          #
          #        confirmDatesStrategy.run(salesLine);
          #    }
          #}
        ENDSOURCE
        SOURCE #updateRetailDiscounts
          #private void updateRetailDiscounts()
          #{
          #    RetailSalesTable retailSales;
          #    RetailSalesDiscountLine discountLine;
          #    container retailCalculatorResultContainer;
          #    RetailSalesOrderCalculatorResult result = new RetailSalesOrderCalculatorResult();
          #    ListEnumerator discountLineEn;
          #
          #    RetailSalesLine retailSalesLineFromCalculation;
          #
          #    if (!RetailParameters::isRetailEnabledAndInUse())
          #    {
          #        return;
          #    }
          #
          #    retailSales = RetailSalesTable::findSalesTable(salesTable);
          #    if (retailSales && retailSales.RetailChannel)
          #    {
          #        retailCalculatorResultContainer = retailSales.TmpPriceDiscountData;
          #        // If the result is empty, do nothing. MCR may result in calling write() twice.
          #        if (retailCalculatorResultContainer)
          #        {
          #            result.unpack(retailCalculatorResultContainer);
          #
          #            if(result.parmNeedsRecalculateWholeOrder()
          #                && Box::yesNo("@REX4161136", DialogButton::Yes, "@REX4161139") == DialogButton::Yes)
          #            {
          #                element.recalculateRetailPricesDiscounts();
          #            }
          #            else
          #            {
          #                ttsbegin;
          #
          #                retailSalesLineFromCalculation = RetailSalesLine::findByInventTransId(salesLine.InventTransId, true);
          #                retailSalesLineFromCalculation.LineDscAmount = result.parmRetailSalesQuotationLine().LineDscAmount;
          #                retailSalesLineFromCalculation.LineManualDiscountAmount = result.parmRetailSalesQuotationLine().LineManualDiscountAmount;
          #                retailSalesLineFromCalculation.LineManualDiscountPercentage = result.parmRetailSalesQuotationLine().LineManualDiscountPercentage;
          #                retailSalesLineFromCalculation.PeriodicDiscount = result.parmRetailSalesQuotationLine().PeriodicDiscount;
          #                retailSalesLineFromCalculation.PeriodicPercentageDiscount = result.parmRetailSalesQuotationLine().PeriodicPercentageDiscount;
          #                retailSalesLineFromCalculation.TotalDiscount = result.parmRetailSalesQuotationLine().TotalDiscount;
          #                retailSalesLineFromCalculation.TotalPctDiscount = result.parmRetailSalesQuotationLine().TotalPctDiscount;
          #
          #                retailSalesLineFromCalculation.update();
          #
          #                delete_from discountLine
          #                    where discountLine.InventTransId == salesLine.InventTransId;
          #
          #                discountLineEn = result.getRetailSalesDiscountLineList().getEnumerator();
          #
          #                while (discountLineEn.moveNext())
          #                {
          #                    discountLine = discountLineEn.current();
          #                    if (!discountLine.InventTransId)
          #                    {
          #                        discountLine.InventTransId = salesLine.InventTransId;
          #                    }
          #
          #
          #                    if (discountLine.InventTransId == salesLine.InventTransId)
          #                    {
          #                        discountLine.insert();
          #                    }
          #                }
          #
          #                retailSales = RetailSalesTable::findSalesTable(salesTable, true);
          #                retailSales.TmpPriceDiscountData = conNull();
          #                retailSales.update();
          #
          #                ttscommit;
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #mcrMarginIcon
          #/// <summary>
          #///     Displays the margin icon value for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin icon.
          #/// </returns>
          #display MCRResourceNum mcrMarginIcon(SalesLine _salesLine)
          #{
          #    return conPeek(this.mcrGetMarginValues(_salesLine), 2);
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    // <GEEU>
          #    LineNum lineCount;
          #    // </GEEU>
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    if (!salesTableForm.canNewLineBeAppended(salesLine))
          #    {
          #        append = false;
          #    }
          #
          #    if (!salesLine.PBAItemLine::checkMandatory())
          #    {
          #        return;
          #    }
          #
          #    if (salesTable.checkUpdate(true, salesTable_ds.performIntercompanyValidation()))
          #    {
          #        super(append);
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            lineCount = salesTable.lineNumForCreditNote();
          #
          #            if (lineCount > 0)
          #            {
          #                salesLine.LineNum = lineCount;
          #            }
          #        }
          #        // </GEEU>
          #
          #        element.setEditItemOrCategoryAllowed(true);
          #
          #        // filter exist on itemId
          #        if (salesLine.ItemId)
          #        {
          #            this.itemIdModified();
          #        }
          #        // filter exists on SalesCategory
          #        else if (salesLine.SalesCategory)
          #        {
          #            this.changedStockedStatus(true);
          #        }
          #
          #        salesLine_ds.refresh();
          #
          #        //Won't create new salesline if current one was not created correctly
          #        if (!salesLine.ItemId && !salesLine.SalesCategory)
          #        {
          #            salesTableForm.salesLine_Create(salesLine);
          #        }
          #
          #        if (salesTable
          #            && salesLine_ItemId.isDisplayed())
          #        {
          #            salesLine_ItemId.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    boolean enableDeliveryTaxGroups = salesLine.SalesType == SalesType::ItemReq || salesLine_BR.DeliveryCFOPTable_BR;
          #
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxItemGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #}
        ENDSOURCE
        SOURCE #initCustInvoiceTrans
          #// <GEEU>
          #private void initCustInvoiceTrans()
          #{
          #    Query                   query;
          #    QueryBuildDataSource    qbds;
          #    QueryBuildRange         qbr;
          #
          #    query = new Query();
          #    qbds = query.addDataSource(tableNum(CustInvoiceTrans));
          #
          #    qbr = qbds.addRange(fieldNum(CustInvoiceTrans, RecId));
          #    qbr.value(SysQuery::value(salesLine.RefReturnInvoiceTrans_W));
          #
          #    custInvoiceTrans_ds.query(query);
          #    custInvoiceTrans_ds.executeQuery();
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #allowEditLine_PL
          #// <GEEU>
          #private void allowEditLine_PL()
          #{
          #    boolean isCreditNote_PL;
          #
          #    isCreditNote_PL = salesTable.isCreditNote_PL();
          #
          #    salesLine_DS.object(fieldNum(SalesLine, Reservation)).allowEdit(! isCreditNote_PL);
          #
          #    salesLine_DS.object(fieldNum(SalesLine, CreditNoteReasonCode)).allowEdit(isCreditNote_PL);
          #    wmsOrderAllowCreate.enabled(!isCreditNote_PL);
          #    inventTransPick.enabled(!isCreditNote_PL);
          #
          #    if (salesLine.CreditNoteInternalRef_PL && !salesLine.RefReturnInvoiceTrans_W && !salesLine.ProjId && salesLine.aiExistsOnOriginalInvoice())
          #    {
          #        salesLine_DS.object(fieldNum(SalesLine, SalesQty)).allowEdit  (false);
          #        salesLine_DS.object(fieldNum(SalesLine, LineAmount)).allowEdit(false);
          #    }
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #active_BR
          #private void active_BR()
          #{
          #    salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(!salesLine_BR.TaxServiceCode_BR);
          #
          #    if (salesLine.ProjId)
          #    {
          #        if (salesLine.SalesType == SalesType::ItemReq)
          #        {
          #            salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(false);
          #        }
          #    }
          #
          #    salesLine_BR_DS.enableDataSourceFields_BR();
          #    this.enableDataSourceFields_BR();
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #
          #    if (isCalledFromLP)
          #    {
          #        isCalledFromLP = false;
          #        if (salesTable && TradeFormHelper::isEditableNotGridView(element.args()))
          #        {
          #            salesLine_SalesQty.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableProjectFields
          #void enableProjectFields()
          #{
          #    if (salesLine.ProjId)
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(true);
          #    }
          #    else
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean ret = true;
          #    str warning = salesLine.type().getDeleteWarning();
          #
          #    if (warning != "")
          #    {
          #        ret = (Box::yesNo(warning, DialogButton::No) == DialogButton::Yes)
          #            && salesLine.validateDelete();
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret && salesLine.checkDelete();
          #}
        ENDSOURCE
        SOURCE #changedStockedStatus
          #/// <summary>
          #/// Updates the form to reflect the current stocked status, i.e. after a change to the stocked field based on itemid or category field change.
          #/// </summary>
          #/// <param name="_resetPrice">
          #/// A boolean value that specifies if price should be reset for the line.
          #/// </param>
          #void changedStockedStatus(boolean _resetPrice)
          #{
          #    // Update inventDim with new data which has been set due to modification
          #    inventDim.data(
          #        SalesLineItemIdModifiedDTO::salesLineModifyInvDimAndSetTransQtyUnit(salesLine, _resetPrice));
          #    // Update inventdim fields
          #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
          #    // Update tagging fields based on dimension settings.
          #    element.updateRFIDTagging();
          #
          #    // Disable category editing if itemid is selected
          #    salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(salesLine.ItemId == '');
          #    // Disable itemid editing if only a category is selected
          #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(!salesLine.isCategoryBased());
          #
          #    // Update allow edit for scrap
          #    element.checkCreditNoteLine();
          #    // Update allow edit for inventory fields
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    salesTableForm.adjustLineAccessBasedOnItem(salesLine);
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(salesLine.ItemId &&
          #                                                                       InventTable::find(salesLine.ItemId).AssetGroupId_RU != '' ||
          #                                                                       salesLine.SalesCategory);
          #    }
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #inventDim
          #InventDim inventDim()
          #{
          #    return inventDim;
          #}
        ENDSOURCE
        SOURCE #itemIdModified
          #/// <summary>
          #/// Updates the <c>SalesLine</c> and form based on the item when changed.
          #/// </summary>
          #void itemIdModified()
          #{
          #    SalesLineItemIdModifiedDTO itemIdModifiedDTO = SalesLineItemIdModifiedDTO::construct();
          #
          #    //resetPrice is false here because, it would be called subsequently from changedStockedStatus.
          #    //if an agereement is associated with the SO then reset the price since it won't be reset after the mathichg agreement line is found.
          #    this.packExtensions();
          #    itemIdModifiedDTO.unpack(
          #        salesLine.itemIdChanged(salesTable.MatchingAgreement !=0, salesTable.MatchingAgreement));
          #    this.unpackExtensions();
          #
          #    this.changedStockedStatus(false);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.enableLineSalesQtyFields(
          #            salesLine,
          #            salesLine.SalesUnit != '',
          #            itemIdModifiedDTO.parmIsStocked());
          #    }
          #
          #    // If ordering a gift card set the buyer name and email
          #    if (salesLine.ItemId == RetailParameters::find().GiftcardItem)
          #    {
          #        mcrSalesLine.GiftCardBuyerEmail = salesTable.Email;
          #        mcrSalesLine.GiftCardBuyerName  = salesTable.SalesName;
          #    }
          #
          #    // Reread ReferenceGroup controls, e.g. to show the category name.
          #    salesLine_ds.rereadReferenceDataSources();
          #
          #    // Refresh view of these two datasources, so they show correct values before line is saved.
          #    // This is not an unused call, doing this makes ds sync with the extension
          #    salesLine.mcrSalesLineDropShipment();
          #    mcrSalesLineDropShipment_ds.refresh();
          #    mcrSalesLine_ds.refresh();
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    whsSalesLine.PackingQty = itemIdModifiedDTO.parmWHSPackingQty();
          #
          #    // <GEERU>
          #    element.enableForeignTrade_RU();
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #lineDeliveryTypeImage
          #display LineDeliveryTypeImage lineDeliveryTypeImage(SalesLine _salesLine)
          #{
          #    return imageList.image(_salesLine.lineDeliveryImageRessNo());
          #}
        ENDSOURCE
        SOURCE #initValue
          #void  initValue()
          #{
          #    salesTable_ds.packExtensions();
          #    this.packExtensions();
          #    salesLine.initFromSalesTable(salesTable);
          #    this.unpackExtensions();
          #
          #    // For category based lines Name should be kept if manually modified.
          #    keepName = false;
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, itemName), false);
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, timeZoneSite), true);
          #
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, whsGetLoads));
          #
          #    if (InventParameters::find().UseQualityManagement)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, qualityOrderStatusDisplay), true);
          #    }
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        this.cacheAddMethod(tableMethodStr(SalesLine, pdsCWUnitId));
          #    }
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonCode));
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonComment));
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #}
        ENDSOURCE
        SOURCE #salesTable_ds
          #FormDataSource salesTable_ds()
          #{
          #    return salesTable_ds;
          #}
        ENDSOURCE
        SOURCE #write
          #/// <summary>
          #///     Writes the SalesLine record.
          #/// </summary>
          #/// <param name="_calculateConfirmedDates">
          #///     A boolean value indicating whether to calculate confirmed shipping/receipt dates.
          #/// </param>
          #void  write(boolean _calculateConfirmedDates = true)
          #{
          #    WHSSalesLine    newWHSSalesLine;
          #    SalesLine   localSalesLine;
          #    SalesLine   salesLineFind;
          #
          #    boolean     agreementWasChanged = (salesLine.MatchingAgreementLine != salesLine.orig().MatchingAgreementLine);
          #    boolean     wasDataSourceResearched = false;
          #    // <GEEU>
          #    SalesQty    origSalesQty_PL;
          #    // </GEEU>
          #    boolean     updatePricingCalculationCache = salesLine.RecId == 0;
          #
          #    // <GEEPL>
          #    RefRecId    serviceTariffNumber;
          #    // </GEEPL>
          #
          #    boolean                         onInsert;
          #    boolean                         priceChanged;
          #    boolean                         returnReplacement;
          #    MCROrderEventTable              mcrOrderEventTableLocal;
          #    SalesLine                       salesLineHolder;
          #    MCRInventTable                  mcrInventTableLocal;
          #
          #    //SUPP0400 T.Goshev 14.05.2015 ->
          #    InventTrans                 inventTrans, inventTransLocal;
          #    InventTransOrigin           inventTransOrigin, inventTransOriginLocal;
          #    IS_SalesQtyInventQtyLog     IS_SalesQtyInventQtyLog;
          #    InventUpd_Estimated         estimated;
          #    Qty                         InventQty;
          #    SalesTable                  salesTableLocal;
          #    //<-
          #
          #    if (!salesTable.checkCreditCard())
          #    {
          #        salesTable_ds.setTouched();
          #    }
          #
          #    autoConfig = salesLine.PBAItemLine::doConfigureOnWrite();
          #
          #    // Find if an item is set up as a continuity parent
          #    if (   salesLine.orig().SalesPrice  != salesLine.SalesPrice
          #        || salesLine.orig().LineDisc    != salesLine.LineDisc
          #        || salesLine.orig().LinePercent != salesLine.LinePercent
          #        || salesLine.orig().PriceUnit   != salesLine.PriceUnit
          #        || salesLine.orig().SalesMarkup != salesLine.SalesMarkup)
          #    {
          #        priceChanged = true;
          #    }
          #
          #    //HUVEPHARMA_AX_SUPP SUPP0400 V.Karaivanov 05.06.2015 ->>
          #    //this.IS_ValidateInventQty(true);
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        if (mcrCallCenterEnabled)
          #        {
          #            mcrInventTableLocal = MCRInventTable::findByItemId(salesLine.ItemId);
          #            if (mcrInventTableLocal.ContinuityScheduleId)
          #            {
          #                mcrSalesLine.ContinuityScheduleId = mcrInventTableLocal.ContinuityScheduleId;
          #                mcrSalesLine.LineType = MCRLineType::ContinuityParent;
          #            }
          #        }
          #        // <GEEU>
          #        origSalesQty_PL = salesLine.orig().SalesQty;
          #        // </GEEU>
          #
          #        salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #        salesTableForm.salesLine_Write(salesLine);
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesLine.TableId, salesLine.RecId, salesLine.TaxGroup, salesLine.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerLine.writing();
          #
          #        // Want to know if inserting because will show form for gift certificates
          #        // if inserting but not if modifying.
          #        if (salesLine.RecId == 0)
          #        {
          #            onInsert = true;
          #        }
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffLine.ServiceTariffNumber;
          #
          #        // </GEEPL>
          #
          #        this.packExtensions();
          #        super();
          #        this.unpackExtensions();
          #
          #        if (updatePricingCalculationCache)
          #        {
          #            salesTableForm.recalculatePotencyPricingCache(salesLine.RecId, salesLine.ItemId);
          #        }
          #
          #
          #        if (WHSInventEnabled::exist(salesLine.ItemId) || TMSInventEnabled::exist(salesLine.ItemId))
          #        {
          #            newWHSSalesLine = WHSSalesLine::find(salesLine.InventTransId);
          #            if (!newWHSSalesLine.RecId)
          #            {
          #                whsSalesLine.InventTransId = salesLine.InventTransId;
          #                whsSalesLine.write();
          #            }
          #            else
          #            {
          #                whsSalesLine.data(newWHSSalesLine);
          #                whsSalesLine.reread();
          #            }
          #        }
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_Intrastat)))
          #        {
          #            salesLine_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GEECZ>
          #
          #        if (!salesLine_IN.RecId)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLine_IN.SalesLine = salesLine.RecId;
          #            salesLine_IN_ds.write();
          #        }
          #
          #        if (!mcrSalesLine.RecId)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLine.SalesLine = salesLine.RecId;
          #            mcrSalesLine_ds.write();
          #        }
          #
          #        if (!mcrSalesLineDropShipment.RecId && mcrSalesLineDropShipment.DropShipment)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLineDropShipment.SalesLine = salesLine.RecId;
          #            // if not read above, and needed, get MCRInventTable here. Drop ship does not require call center.
          #            if (!mcrInventTableLocal)
          #            {
          #                mcrInventTableLocal = MCRInventTable::findByItemId(salesLine.ItemId);
          #            }
          #
          #            if (mcrInventTableLocal.DropShipment)
          #            {
          #                mcrSalesLineDropShipment.DropShipment = true;
          #                inventDim.InventLocationId = InventTableModule::find(salesLine.ItemId,ModuleInventPurchSales::Sales).inventLocationId();
          #
          #                mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::ToBeDropShipped;
          #                salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #                salesLine.modifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
          #            }
          #            mcrSalesLineDropShipment_ds.write();
          #        }
          #
          #        this.deleteDirectDeliveryPurchaseOrder();
          #
          #        if (!mcrSalesLinePriceOverride.RecId && mcrSalesLinePriceOverride.PriceOverride)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLinePriceOverride.SalesLine = salesLine.RecId;
          #            mcrSalesLinePriceOverride_ds.write();
          #        }
          #
          #        this.updateRetailDiscounts();
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffLine.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #        // </GEEPL>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesLine_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GBR>
          #
          #        // Agreement linking is handled as part of SalesLine insert/update/delete
          #
          #        if (salesLine.isCategoryBased() && !salesLineForeignTradeCategory.SalesLineInventTransId)
          #        {
          #            salesLineForeignTradeCategory.initFromSalesLine(salesLine);
          #            salesLineForeignTradeCategory_ds.write();
          #            salesLine.type().updatePendingRegistrationsNonStocked(false);
          #        }
          #
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            salesLine.updateCreditNoteMarking_PL(origSalesQty_PL);
          #        }
          #        // </GEEU>
          #
          #        // If item is a continuity parent, mark the sales order as continuity,
          #        // disable and uncheck ship complete, and launch the continuity specific forms
          #        if (onInsert && mcrInventTableLocal.ContinuityScheduleId)
          #        {
          #            salesLine.mcrCreateContinuityCust();
          #        }
          #
          #        if (mcrReturnSalesTable.IsExchange
          #            && SalesLine::mcrFindReturnLineForExchange(salesLine.InventTransId))
          #        {
          #            returnReplacement = true;
          #        }
          #
          #        if (salesLine.InventDimId != inventDim.InventDimId)
          #        {
          #            inventDim.data(InventDim::find(salesLine.InventDimId));
          #            inventDim_ds.setCurrent();
          #        }
          #
          #        // <GIN>
          #        if (isSalesLine_INEnabled)
          #        {
          #            salesLine_IN.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GIN>
          #
          #        salesTableForm.refreshDeliverySchedule(salesLine, agreementWasChanged && !salesLine.MatchingAgreementLine);
          #
          #        if (_calculateConfirmedDates &&
          #            SalesLine::setConfirmedDatesUsingUIStrategy(salesLine, salesTable, true))
          #        {
          #            salesLine_ds.refresh();
          #        }
          #
          #        if (PurchTable::find(salesLine.InventRefId).InterCompanyOrder
          #        ||  salesTable.InterCompanyOrder)
          #        {
          #            localSalesLine.data(salesLine.data());
          #            salesLine_ds.executeQuery();
          #            salesLine_ds.findRecord(localSalesLine);
          #        }
          #        salesTable_ds.reread();
          #        salesTable_ds.refresh();
          #        //lines have changed so salesTable.estimated migth need to be re-calculated
          #        salesTable_ds.setTouched();
          #    }
          #
          #    if (autoConfig)
          #    {
          #        // start the configuration process
          #        salesLine.PBAItemLine::autoConfig();
          #
          #        // finds the current selected sales line
          #        salesLineFind = SalesLine::findInventTransId(salesLine.InventTransId);
          #        // syncs sales table with db
          #        salesLine_ds.research();
          #
          #        // finds the current selected sales line
          #        salesLine_ds.findRecord(salesLineFind);
          #
          #        wasDataSourceResearched = true;
          #    }
          #
          #    if (!askingModifyInvoiced && !wasDataSourceResearched)
          #    {
          #        // if using retail pricing, re-query the sales lines (discounts may have changed for other lines)
          #        if (RetailParameters::isRetailEnabledAndInUse() &&
          #            RetailPricingEngine::useRetailPricing(salesLine))
          #        {
          #            salesLineHolder.RecId = salesLine.RecId;
          #            salesLine_ds.research();
          #            salesLine_ds.findRecord(salesLineHolder);
          #        }
          #    }
          #
          #    interCompanyIsPriceDiscSearchNeeded = 0;
          #
          #    if (salesTable.CashDiscPercent && salesLine.SalesQty < 0)
          #    {
          #        if (salesLine.creditNoteLine())
          #        {
          #            info("@SYS99047");
          #        }
          #    }
          #
          #    if (salesTable.ProjId)
          #    {
          #        element.automaticTotalDiscount();
          #    }
          #    // Write the order event for override price if an event around pricing occured.
          #    if (mcrLinePriceOverrideEventType
          #        && priceChanged)
          #    {
          #        mcrOrderEventTableLocal.insertPriceChange(
          #            salesLine.SalesId,
          #            mcrLinePriceOverrideEventType,
          #            mcrLinePriceOverrideUserId,
          #            mcrSalesLinePriceOverride.ListPrice,
          #            mcrSalesLinePriceOverride.ListPriceCurrencyCode,
          #            salesLine.mcrPricePerSalesQty(),
          #            mcrLinePriceOverrideReasonCode,
          #            salesLine.InventTransId);
          #        // Reset event type (otherwise price events continue to be written)
          #        mcrLinePriceOverrideEventType = 0;
          #    }
          #
          #    // The following lines check to see if the line just added above contains any Up-Sell/Cross-Sell
          #    // entries within the MCRUpSellItem table.  If it does, a new form is invoked to allow the addition
          #    // of additional SalesLines.
          #    // Don't upsell/cross-sell for return replacement lines.
          #    if (! returnReplacement)
          #    {
          #        if (onInsert && mcrCallCenterOrder
          #            && MCRUpSellItem::existItem(salesLine.ItemId))
          #        {
          #            TmpMCRUpSellOrderEntry::mcrJumpRef(salesLine);
          #            //salesLine_ds.research(true);
          #            // finds the current selected sales line
          #            salesLineFind = SalesLine::findInventTransId(salesLine.InventTransId);
          #            // syncs sales table with db
          #            salesLine_ds.research();
          #
          #            // updates table ui
          #            salesLine_DS.reread();
          #
          #            // finds the current selected sales line
          #            salesLine_ds.findRecord(salesLineFind);
          #        }
          #    }
          #
          #    // Records that the order has been opened and which one it is.
          #    if (salesTable.SalesStatus == SalesStatus::Backorder
          #        && enableOrderCompletion)
          #    {
          #        openOrderSalesTable = salesTable.data();
          #    }
          #
          #
          #    //ISVK
          #
          #    this.IS_ValidateInventQty(true);
          #
          #    return;
          #
          #
          #    //SUPP0400 T.Goshev 14.05.2015 ->
          #
          #    if(InventTable::find(SalesLine.ItemId).ItemType == ItemType::Item)
          #    {
          #
          #        /*
          #        select sum(Qty) from inventTrans
          #            join inventTransOrigin where inventTrans.InventTransOrigin == inventTransOrigin.RecId  && inventTransOrigin.InventTransId == SalesLine.InventTransId
          #            && (inventTrans.StatusIssue == StatusIssue::OnOrder || inventTrans.StatusIssue == StatusIssue::ReservPhysical);
          #        */
          #
          #        /*
          #        if(decRound(SalesLine.SalesQty, 0) != decRound(UnitOfMeasureConverter::convert(-inventTrans.Qty,
          #                                                                    UnitOfMeasure::findBySymbol(InventTableModule::find(SalesLine.ItemId, ModuleInventPurchSales::Invent).UnitId).RecId,
          #                                                                    UnitOfMeasure::findBySymbol(SalesLine.SalesUnit).RecId,
          #                                                                    false,
          #                                                                    SalesLine.inventTable().Product,
          #                                                                    false,
          #                                                                    true), 0))
          #        */
          #
          #        InventQty = decRound(UnitOfMeasureConverter::convert(SalesLine.SalesQty,
          #                                                    UnitOfMeasure::findBySymbol(SalesLine.SalesUnit).RecId,
          #                                                    UnitOfMeasure::findBySymbol(InventTableModule::find(SalesLine.ItemId, ModuleInventPurchSales::Invent).UnitId).RecId,
          #                                                    false,
          #                                                    SalesLine.inventTable().Product,
          #                                                    false,
          #                                                    true), UnitOfMeasure::findBySymbol(InventTableModule::find(SalesLine.ItemId, ModuleInventPurchSales::Invent).UnitId).DecimalPrecision);
          #
          #        if(((SalesLine.QtyOrdered == 1) && (InventQty != 1)) || ((SalesLine.QtyOrdered == 0) && (InventQty != 0)))
          #        {
          #            warning("@HVP1716");
          #
          #            IS_SalesQtyInventQtyLog.initValue();
          #            IS_SalesQtyInventQtyLog.SysUserId = curUserId();
          #            IS_SalesQtyInventQtyLog.SalesId = SalesLine.SalesId;
          #            IS_SalesQtyInventQtyLog.ItemId = SalesLine.ItemId;
          #            IS_SalesQtyInventQtyLog.SalesQty = SalesLine.SalesQty;
          #            IS_SalesQtyInventQtyLog.RemainInventPhysical = SalesLine.RemainInventPhysical;
          #            IS_SalesQtyInventQtyLog.QtyOrdered = SalesLine.QtyOrdered;
          #
          #            IS_SalesQtyInventQtyLog.insert();
          #
          #            ttsbegin;
          #
          #            select forupdate salesTableLocal
          #                where salesTableLocal.SalesId == salesTable.SalesId;
          #
          #            salesTableLocal.Blocked_HV = NoYes::Yes;
          #            salesTableLocal.doUpdate();
          #
          #            ttscommit;
          #
          #            salesTable_ds.reRead();
          #            salesTable_ds.active();
          #
          #            //SalesLine::modifySalesqty(salesLine,salesLine.InventDim());
          #
          #            /*
          #
          #            salesLine.RemainInventPhysical = (2 * salesLine.RemainInventPhysical) + inventTrans.Qty;
          #
          #            estimated = InventUpd_Estimated::newInventMovement(InventMovement::construct(salesLine, InventMovSubType::None));
          #            estimated.updateNow();
          #
          #            */
          #
          #        }
          #    }
          #
          #    //<-
          #
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void  linkActive()
          #{
          #    SalesLine salesLineLocal;
          #
          #    // Needed to avoid sales lines changing for seemingly no reason - related to the MCRScriptText and image
          #    if (salesLine)
          #    {
          #        salesLineLocal = salesLine.data();
          #    }
          #
          #    super();
          #
          #    if (salesLineLocal)
          #    {
          #        // Needed to avoid sales lines changing for seemingly no reason - related to the MCRScriptText and image
          #        salesLine_ds.findRecord(salesLineLocal);
          #    }
          #
          #    /* Set caption */
          #    if (!salesLine && salesTable && !element.inViewMode())
          #    {
          #        salesTableForm.salesTable(salesTable);
          #        salesLine_ds.create();
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    SalesId salesId;
          #    boolean interCompanySalesLineExist;
          #    // <GEEU>
          #    boolean mustFormResearchAfterDelete = salesTableForm.mustFormResearchAfterDelete(salesLine, salesLine_ds.anyMarked());
          #    // </GEEU>
          #    RetailSalesOrderCalculator retailCalculator;
          #    RetailSalesTable retailSalesTable = salesTable.retailSalesTable();
          #
          #    if(blockSalesLineDelete)
          #    {
          #        return;
          #    }
          #
          #    salesId                    = salesLine.SalesId;
          #    interCompanySalesLineExist = salesLine.interCompanySalesLineExist();
          #
          #    // Current price references may need to be deleted.
          #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #    //For PBA mandaroty configuration item deleting
          #    deleting = true;
          #    super();
          #    deleting = false;
          #    // if retail order, we need to recalculate after deleting a line
          #    if (RetailParameters::isRetailEnabledAndInUse() &&
          #        RetailPricingEngine::useRetailPricing(salesLine))
          #    {
          #        retailCalculator = RetailSalesOrderCalculator::construct(salesTable.SalesId);
          #        retailCalculator.setPricesDiscountsOnOrder(retailSalesTable.TotalManualDiscountPercentage);
          #        salesLine_ds.research(true);
          #    }
          #
          #    if (mustFormResearchAfterDelete)
          #    {
          #        salesLine_ds.research(true);
          #    }
          #
          #    if (salesId && SalesTable::exist(salesId))
          #    {
          #        if (SalesParameters::find().DeleteHeading == NoYes::Yes && SalesTable::find(salesId).SalesStatus == SalesStatus::Invoiced)
          #        {
          #            retailCalculator = RetailSalesOrderCalculator::construct(salesTable.SalesId);
          #            retailCalculator.setPricesDiscountsOnOrder(salesTable.DiscPercent);
          #            salesLine_ds.research(true);
          #        }
          #        else
          #        {
          #            salesTable_ds.reread();
          #            salesTable_ds.refresh();
          #        }
          #    }
          #
          #    // Always make sure it gets refreshed. Certain cases exist where the existing lines will hide if this isn't called
          #    if(!mcrProcessingDeliverySchedule
          #        && this.numberOfRowsLoaded() == 0)
          #    {
          #        salesLine_ds.executeQuery();
          #    }
          #
          #    // Reset the header control
          #    element.mcrSetHeaderControls();
          #
          #    salesTableForm.setTouched(salesTable);
          #
          #    dimensionDefaultingControllerLine.deleted();
          #
          #    if (salesTable.ProjId)
          #    {
          #        element.automaticTotalDiscount();
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #int  active(boolean _mcrFormPartUpdateOnly = false)
          #{
          #    int     ret;
          #    boolean returnItem = salesTable.returnItem();
          #    boolean allowEditDeliveryPostalAddress;
          #
          #    boolean allowEdit_HV = true, allowEditDlv_HV = true;       // IS_HV_06003
          #
          #    //HUVEPHARMA_AX_SUPP SUPP0010 B.FILIPOV 23.3.2015 ->
          #    DictTable dictTable;
          #    FieldId fieldId;
          #    DictField dictField;
          #    #ISOCountryRegionCodes
          #    //<-
          #
          #    str kk;
          #
          #    ret = super();
          #
          #    element.mcrSetLineControls();
          #
          #    if (_mcrFormPartUpdateOnly)
          #    {
          #        return ret;//only do the super to update the form part
          #    }
          #
          #    salesTableForm.salesTable(salesTable);
          #
          #    buttonHeaderTradeAgreements.    enabled(!returnItem);
          #
          #    element.setEditItemOrCategoryAllowed(salesLine.RecId == 0);
          #
          #    // <GEEU>
          #    salesLine_ds.allowEdit(salesTableForm.editLineAllowed(salesLine));
          #    // </GEEU>
          #
          #     // If already disabled by setting header controls (Complete/modify buttons) don't allow this to re-enable the salesLine
          #    if (salesLine_ds.allowEdit())
          #    {
          #        salesLine_ds.allowCreate(salesTableForm.createLineAllowed(salesLine));
          #        salesLine_ds.allowDelete(salesTableForm.deleteLineAllowed(salesLine));
          #    }
          #
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(
          #            salesLine.SalesStatus != SalesStatus::Invoiced &&
          #            (salesLine.ItemId                               &&
          #             InventTable::find(salesLine.ItemId).AssetGroupId_RU ||
          #             salesLine.SalesCategory));
          #
          #        salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(element.allowEditLedgerAccount_RU());
          #
          #        element.enableForeignTrade_RU();
          #    }
          #    // </GEERU>
          #
          #    element.checkCreditNoteLine();
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #    element.updateRFIDTagging();
          #
          #    if (headerError)
          #    {
          #        salesTable.Touched  = NoYes::Yes;
          #        headerError         = false;
          #    }
          #
          #    // <GEEU>
          #    // Credit note
          #    if (countryRegion_EEU && !isRU)
          #    {
          #        this.allowEditLine_PL();
          #        this.initCustInvoiceTrans();
          #
          #        if (salesLine.RefReturnInvoiceTrans_W != 0 || salesLine.CreditNoteInternalRef_PL != 0)
          #        {
          #            tabCreditNote.visible(true);
          #        }
          #        else
          #        {
          #            tabCreditNote.visible(false);
          #        }
          #
          #        element.redraw();
          #    }
          #    // </GEEU>
          #
          #    salesTableForm.interCompanySetLineAccess(salesLine);
          #
          #    allowEditDeliveryPostalAddress = salesLine_ds.object(fieldNum(SalesLine,DeliveryPostalAddress)).allowEdit();
          #    logisticsLocationSelectLine.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewLine.enabled(allowEditDeliveryPostalAddress);
          #
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #
          #    salesLine_ds.enableProjectFields();
          #
          #    element.showInactiveAddressBar();
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.active_BR();
          #    }
          #    // </GBR>
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        element.enableFieldsActive_IN();
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #        this.enableExciseFields_IN();
          #
          #        if (salesTable.CustomsExportOrder_IN
          #            && salesLine.RecId
          #            && salesLine.SalesQty > 0
          #            && TaxParameters::find().EximIncentiveSchemes_IN
          #            && !EximSalesLine_IN::exist(salesLine.RecId))
          #        {
          #            element.setTaxWithholdEnabled_IN();
          #            taxInformation_IN_ds.executeQuery();
          #        }
          #        salesLineReturnDetails_IN_ds.enableSalesLineReturnDataSource();
          #    }
          #    // </GIN>
          #    dimensionDefaultingControllerLine.activated();
          #
          #    // <GEEPL>
          #    if (countryRegion_PL)
          #    {
          #        element.enableInventExtPurchButton();
          #    }
          #    // </GEEPL>
          #    mcrLinePriceOverrideReasonCode = "";
          #    mcrLinePriceOverrideUserId     = "";
          #
          #    if (enableDirectedSelling)
          #    {
          #        // Set the current image to 1 so that the first image will load.
          #        // Load the images and messages for this item
          #        element.mcrDisplayItemMessage();
          #
          #        mcrImageUrl = element.mcrGetLoadImageFileObject().loadImageFile(InventTable::find(salesLine.ItemId));
          #    }
          #
          #    // For lines with a continuity item, enable the ContinuitySchedule Button
          #    if(enableOrderCompletion
          #        || (mcrCallCenterOrder && InventTable::mcrIsItemContinuity(salesLine.ItemId)))
          #    {
          #        mcrSalesLine_ContinuityScheduleId.enabled(true);
          #        mcrContinuitySchedule.enabled(true);
          #    }
          #    else
          #    {
          #        mcrSalesLine_ContinuityScheduleId.enabled(false);
          #        mcrContinuitySchedule.enabled(false);
          #    }
          #
          #    onInit = true;
          #
          #    whsWorkTable.enabled(WHSInventEnabled::exist(salesLine.ItemId));
          #    whsSalesLine_PackingQty.enabled(WHSInventEnabled::exist(salesLine.ItemId) || TMSInventEnabled::exist(salesLine.ItemId));
          #
          #
          #    // IS_HV_06003 -->
          #    switch (salesLine.OfferingType_HV)
          #    {
          #        case OfferingType_HV::QtyPriceEach          :
          #            SalesLine_SalesQty.allowEdit(true);
          #            SalesLine_QtyKGA_HV.allowEdit(false);
          #            SalesLine_SalesPrice.allowEdit(true);
          #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
          #            break;
          #
          #        case OfferingType_HV::QtyPriceEachKGA       :
          #            SalesLine_SalesQty.allowEdit(true);
          #            SalesLine_QtyKGA_HV.allowEdit(false);
          #            SalesLine_SalesPrice.allowEdit(false);
          #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
          #            break;
          #
          #        case OfferingType_HV::QtyKGAPriceEach       :
          #            SalesLine_SalesQty.allowEdit(false);
          #            SalesLine_QtyKGA_HV.allowEdit(true);
          #            SalesLine_SalesPrice.allowEdit(true);
          #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
          #            break;
          #
          #        case OfferingType_HV::QtyKGAPriceEachKGA    :
          #            SalesLine_SalesQty.allowEdit(false);
          #            SalesLine_QtyKGA_HV.allowEdit(true);
          #            SalesLine_SalesPrice.allowEdit(false);
          #            SalesLine_SalesPriceKGA_HV.allowEdit(true);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(false);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(true);
          #            break;
          #
          #        default :
          #            SalesLine_SalesQty.allowEdit(true);
          #            SalesLine_QtyKGA_HV.allowEdit(false);
          #            SalesLine_SalesPrice.allowEdit(true);
          #            SalesLine_SalesPriceKGA_HV.allowEdit(false);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(true);
          #            salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(false);
          #            break;
          #    }
          #
          #    if (salesLine.TransferJournalId_HV)
          #        SalesLine_SalesQty.allowEdit(false);
          #
          #    SalesLine_SalesUnit.allowEdit(salesLine.TransferJournalId_HV ? false : true);
          #
          #    if (salesTable.isReadyForExport_HV() || salesTable.isExported_HV() || salesTable.isReadyForShipment_HV())
          #        allowEdit_HV = false;
          #
          #    if (salesTable.isReadyForShipment_HV())
          #        allowEditDlv_HV = false;
          #
          #    if (!allowEdit_HV)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, QtyKGA_HV)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, SalesPriceKGA_HV)).allowEdit(false);
          #    }
          #    // < IS A.Papalichev SUPP0334.3 17.02.2017 >
          #    if (curext() == '410' && !allowEdit_HV)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, Name)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, MarkingText_HV)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, PackingText_HV)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, PalletizingText_HV)).allowEdit(true);
          #    } else {
          #        salesLine_ds.object(fieldNum(SalesLine, Name)).allowEdit(allowEdit_HV);
          #        salesLine_ds.object(fieldNum(SalesLine, MarkingText_HV)).allowEdit(allowEdit_HV);
          #        salesLine_ds.object(fieldNum(SalesLine, PackingText_HV)).allowEdit(allowEdit_HV);
          #        salesLine_ds.object(fieldNum(SalesLine, PalletizingText_HV)).allowEdit(allowEdit_HV);
          #    }
          #    // </ IS A.Papalichev SUPP0334.3 17.02.2017 >
          #
          #
          #    salesLine_ds.object(fieldNum(SalesLine, SalesUnit)).allowEdit(allowEdit_HV);
          #//    salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(allowEdit_HV);
          #//    salesLine_ds.object(fieldNum(SalesLine, QtyKGA_HV)).allowEdit(allowEdit_HV);
          #//    salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit(allowEdit_HV);
          #//    salesLine_ds.object(fieldNum(SalesLine, SalesPriceKGA_HV)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, QualityConfirm_HV)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, QualityText_HV)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, AddText_HV)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, EstimatedShipmentDate_HV)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, ConfirmedDlv)).allowEdit(allowEdit_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, OfferingType_HV)).allowEdit(allowEdit_HV);
          #
          #    //salesLine_ds.allowCreate   (allowEdit_HV);
          #    //salesLine_ds.allowDelete   (allowEdit_HV);
          #
          #    salesLine_ds.object(fieldNum(SalesLine, PackingUnit)).allowEdit(allowEditDlv_HV);
          #    salesLine_ds.object(fieldNum(SalesLine, PackingUnitQty)).allowEdit(allowEditDlv_HV);
          #    //salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(allowEditDlv_HV);
          #    //salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNowAI_HV)).allowEdit(allowEditDlv_HV);
          #
          #    salesLine_ds.object(fieldNum(SalesLine, QtyOrdered)).allowEdit(false);
          #
          #    salesLine.QtyKGA_HV = UnitOfMeasureConverter::convert(salesLine.SalesQty,
          #                                                          UnitOfMeasure::findBySymbol(salesLine.SalesUnit).RecId,
          #                                                          UnitOfMeasure::findBySymbol(salesLine.inventTable().inventUnitId()).RecId,
          #                                                          false,
          #                                                          salesLine.inventTable().Product,
          #                                                          false,
          #                                                          true)*salesLine.ConvertFactorKGA_HV;
          #
          #    //FIX
          #    salesLine.QtyKGA_HV = decRound(salesLine.QtyKGA_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
          #            UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit)));
          #
          #     //HUVEPHARMA_AX_IMPL IMP0288 V.Karaivanov 19.12.2014 -->
          #    //inventDim_ds.object(fieldNum(InventDim, InventBatchId)).allowEdit(allowEdit_HV);
          #    // <--
          #
          #    // <--
          #
          #    //<--B.Idesman 22.12.2014   imp0314
          #    if (salesTable.Blocked_HV == NoYes::Yes)
          #    {
          #        salesLine_ds.allowEdit(false);
          #        salesLine_ds.allowCreate(false);
          #        salesLine_ds.allowDelete(false);
          #
          #        //specific for ax 2009:
          #        /*
          #        Not needed in ax 2012, remove later
          #        SalesOrderNew.enabled(false);
          #        SalesOrderModify.enabled(false);
          #        MCRPayments.enabled(false);
          #        ShowGroup.enabled(false);
          #        SalesOrderCopy.enabled(false);
          #        SalesOrderView.enabled(false);
          #        MCRSalesOrderFunctions.enabled(false);
          #        SalesOrderList.enabled(false);
          #        SalesOrderAttachments.enabled(false);
          #        EventNotification.enabled(false);
          #        */
          #        //ButtonLineSetup.enabled(false);
          #        //ButtonLineFunction.enabled(false);
          #        //ButtonLineInquiry.enabled(false);
          #        //ButtonLinePriceCalc.enabled(false);
          #        ButtonLineInventory.enabled(false);
          #        //ButtonLineInterCompany.enabled(false);
          #        PBAExecute.enabled(false);
          #        //
          #        //Configuration.enabled(false);
          #    }
          #    // <--
          #
          #    //HUVEPHARMA_AX_IMPL SUPP0388 V.Karaivanov 28.05.2015 -->
          #    if (( SalesParameters::find().IS_RelatedCustGroupId != '' ) && ( curext() == '410') )
          #    {
          #        if (( CustTable::find(SalesTable.InvoiceAccount).CustGroup == SalesParameters::find().IS_RelatedCustGroupId ) &&
          #            ( InventTable::find(SalesLine.ItemId).ItemType == ItemType::Item ))
          #        {
          #            if ( SysUserInfo::find(curUserId()).IS_AllowChangePriceRelatedParties )
          #            {
          #               // salesLine_ds.object(fieldNum(SalesLine, QtyOrdered)).allowEdit(true);
          #               // salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(true);
          #               // salesLine_ds.object(fieldNum(SalesLine, QtyKGA_HV)).allowEdit(true);
          #                salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit(true);
          #                salesLine_ds.object(fieldNum(SalesLine, SalesPriceKGA_HV)).allowEdit(true);
          #            }
          #            else
          #            {
          #               // salesLine_ds.object(fieldNum(SalesLine, QtyOrdered)).allowEdit(false);
          #               // salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(false);
          #               // salesLine_ds.object(fieldNum(SalesLine, QtyKGA_HV)).allowEdit(false);
          #                salesLine_ds.object(fieldNum(SalesLine, SalesPrice)).allowEdit(false);
          #                salesLine_ds.object(fieldNum(SalesLine, SalesPriceKGA_HV)).allowEdit(false);
          #            }
          #        }
          #    }
          #    // <<-
          #
          #
          #    //HUVEPHARMA_AX_SUPP SUPP0010 B.FILIPOV 23.3.2015 ->
          #    if(!salesLine_ds.allowEdit() && SalesTable.isCreditNote_PL() && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
          #    {
          #        salesLine_ds.allowEdit(true);
          #        dictTable = new DictTable(tableNum(SalesLine));
          #        fieldId = DictTable.fieldNext(0);
          #        while(fieldId)
          #        {
          #            dictField = new DictField(tableNum(SalesLine), fieldId);
          #            if(fieldId == fieldNum(SalesLine, CreditNoteReasonCode))
          #            {
          #                salesLine_ds.object(fieldId).allowEdit(true);
          #            }
          #            else if(!dictField.isSystem())
          #            {
          #
          #                //info(fieldId2name(tableNum(SalesTable), fieldId));
          #                salesLine_ds.object(fieldId).allowEdit(false);
          #                //salesTable_ds.object(fieldId).allowAdd(false);
          #
          #            }
          #            fieldId = dictTable.fieldNext(fieldId);
          #        }
          #        //salesTable_ds.object(fieldNum(SalesTable, DiscPercent)).allowEdit(_allowEdit);
          #    }
          #    //<-
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #displayOption
          #public void displayOption(Common _record, FormRowDisplayOption _options)
          #{
          #    SalesLine salesLineLocal =  _record;
          #    int     priceOverrideLineColor;
          #
          #    priceOverrideLineColor   = mcrOrderParameters.mcrPriceOverrideLineColor;
          #
          #    // if the price was overridden on this line, set the Price Override Line Color from the sales parameter table.
          #    // Child Ship To Lines always have there price overriden by the system - don't display as overridden
          #    // note:  child ship to line price cannot be changed & is driven by the parent line.
          #    if (enableOrderPriceControl
          #        && priceOverrideLineColor
          #        && salesLineLocal.LineDeliveryType != LineDeliveryType::DeliveryLine
          #        && salesLineLocal.mcrSalesLinePriceOverride().PriceOverride == NoYes::Yes)
          #    {
          #        _options.backColor(priceOverrideLineColor);
          #    }
          #    else
          #    {
          #        _options.clearBackColor();
          #    }
          #
          #    super(_record, _options);
          #}
        ENDSOURCE
        SOURCE #mcrGetOverrideResponse
          #/// <summary>
          #/// Prompts the user for a reason code when overriding price fields.
          #/// </summary>
          #/// <param name="_fieldId">
          #/// The ID of the field being overridden.
          #/// </param>
          #/// <param name="_newValue">
          #/// The new value the user entered.
          #/// </param>
          #/// <param name="_overrideFieldId">
          #/// The ID of the parameter field used to check whether or not the
          #/// current user has permission.
          #/// </param>
          #/// <returns>
          #/// true if the value can be changed; otherwise, false.
          #/// </returns>
          #public boolean mcrGetOverrideResponse(
          #    FieldId     _fieldId,
          #    real        _newValue,
          #    FieldId     _overrideFieldId)
          #{
          #    MCROverrideLogin_OverridePrice  mcrOverrideLogin_OverridePrice;
          #    boolean                         currentUserPermission;
          #    boolean                         cancelOverride;
          #    Args                            args;
          #    container                       userIdmcrPriceOverrideReasonCode;
          #    RetailInformationSubcodeId      mcrPriceOverrideReasonCode;
          #    AmountCur                       brokerages;
          #    AmountCur                       rebates;
          #    AmountCur                       royalties;
          #    AmountCur                       totalDeductible;
          #    real                            marginPrice;
          #    MCRMarginAlert_Sales            mcrMarginAlert_Sales;
          #
          #    #define.Cancel('Cancel')
          #
          #    if (enableOrderPriceControl)
          #    {
          #        mcrOverrideLogin_OverridePrice = new MCROverrideLogin_OverridePrice();
          #
          #        // Convert to a percentage based on item cost.
          #        if (_overrideFieldId == fieldNum(MCRPriceOverrideMarkUpGroup, CostMarkUpPercent))
          #        {
          #            mcrMarginAlert_Sales = MCRMarginAlert_Sales::newSalesLine(salesLine);
          #            mcrMarginAlert_Sales.calcMargin();
          #            brokerages      = mcrMarginAlert_Sales.parmBrokerAmountPerUnit();
          #            rebates         = mcrMarginAlert_Sales.parmCustRebateAmountPerUnit();
          #            royalties       = mcrMarginAlert_Sales.parmRoyaltyAmountPerUnit();
          #            totalDeductible = brokerages + rebates + royalties;
          #
          #            _newValue = 100 * mcrOverrideLogin_OverridePrice.calcCostMarkupPercent(
          #                salesLine.ItemId,
          #                salesLine.SalesUnit,
          #                salesLine.mcrPricePerSalesQty());
          #            marginPrice = 100 * mcrOverrideLogin_OverridePrice.calcMarginCostMarkupPercent(
          #                salesLine.ItemId,
          #                salesLine.SalesUnit,
          #                salesLine.mcrPricePerSalesQty(),
          #                totalDeductible);
          #        }
          #
          #        // See if the current user has permission to override the price.  If they do not
          #        // call the form for a different user to log in.
          #        currentUserPermission = mcrOverrideLogin_OverridePrice.isUserValid(curUserId(),
          #                                                                            _newValue,
          #                                                                            _overrideFieldId,
          #                                                                            marginPrice);
          #        // Do not allow the user to manipulate the form while a dialog is open.
          #        element.mcrDisableForm();
          #
          #        // if the current user does not have permission
          #        if (!currentUserPermission)
          #        {
          #            args = mcrOverrideLogin_OverridePrice.launchPriceOverrideLogin(
          #                salesLine,
          #                NoYes::Yes,
          #                _fieldId);
          #
          #            // if the user did not cancel out or close using the X with out first getting a valid login
          #            // from the override form it means that someone had a successful override
          #            if (args.parm() != #Cancel)
          #            {
          #                // the args.parm passes out user id and reason code
          #                userIdmcrPriceOverrideReasonCode = str2con(args.parm());
          #                element.mcrLinePriceOverrideYes(
          #                    conPeek(userIdmcrPriceOverrideReasonCode, 2),
          #                    conPeek(userIdmcrPriceOverrideReasonCode, 1));
          #            }
          #            else
          #            {
          #                cancelOverride = true;
          #            }
          #        }
          #        else
          #        {
          #            // If current user can override the price.
          #            mcrPriceOverrideReasonCode = mcrOverrideLogin_OverridePrice.launchPriceOverrideReasonCode(salesLine, NoYes::Yes);
          #            if (mcrPriceOverrideReasonCode != #Cancel)
          #            {
          #                if (_fieldId == fieldNum(RetailSalesLine, LineManualDiscountPercentage))
          #                {
          #                    element.mcrLineManualDiscountOverride(mcrPriceOverrideReasonCode, curUserId());
          #                }
          #                else
          #                {
          #                    element.mcrLinePriceOverrideYes(mcrPriceOverrideReasonCode, curUserId());
          #                }
          #            }
          #            else
          #            {
          #                cancelOverride = true;
          #            }
          #        }
          #
          #        if (!cancelOverride
          #            && !mcrSalesLinePriceOverride.RecId)
          #        {
          #            mcrSalesLinePriceOverride.ListPrice = (salesLine.LineAmount / (salesLine.SalesQty != 0 ? salesLine.SalesQty : 1));
          #            mcrSalesLinePriceOverride.ListPriceCurrencyCode = salesLine.CurrencyCode;
          #        }
          #
          #        element.mcrEnableForm();
          #
          #        element.mcrSetLineControls();
          #    }
          #
          #    // Return false if it was cancelled, otherwise return true
          #    return !cancelOverride;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean                    ret = true;
          #
          #    salesTableForm.setTouched(salesTable);
          #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    if (salesLine.RecId != 0
          #    &&  salesLine.InterCompanyInventTransId
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
          #    }
          #
          #    if (!salesLine.isAgreementLinkValid(true))
          #    {
          #        ret = salesLine.unLinkAgreementLinePrompt(0,tableNum(SalesLine),false);
          #    }
          #
          #    salesTable_ds.packExtensions();
          #    this.packExtensions();
          #    ret = super() && ret;
          #    this.unpackExtensions();
          #    salesTable_ds.unpackExtensions();
          #
          #    if (!askingModifyInvoiced && ret)
          #    {
          #        askingModifyInvoiced = true;
          #
          #        //bf
          #        ret = salesTable.checkUpdate(true, salesTable_ds.performIntercompanyValidation());
          #        //ret = salesTable.checkUpdate(true, salesTable_ds.performIntercompanyValidation(), true);
          #        if (!ret)
          #        {
          #            salesLine_ds.reread();
          #            salesTable_ds.reread();
          #        }
          #        askingModifyInvoiced = false;
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesLine.TaxGroup != salesLine.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesLine.TableId, salesLine.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #    if (ret)
          #    {
          #       ret = salesTableForm.salesLine_validateWrite(salesLine, inventDim);
          #    }
          #
          #    if (ret && salesLine.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(salesLine, false, false, true, false);
          #    }
          #
          #    //ISVK - SKIPPED ->
          #    // IS_HV_06003 ->
          #    //if (LedgerParameters::find().HVPCompanyCountry == HVPCompanyCountry::TH)
          #    //{
          #    //    if((salesLine.TaxGroup && salesLine.TaxItemGroup) && !salesLine.IVZ_VatBranchId)
          #    //    {
          #    //        box::info('No VAT branch.');
          #    //        ret = false;
          #    //    }
          #    //}
          #    //<-
          #
          #
          #    //IMP0211_HV_06001 ->
          #    /*
          #    if((curext() == "410") && !SalesLine.InvoiceRemarkId_BG)
          #    {
          #        error(strFmt("@SYS84753", fieldPName(SalesLine, InvoiceRemarkId_BG)));
          #
          #        ret = false;
          #    }
          #    */
          #    //<-
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    if (!deleting)
          #    {
          #        if (!salesLine.PBAItemLine::checkMandatory())
          #        {
          #            return false;
          #        }
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesLine_ds && salesLine && salesLine.DeliveryDateControlType)
          #    {
          #        salesLine_ds.refresh();
          #    }
          #}
        ENDSOURCE
        SOURCE #enableExciseFields_IN
          #// <GIN>
          #public void enableExciseFields_IN()
          #{
          #    if (TaxParameters::isExciseEnable_IN())
          #    {
          #        taxExciseTypeController.buildUI(
          #            salesLine_IN.ExciseType_IN,
          #            salesLine_IN.ExciseRecordType_IN,
          #            salesLine.ItemId,
          #            salesLine.SalesQty > 0 ? TaxDirection::OutgoingTax : TaxDirection::IncomingTax);
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseManufacture_IN
          #// <GIN>
          #edit ExciseManufacture_IN exciseManufacture_IN(
          #    boolean                 _set,
          #    ExciseManufacture_IN    _exciseManufacture_IN)
          #{
          #    ExciseManufacture_IN    exciseManufacture;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseManufacture(_set,_exciseManufacture_IN,salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseManufacture = taxExciseTypeController.exciseRecordType2ExciseManufacture(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseManufacture;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseNone_IN
          #// <GIN>
          #edit ExciseNone_IN exciseNone_IN(
          #    boolean         _set,
          #    ExciseNone_IN   _exciseNone_IN)
          #{
          #    ExciseNone_IN           exciseNone;
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseNone(_set,_exciseNone_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseNone = taxExciseTypeController.exciseRecordType2ExciseNone(salesLine_IN.ExciseRecordType_IN);
          #    return exciseNone;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseTraders_IN
          #// <GIN>
          #edit ExciseTraders_IN exciseTraders_IN(
          #    boolean          _set,
          #    ExciseTraders_IN _exciseTraders_IN)
          #{
          #    ExciseTraders_IN        exciseTraders;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseTraders(_set,_exciseTraders_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseTraders = taxExciseTypeController.exciseRecordType2ExciseTraders(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseTraders;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #getPotencyCalculatedLineAmount
          #/// <summary>
          #///     Displays the adjusted net amount.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted net amount.
          #/// </returns>
          #public display PDSCalculatedLineAmount getPotencyCalculatedLineAmount(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedAmount(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculatedUnitPrice
          #/// <summary>
          #///     Displays the adjusted unit price if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted unit price.
          #/// </returns>
          #public display PDSCalculatedUnitPrice getPotencyCalculatedUnitPrice(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedUnitPrice(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculationId
          #/// <summary>
          #///     Displays the calculation ID if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The calculation ID.
          #/// </returns>
          #public display PDSCalculationId getPotencyCalculationId(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculationId(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return '';
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineForeignTradeCategory
          Table               #SalesLineForeignTradeCategory
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #allowEdtItemCodeId
          #void allowEdtItemCodeId()
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        if (salesLine.deliveredInTotal()       != 0 ||
          #            salesLine.invoicedInTotal()        != 0)
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(false);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(true);
          #        }
          #        else
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(true);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(false);
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int     ret;
          #    boolean allowEditLine;
          #
          #    ret = super();
          #
          #    if (salesLine.isCategoryBased())
          #    {
          #        allowEditLine = salesTableForm.editLineAllowed();
          #        salesLineForeignTradeCategory_ds.allowEdit(allowEditLine);
          #        if (allowEditLine)
          #        {
          #            salesLineForeignTradeCategory_ds.allowEdtItemCodeId();
          #        }
          #    }
          #    else
          #    {
          #        salesLineForeignTradeCategory_ds.allowEdit(false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #SalesLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    // IS_HV_06003 -->
                #    InventBatch     inventBatchTable;
                #    InventTable     inventTable;
                #    // <--
                #
                #    super();
                #
                #    // IS_HV_06003 -->
                #    inventBatchTable = InventBatch::find(inventDim.inventBatchId, salesLine.ItemId);
                #
                #    if (inventBatchTable.Scrap_HV == NoYes::Yes)
                #    {
                #        if (Box::okCancel("@HVP281", DialogButton::Cancel) == dialogButton::Cancel)
                #            inventDim.inventBatchId = inventDim.orig().inventBatchId;
                #    }
                #    // <--
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventBatchId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    // IS_HV_06003 -->
                #    if ((inventDim.inventBatchId) && (inventBatchTable.ConvertFactorKGA_HV))
                #    {
                #        salesLine.ConvertFactorKGA_HV = inventBatchTable.ConvertFactorKGA_HV;
                #        //salesLine.Dimension[3] = inventBatchTable.Dimension[3];
                #        salesLine.IS_ProducerCode = inventBatchTable.IS_ProducerCode;
                #    }
                #    else
                #    {
                #        inventTable = inventTable::find(salesLine.ItemId);
                #
                #        salesLine.ConvertFactorKGA_HV = inventTable.ConvertFactorKGA_HV;
                #        //salesLine.Dimension[3] = inventTable.Dimension[3];
                #        salesLine.IS_ProducerCode = EcoResProduct::find(inventTable.Product).IS_ProducerCode;
                #    }
                #
                #    salesLine.modifyKGAQty_HV(salesLine, inventDim);
                #    salesLine.modifyDeliverNowAI_HV(salesLine, inventDim);
                #    // <--
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventBatchId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsPalletId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsPalletId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSerialId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSerialId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId && salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #        salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #    }
                #
                #    // < IS A.Papalichev HUVEPHRARMA_AX_SUPP SUPP1188 2017.01.27 >
                #    salesLine.IS_initFromIS_ProductInstruction();
                #    // </ IS A.Papalichev HUVEPHRARMA_AX_SUPP SUPP1188 2017.01.27 >
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,ConfigId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!EcoResProductMasterConfigurationMgr::configure(_formControl,
                #                                                       salesLine.ItemId,
                #                                                       InventDim::findOrCreate(inventDim).InventDimId,
                #                                                       salesLine.deliveryDate(),
                #                                                       salesLine.ItemBOMId,
                #                                                       salesLine.QtyOrdered))
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,ConfigId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSizeId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSizeId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventColorId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventColorId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSiteId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId)
                #    {
                #        if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #        {
                #            salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #            salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #            salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #        }
                #    }
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSiteId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventGtdId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventGtdId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventGtdId_RU),
                #                            InventTable::itemProductDimensionGroup(salesLine.ItemId));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventProfileId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventProfileId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventOwnerId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventOwnerId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventOwnerId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStyleId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventStyleId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
                #
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventStyleId));
                #    }
                #
                #    return ret;
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LicensePlateId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim, fieldNum(InventDim, LicensePlateId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim, LicensePlateId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStatusId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim, fieldNum(InventDim, InventStatusId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim, InventStatusId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    WHSInventStatus::lookupInventStatus(_formControl, NoYes::No);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #FiscalEstablishment
          #// <GBR>
          #display FiscalEstablishmentId_BR FiscalEstablishment()
          #{
          #    return inventDim.inventSite().fiscalEstablishment().FiscalEstablishmentId;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #//  super();
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InterCompanyPurchSalesReference
          Table               #InterCompanyPurchSalesReference
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          MaxAccessRight      #NoAccess
          AutoSearch          #No
          AutoNotify          #No
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSLoadLine
          Table               #WHSLoadLine
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    if (tabWhsLoads.isActivePage())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSSalesLine
          Table               #WHSSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (whsSalesLine.RecId)
          #    {
          #        super();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    if (whsSalesLine.RecId)
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TMSSalesTable
          Table               #TMSSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CarrierCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    if (!tmsSalesTable.CarrierCode
                #    || !TMSCarrierService::exist(tmsSalesTable.CarrierServiceCode, tmsSalesTable.CarrierCode))
                #    {
                #        tmsSalesTable.CarrierServiceCode    = "";
                #    }
                #
                #    tmsSalesTable.ModeCode  = TMSCarrier::find(tmsSalesTable.CarrierCode).ModeCode;
                #
                #    tmsSalesTable_ds.refresh();
                #
                #    element.tmsUpdateSalesOrder();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CarrierServiceCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    element.tmsUpdateSalesOrder();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ModeCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    salesTable_ds.reread();
                #    salesTable_ds.refresh();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #/// <summary>
          #///    Persists a record in the database when super is called.
          #/// </summary>
          #/// <remarks>
          #/// Some sales table records don't have a corresponding tms transportation table record
          #/// so call write method and not super and it will update database properly
          #/// </remarks>
          #public void write()
          #{
          #    if (!tmsSalesTable.RecId)
          #    {
          #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
          #    }
          #
          #    tmsSalesTable.write();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #/// <summary>
          #/// Determines whether the current record is valid and ready to be written to the database.
          #/// </summary>
          #/// <returns>
          #/// true if the record is valid; otherwise, false.
          #/// </returns>
          #/// <remarks>
          #/// Some sales table records don't have a corresponding tms transportation table record
          #/// so call super only if corresponding record exists
          #/// </remarks>
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (tmsSalesTable.CarrierCode != "" && tmsSalesTable.CarrierServiceCode == "")
          #    {
          #        ret = checkFailed("@TRX733");
          #    }
          #
          #    if (ret
          #    && tmsSalesTable.CarrierCode
          #    && tmsSalesTable.CarrierServiceCode
          #    && !TMSCarrierService::exist(tmsSalesTable.CarrierServiceCode, tmsSalesTable.CarrierCode))
          #    {
          #        ret = checkFailed("@TRX734");
          #    }
          #
          #    if (ret && tmsSalesTable.RecId != 0)
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    element.enableTMSFields();
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustInvoiceTrans
          Table               #CustInvoiceTrans
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximSalesLine_IN
          Table               #EximSalesLine_IN
          Index               #SalesLineRecIdx
          AllowCheck          #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ApplyDEPB
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    eximSalesLine_IN_MarketValue.allowEdit(eximSalesLine_IN.ApplyDEPB);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DBKCenvatStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    boolean isDBKEnabled;
                #    ;
                #
                #    super();
                #
                #    isDBKEnabled = eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
                #    eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
                #    eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #active
          #// <GIN>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        element.enableFieldsActive_IN();
          #    }
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (salesLine.RecId)
          #    {
          #        if (!EximSalesLine_IN::findBySalesLineRecId(salesLine.RecId).RecId)
          #        {
          #            eximSalesLine_IN.SalesLineRecId = salesLine.RecId;
          #        }
          #        super();
          #    }
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_BR
          Table               #SalesLine_BR
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CFOPTable_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CFOPAttributesDeterminer_BR cfopAttributes;
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        cfopAttributes = CFOPAttributesDeterminer_BR::construct(salesLine);
                #        cfopAttributes.parmFiscalEstablishment(inventDim.inventSite().fiscalEstablishment());
                #
                #        ret = CFOPTable_BR::lookupCFOPTable(_formReferenceControl, cfopAttributes);
                #    }
                #
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    buttonLineFiscalDocumentText_BR.enabled(salesLine.type().canFiscalDocTextBeRegistrated_BR());
                #
                #    salesLine_ds.enableDataSourceFields_BR();
                #    salesLine_ds.refresh();
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD FiscalDocumentType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return FiscalDocumentType_BR::lookupReference(salesLine.inventDim().inventSite().fiscalEstablishment().RecId, _formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    FiscalDocumentTypeId_BR fiscalDocumentTypeId;
                #
                #    // Get the text that the user entered into the control to see if there is a match to display
                #    fiscalDocumentTypeId = _formReferenceControl.filterValue(AbsoluteFieldBinding::construct(fieldStr(FiscalDocumentType_BR, FiscalDocumentTypeId), tableStr(FiscalDocumentType_BR))).value();
                #
                #    if (fiscalDocumentTypeId)
                #    {
                #        ret = FiscalDocumentType_BR::find
                #        (
                #            fiscalDocumentTypeId,
                #            salesLine.inventDim().inventSite().fiscalEstablishment().FiscalEstablishmentId
                #        );
                #    }
                #    else
                #    {
                #        ret = super(_formReferenceControl);
                #    }
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TaxServiceCode_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    NoYes                   serviceCodeOnDlvAddress;
                #    LogisticsPostalAddress  logisticsPostalAddress;
                #
                #
                #
                #    if(salesTable.ProjId)
                #    {
                #        serviceCodeOnDlvAddress = salesTable.projTable().projInvoice().TaxServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsPostalAddress::findRecId(salesTable.projTable().postalAddress().RecId);
                #    }
                #    else
                #    {
                #        serviceCodeOnDlvAddress = salesTable.salesTable_BR().ServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsLocationEntity::location2PostalAddress(salesLine.deliveryLocation());
                #    }
                #
                #    TaxServiceCode_BR::lookup(_formControl, serviceCodeOnDlvAddress,
                #                              logisticsPostalAddress.CountryRegionId,
                #                              logisticsPostalAddress.State,
                #                              logisticsPostalAddress.City);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #// <GBR>
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject      formDataObject;
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, FiscalDocumentType_BR));
          #    formDataObject.allowEdit(salesTable.hasIssueFiscalDocument_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, TaxServiceCode_BR));
          #    formDataObject.allowEdit(salesLine.inventTable().ItemType == ItemType::Service);
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    boolean isBrazilParametersEnabled = BrazilParameters::isEnabled();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_BR);
          #    }
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesLine_BR.SalesLine)
          #    {
          #        //IS HUVEPHARMA_AX_IMPL IMP0490 22.2.2015 ->
          #        salesLine.setTaxGroupAndTaxItemGroupFields_BR();
          #        //<-
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_IN
          Table               #SalesLine_IN
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CompanyLocation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::locationLookup(_formReferenceControl, CompanyInfo::find().RecId);
                #}
                #// </GIN>
                #
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    salesline_IN_ds.object(fieldNum(SalesLine_IN, TaxInformation)).modified();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRefLocationAddressForm(salesLine_IN.CompanyLocation_IN, this);
                #}
                #// </GIN>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(Direction_IN::Export));
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #resolveReference
                #// <GIN>
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, Direction_IN::Export);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExciseType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesLine_DS.enableExciseFields_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ServiceCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = ServiceCodeTable_IN::lookupServiceCode(_formReferenceControl);
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TaxInformation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::lookup(_formReferenceControl, salesline_IN.CompanyLocation_IN);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    taxInformation_IN_DS.linkActive();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRef(salesLine_IN.TaxInformation, this);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (isSalesLine_INEnabled && salesLine_IN.SalesLine != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #
          #        if (!salesLineReturnDetails_IN.RecId && salesLineReturnDetails_IN.Type != SalesReturnType_IN::None)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLineReturnDetails_IN.SalesLine_IN = salesLine_IN.RecId;
          #            salesLineReturnDetails_IN_ds.write();
          #        }
          #
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #initValue
          #// <GIN>
          #public void initValue()
          #{
          #    super();
          #    salesLine_IN.TaxModelDocLineExtensionIN::init(salesLine.salesLineView_IN());
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isSalesLine_INEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #
          #    if (isSalesLine_INEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_IN);
          #    }
          #
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_Intrastat
          Table               #SalesLine_Intrastat
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    boolean isLegalEntityInCountryRegionIsoCZEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]);
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesLine_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_Intrastat);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_BR
          Table               #SalesTable_BR
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CFPSId_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CFPSTable_BR::lookup(_formControl, SalesPurchBoth_BR::Sales);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesPurchOperationType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    boolean                     ret;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #
                #    ret = salesPurchOperationTypeController_BR.validate(salesTable_BR.SalesPurchOperationType_BR, cfopAttributesDeterminer);
                #
                #    if (ret && !salesTable.createInventTrans_BR())
                #    {
                #        if (Box::yesNo("@GLS104", DialogButton::No) == DialogButton::No)
                #        {
                #            return false;
                #        }
                #    }
                #
                #    return super() && ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    SalesPurchOperationTypeController_BR s;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #    s = new SalesPurchOperationTypeController_BR (element.name());
                #    return s.lookupReference(_formReferenceControl, cfopAttributesDeterminer);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject  formDataObject;
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, CustFinalUser_BR));
          #    formDataObject.allowEdit(!salesTable.custTable_InvoiceAccount().Suframa_BR);
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, SalesPurchOperationType_BR));
          #    formDataObject.allowEdit(salesTable.type().canEditSalesPurchOperationType_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, DeliveryCFOPTable_BR));
          #    formDataObject.allowEdit(salesTable.SalesType == SalesType::ItemReq);
          #
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    boolean isBrazilParametersEnabled = BrazilParameters::isEnabled();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_BR);
          #    }
          #}
        ENDSOURCE
        SOURCE #displaySuframaPISCOFINS_BR
          #// <GBR>
          #public display NoYes displaySuframaPISCOFINS_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().SuframaPISCOFINS_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #displaySuframa_BR
          #// <GBR>
          #public display CustSuframa_BR displaySuframa_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().Suframa_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesTable_BR.SalesTable)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_Intrastat
          Table               #SalesTable_Intrastat
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    boolean isLegalEntityInCountryRegionIsoCZEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]);
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesTable_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_Intrastat);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffLine
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesLine
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (countryRegion_PL)
          #    {
          #        if (!taxServiceTariffLine.ParentRecId)
          #        {
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #        }
          #
          #        if (!taxServiceTariffLine.ParentTableId)
          #        {
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    super(_append);
          #
          #    if (taxServiceTariffHeader.ServiceTariffNumber && !salesLine.RecId && countryRegion_PL)
          #    {
          #        taxServiceTariffLine.ServiceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffHeader
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableSymbol
          Table               #SalesTableSymbol
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_RU
          Table               #SalesTable_RU
          Index               #SalesTable
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD AgreementHeaderExt_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #
                #    // force a refresh because the agreement document title is indirectly related on a different datasource
                #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    salesTable_DS.refresh();
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #lookupReference
                #// <GEERU>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = SalesAgreementHeaderExt_RU::salesAgreementReferenceLookup(_formReferenceControl,
                #        salesTable.CustAccount,
                #        salesTable.ShippingDateRequested,
                #        salesTable.InvoiceAccount);
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #jumpRef
                #// <GEERU>
                #public void jumpRef()
                #{
                #    SalesAgreementHeaderExt_RU::salesAgreementJumpRef(salesTable_RU.AgreementHeaderExt_RU);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ConsigneeAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustTable::lookupCustomer(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ConsignorAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    VendTable::lookupVendor(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable_RU.InventProfileType_RU != InventProfileType_RU::NotSpecified)
                #    {
                #        InventProfile_RU::lookupInventProfileId(_formControl, salesTable_RU.InventProfileType_RU);
                #    }
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #validate
                #// <GEERU>
                #public boolean validate()
                #{
                #    boolean ret = true;
                #
                #    if (salesTable_RU.InventProfileType_RU == InventProfileType_RU::NotSpecified && salesTable_RU.InventProfileId_RU)
                #    {
                #        ret = false;
                #    }
                #    ret = ret && super();
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceAgreementDate_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #    element.automaticTotalDiscount();
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GEERU>
          #public void init()
          #{
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.linkType(FormLinkType::InnerJoin);
          #                }
          #                break;
          #
          #            default :
          #                this.linkType(FormLinkType::OuterJoin);
          #                break;
          #        }
          #    }
          #
          #    super();
          #
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).clearDynalinks();
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).addDynalink(
          #                        fieldNum(SalesTable_RU, AgreementHeaderExt_RU),
          #                        element.args().record(),
          #                        fieldNum(AgreementHeaderExt_RU, RecId));
          #                }
          #                break;
          #        }
          #
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_RU);
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
        SOURCE #write
          #// <GEERU>
          #public void write()
          #{
          #    if (isRU && salesTable_RU.SalesTable != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxInformation_IN
          Table               #TaxInformation_IN
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD SalesTaxRegistrationNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::SalesTax,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::SalesTax, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TIN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::VAT,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::VAT, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TAN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdRegNumbers_IN::jumpRef(
                #        TaxWithholdRegNumbers_IN::find(taxInformation_IN.tin).RegistrationNumber,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ManECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ManECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TraderECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TraderECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD IECRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.iecRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Customs,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD STCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.stcRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::ServiceTax,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ECCNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.eccNumber).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableExtensionTH
          Table               #SalesTableExtensionTH
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD NoteFormat
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.noteFormatEdit();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (salesTable.RecId)
          #    {
          #        salesTableExtensionTH.SalesTable = salesTable.RecId;
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableExtensionTHEnabled = SalesTableExtensionTH::isExtensionEnabled();
          #    if (isSalesTableExtensionTHEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isSalesTableExtensionTHEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTableExtensionTH);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesTable
          Table               #MCRSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PriceOverride
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrHeaderPriceOverride(true, "", curUserId());
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SourceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    MCRDefaultDimensions    mcrDefaultDimensionsLocal;
                #    MCRSourceCode           mcrSourceCodeLocal;
                #    CustTable               custTableLocal;
                #
                #    super();
                #
                #    if (mcrLastSourceId != mcrSalesTable.SourceId)
                #    {
                #        // Blank out the dimension on source code modified, this way
                #        // the defaulting will come from the hierarchy set up on the AR Params
                #        // field AccountRevenue.
                #        salesTable.DefaultDimension = 0;
                #
                #        mcrSourceCodeLocal = MCRSourceCode::construct(salesTable);
                #        if (mcrSalesTable.SourceId)
                #        {
                #            ttsbegin;
                #            mcrSalesTable.update();
                #            // Can assume source code is valid after call to MCRInitFromSourceCodeSetup.
                #            mcrSourceCodeLocal.mcrInitFromSourceCodeSetup(MCRSourceCodeSetup::find(mcrSalesTable.SourceId), salesTable.CustAccount);
                #            ttscommit;
                #        }
                #        else
                #        {
                #            custTableLocal                  = CustTable::find(salesTable.CustAccount);
                #            salesTable.MultiLineDisc        = custTableLocal.MultiLineDisc;
                #            salesTable.EndDisc              = custTableLocal.EndDisc;
                #            salesTable.DeliveryDate         = systemDateGet();
                #
                #            mcrDefaultDimensionsLocal = MCRDefaultDimensions::construct(salesTable);
                #            mcrDefaultDimensionsLocal.setDefaultDimensions();
                #        }
                #
                #        // Update total discount now, or a user-entered change will be trapped
                #        // and considered an override, possibly of an old value, which is not
                #        // desirable.
                #        salesTable.updateFinalDisc();
                #
                #        mcrLastSourceId = mcrSalesTable.SourceId;
                #        mcrSalesTableShipping_ds.reread();
                #        mcrSalesTableShipping_ds.refresh();
                #
                #        salesTable_ds.refresh();
                #
                #        element.mcrDisplaySourceMessage();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrSalesTable);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (!mcrSalesTable.SalesTable)
          #    {
          #        mcrSalesTable.SalesTable = salesTable.RecId;
          #    }
          #    if (mcrSalesTable.SalesTable
          #        && mcrSalesTable.validateMCRSalesTableUsed())
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesTable.SalesTable)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesTableShipping
          Table               #MCRSalesTableShipping
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrSalesTableShipping);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (!mcrSalesTableShipping.SalesTable)
          #    {
          #        mcrSalesTableShipping.SalesTable = salesTable.RecId;
          #    }
          #    if (mcrSalesTableShipping.SalesTable
          #        && mcrSalesTableShipping.validateMCRSalesTableShippingUsed())
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLine
          Table               #MCRSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD GiftCardType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.mcrSetEditGiftCard();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SourceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    MCRSourceCodeSetup::lookupNonExpiredSourceCodes(_formControl);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Changes were made to the related sales line, need to refresh.
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLine.SalesLine)
          #    {
          #        if (this.validateMCRSalesLine())
          #        {
          #            super();
          #        }
          #        else if (mcrSalesLine.RecId == 0)
          #        {
          #            mcrSalesLine.SalesLine = 0;
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLine);
          #}
        ENDSOURCE
        SOURCE #validateMCRSalesLine
          #private boolean validateMCRSalesLine()
          #{
          #    if (mcrCallCenterEnabled
          #        && (mcrSalesLine.ContinuityScheduleId
          #            || mcrSalesLine.CustInvoiceTransRecId
          #            || mcrSalesLine.Expedite
          #            || mcrSalesLine.GiftCardRecipientEmail
          #            || mcrSalesLine.GiftCardRecipientName
          #            || mcrSalesLine.GiftCardBuyerEmail
          #            || mcrSalesLine.GiftCardBuyerName
          #            || mcrSalesLine.InstallmentEligible
          #            || mcrSalesLine.LineType != MCRLineType::Regular
          #            || mcrSalesLine.ParentLotId
          #            || mcrSalesLine.SourceId
          #            || mcrSalesLine.UpSellOrigin
          #            || mcrSalesLine.UpSellOriginRef))
          #    {
          #        return true;
          #    }
          #
          #    return false;
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLine.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (mcrSalesTableShipping.Expedite)
          #    {
          #        mcrSalesLine.Expedite = mcrSalesTableShipping.Expedite;
          #    }
          #
          #    //If the source code is set on the header, default it to the sales line.
          #    if (mcrSalesTable.SourceId)
          #    {
          #        mcrSalesLine.SourceId = mcrSalesTable.SourceId;
          #    }
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLineDropShipment
          Table               #MCRSalesLineDropShipment
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DropShipComment
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DropShipment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    InventTable                 inventTable;
                #    InventDimId                 inventDimId;
                #    InventLocationId            defaultDropShipmentWarehouse = salesLine.mcrInventTable().DefaultDropShipmentWarehouse;
                #    PurchCreateFromSalesOrder   purchCreate;
                #    TmpPurchLinePrice           tmpPurchLinePrice;
                #    PurchLine                   purchLine;
                #
                #    // Set the direct delivery warehouse
                #    if (defaultDropShipmentWarehouse)
                #    {
                #        if (!mcrSaleslineDropShipment.DropShipment)
                #        {
                #            inventTable = salesLine.inventTable();
                #            inventDim.InventSiteId = inventTable.inventItemOrderSetupMap(InventItemOrderSetupType::Sales).inventSiteId('', inventTable);
                #
                #            if (inventDim.InventSiteId)
                #            {
                #                inventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #            }
                #            else
                #            {
                #                inventDimId = InventDim::inventDimIdBlank();
                #            }
                #
                #            inventDim.InventLocationId   = inventTable.inventItemOrderSetupMap(InventItemOrderSetupType::Sales,
                #                                                                               inventDimId).inventLocationId('',
                #                                                                                                            inventTable,
                #                                                                                                            inventDim.InventSiteId);
                #        }
                #        else
                #        {
                #            inventDim.InventLocationId = defaultDropShipmentWarehouse;
                #        }
                #
                #        inventDim.InventSiteId = InventLocation::find(inventDim.InventLocationId).InventSiteId;
                #        salesLine.InventDimId  = InventDim::findOrCreate(inventDim).InventDimId;
                #        salesLine.modifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    // Set the direct delivery status
                #    if (!mcrSaleslineDropShipment.DropShipment)
                #    {
                #        mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::None;
                #    }
                #    else
                #    {
                #        tmpPurchLinePrice.AccountNum        = salesLine.inventTable().PrimaryVendorId;
                #        tmpPurchLinePrice.SalesId           = salesLine.SalesId;
                #        tmpPurchLinePrice.ItemId            = salesLine.ItemId;
                #        tmpPurchLinePrice.SalesLineRefRecId = salesLine.RecId;
                #        tmpPurchLinePrice.Included          = NoYes::Yes;
                #        tmpPurchLinePrice.insert();
                #
                #        purchCreate = PurchCreateFromSalesOrder::newPurchCreateFromSalesOrder(TradeLineDlvType::DropShip);
                #        purchCreate.parmTmpPurchLinePrice(tmpPurchLinePrice);
                #
                #        if (!purchCreate.checkSelectedLines())
                #        {
                #            mcrSaleslineDropShipment.DropShipment = NoYes::No;
                #            return;
                #        }
                #
                #        mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::ToBeDropShipped;
                #    }
                #
                #    super();
                #
                #    // The call to salesLine_ds.write() will take care of deleting related direct delivery purchase line when un-selecting drop shipment flag.
                #    // This is conditioned only if the related direct delivery purchase line exists and can be deleted.
                #    if (salesLine.InventRefType == InventRefType::Purch
                #        && !mcrSalesLineDropShipment.DropShipment
                #        && mcrSalesLineDropShipment.orig().DropShipment)
                #    {
                #        purchLine = PurchLine::findInventTransId(salesLine.InventRefTransId);
                #        if(purchLine && purchLine.isDropShipment())
                #        {
                #            if(mcrSalesLineDropShipment.validateWrite()
                #                && salesLine.warningForReference())    // salesLine_ds.write() will do call that deletes related PO. Need to ensure the user's acceptance of this
                #            {
                #                salesLine_ds.write();
                #            }
                #            mcrSalesLineDropShipment_ds.reread();
                #        }
                #    }
                #
                #    salesline_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DropShipStatus
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLineDropShipment);
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    mcrSalesLineDropShipment_ds.allowEdit(!salesLine.isCategoryBased());
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLineDropShipment.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLineDropShipment.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLinePriceOverride
          Table               #MCRSalesLinePriceOverride
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PriceOverride
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Releases price override on line.
                #    element.mcrLinePriceOverrideNo(curUserId());
                #
                #    salesLine.LineAmount = salesLine.calcLineAmountForced();
                #
                #    element.mcrSetLineControls();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLinePriceOverride);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLinePriceOverride.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLinePriceOverride.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRReturnSalesTable
          Table               #MCRReturnSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrReturnSalesTable);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrReturnSalesTable.SalesTable)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrReturnSalesTable.SalesTable)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_W
          Table               #SalesTable_W
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD EntryCertificateRequired_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.allowEditIssueOwnEntryCertificate_W();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (custParameters.EntryCertificateIssuingEnabled_W)
          #    {
          #        element.allowEditIssueOwnEntryCertificate_W();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableWEnabled = SalesTable_W::isLegalEntityInCountryRegion();
          #    if (isSalesTableWEnabled)
          #    {
          #        // Switch the link type as fields appear in the grid that require an outerjoin
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isSalesTableWEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_W);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineReturnDetails_IN
          Table               #SalesLineReturnDetails_IN
          AllowCheck          #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableSalesLineReturnDataSource
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #public void enableSalesLineReturnDataSource()
          #{
          #    if (isIndiaIndirectTaxParameterMarked
          #        && salesLine_IN.RecId
          #        && salesLine.SalesQty
          #        && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #        salesLineReturnDetails_IN_ds.refresh();
          #    }
          #    else if(salesLine.SalesQty > 0)
          #    {
          #        element.setReturnDetails_IN();
          #        this.linkType(FormLinkType::Passive);
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (isIndiaIndirectTaxParameterMarked && salesLine_IN.RecId
          #        && salesLine.SalesQty && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        if (!SalesLineReturnDetails_IN::findbySalesLine(salesLine_IN.RecId).RecId)
          #        {
          #            salesLineReturnDetails_IN.SalesLine_IN = salesLine_IN.RecId;
          #        }
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RetailSalesLine
          Table               #RetailSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD LineManualDiscountPercentage
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = super();
                #
                #    if (ret && mcrCallCenterEnabled && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(RetailSalesLine, LineManualDiscountPercentage),
                #                                                retailSalesLine.LineManualDiscountPercentage,
                #                                                fieldNum(MCRPriceOverrideMarkUpGroup, DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim, true, retailSalesLine);
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    //super(_append);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    //super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD Address
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #AgreementHeaderExt_RU
          Table               #AgreementHeaderExt_RU
          JoinSource          #SalesTable_RU
          JoinRelation        #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ServiceCodeTable_IN
          Table               #ServiceCodeTable_IN
          JoinSource          #SalesLine_IN
          JoinRelation        #ServiceCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDREFERENCEDATASOURCES
  
  JOINS
    SalesLine SalesTable
    SalesLineForeignTradeCategory SalesLine
    InventDim SalesLine
    InterCompanyPurchSalesReference SalesTable
    WHSLoadLine SalesLine
    WHSSalesLine SalesLine
    TMSSalesTable SalesTable
    EximSalesLine_IN SalesLine
    SalesLine_BR SalesLine
    SalesLine_IN SalesLine
    SalesLine_Intrastat SalesLine
    SalesTable_BR SalesTable
    SalesTable_Intrastat SalesTable
    TaxServiceTariffLine SalesLine
    TaxServiceTariffHeader SalesTable
    SalesTableSymbol SalesTable
    SalesTable_RU SalesTable
    TaxInformation_IN SalesLine_IN
    SalesTableExtensionTH SalesTable
    MCRSalesTable SalesTable
    MCRSalesTableShipping SalesTable
    MCRSalesLine SalesLine
    MCRSalesLineDropShipment SalesLine
    MCRSalesLinePriceOverride SalesLine
    MCRReturnSalesTable SalesTable
    SalesTable_W SalesTable
    SalesLineReturnDetails_IN SalesLine_IN
    RetailSalesLine SalesLine
    LogisticsPostalAddressDeliveryHeader SalesTable
    LogisticsPostalAddressShipCarrierHeader SalesTable
    LogisticsPostalAddressDeliveryLine SalesLine
    LogisticsPostalAddressShipCarrierLine SalesLine
    AgreementHeaderExt_RU SalesTable_RU
    ServiceCodeTable_IN SalesLine_IN
  ENDJOINS
  
  PARTREFERENCES
    PARTREFERENCE #LatestSalesOrders
      PROPERTIES
        Name                #LatestSalesOrders
        MenuItemName        #SalesLatestOrdersPart
        DataSource          #SalesTable
        DataSourceRelation  #EDT.SalesTable.CustAccount
        ElementPosition     #536870911
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #CustRelatedInfo
      PROPERTIES
        Name                #CustRelatedInfo
        MenuItemName        #CustRelatedInfo
        DataSource          #SalesTable
        IsLinked            #Yes
        ElementPosition     #1073741822
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #MCRScriptImagePart
      PROPERTIES
        Name                #MCRScriptImagePart
        MenuItemName        #MCRSalesTableScriptImagePart
        DataSource          #SalesLine
        DataSourceRelation  #SelfLink
        IsLinked            #Yes
        ElementPosition     #1610612733
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS9694
      TitleDatasource     #SalesTable
      DataSource          #SalesTable
      HideIfEmpty         #No
      Style               #DetailsFormTransaction
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPaneHeader
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LinesActionPaneStrip
          ElementPosition     #1073741822
          HierarchyParent     #LineViewLines
          Style               #Strip
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #aptabRetail
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1440603605
          HierarchyParent     #ActionPaneHeader
          Caption             #@RET3014
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #General
          AutoDeclaration     #Yes
          ElementPosition     #1646404120
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114913
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Invoice
          AutoDeclaration     #Yes
          ElementPosition     #1234803090
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS14204
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LineOverviewActionTab
          ElementPosition     #1431655764
          HierarchyParent     #LinesActionPaneStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Manage
          AutoDeclaration     #Yes
          ElementPosition     #823202060
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS115306
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #PickAndPack
          AutoDeclaration     #Yes
          ElementPosition     #1029002575
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS317470
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #SalesOrder
          AutoDeclaration     #Yes
          ElementPosition     #411601030
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS19627
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Sell
          AutoDeclaration     #Yes
          ElementPosition     #617401545
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114644
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #TMS
          AutoDeclaration     #Yes
          ConfigurationKey    #WHSandTMS
          ElementPosition     #2058005159
          HierarchyParent     #ActionPaneHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #WHS
          AutoDeclaration     #Yes
          ElementPosition     #1852204635
          HierarchyParent     #ActionPaneHeader
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpAttribute
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #aptabRetail
          Caption             #@SYS334125
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpInquiries
          ElementPosition     #1789569705
          HierarchyParent     #aptabRetail
          Caption             #@SYS316992
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          ElementPosition     #1908874351
          HierarchyParent     #SalesOrder
          Caption             #@SYS50247
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupActions
          ElementPosition     #1717986916
          HierarchyParent     #WHS
          Caption             #@SYS40422
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupInvoice
          ElementPosition     #1610612733
          HierarchyParent     #TMS
          Caption             #@TRX1373
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupLoads
          ElementPosition     #1288490187
          HierarchyParent     #WHS
          Caption             #@WAX312
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupRating
          ElementPosition     #1073741822
          HierarchyParent     #TMS
          Caption             #@SYS27110
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #EventNotification
          AutoDeclaration     #Yes
          ElementPosition     #1829337920
          HierarchyParent     #SalesOrder
          Caption             #@RET4160023
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralCustomer
          ElementPosition     #920350134
          HierarchyParent     #General
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralMaintain
          ElementPosition     #1227133512
          HierarchyParent     #General
          Caption             #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralRelatedInfo
          ElementPosition     #1687308579
          HierarchyParent     #General
          Caption             #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralSetup
          ElementPosition     #613566756
          HierarchyParent     #General
          Caption             #@SYS342635
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Generate
          AutoDeclaration     #Yes
          ElementPosition     #1171354716
          HierarchyParent     #Sell
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #IntercompanyTracing
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1546188224
          HierarchyParent     #Manage
          Caption             #@SYS317473
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceBill
          ElementPosition     #805306365
          HierarchyParent     #Invoice
          Caption             #@SYS114665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceChange
          ElementPosition     #1610612730
          HierarchyParent     #Invoice
          Caption             #@SYS1038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceGenerate
          ElementPosition     #536870910
          HierarchyParent     #Invoice
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceIntroduce
          ElementPosition     #1342177275
          HierarchyParent     #Invoice
          Caption             #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceJournals
          ElementPosition     #1879048188
          HierarchyParent     #Invoice
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceSettle
          ElementPosition     #1073741820
          HierarchyParent     #Invoice
          Caption             #@SYS114666
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #IS_CopyFromPO
          ElementPosition     #1988410782
          HierarchyParent     #SalesOrder
          Caption             #Copy from PO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewActionButtonGroup
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewMainActionButtonGroup
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewWHS
          ElementPosition     #1717986916
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageBankDocument
          AutoDeclaration     #Yes
          ElementPosition     #1159641168
          HierarchyParent     #Manage
          Caption             #@SYS313653
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageCustomer
          AutoDeclaration     #Yes
          ElementPosition     #773094112
          HierarchyParent     #Manage
          Caption             #@SYS11779
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRCoupon
          AutoDeclaration     #Yes
          ElementPosition     #1932735281
          HierarchyParent     #Manage
          Caption             #@MCR25553
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRPayments
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #835132529
          HierarchyParent     #SalesOrder
          Caption             #@SYS58091
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRSalesOrderFunctions
          AutoDeclaration     #Yes
          ElementPosition     #1503238549
          HierarchyParent     #SalesOrder
          Caption             #@SYS81103
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackDelivery
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPack
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackGenerate
          ElementPosition     #715827882
          HierarchyParent     #PickAndPack
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackJournals
          ElementPosition     #1789569705
          HierarchyParent     #PickAndPack
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackQualityManagement
          ElementPosition     #1073741823
          HierarchyParent     #PickAndPack
          Caption             #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ProcessGroup
          AutoDeclaration     #Yes
          ElementPosition     #1366580502
          HierarchyParent     #Sell
          Caption             #@SYS114631
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #RetailPrepaymentBalance
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1952257860
          HierarchyParent     #Sell
          Caption             #@RET4990
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderAttachments
          AutoDeclaration     #Yes
          ElementPosition     #1749801489
          HierarchyParent     #SalesOrder
          Caption             #@SYS316708
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderCopy
          AutoDeclaration     #Yes
          ElementPosition     #1169185539
          HierarchyParent     #SalesOrder
          Caption             #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderList
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1670265058
          HierarchyParent     #SalesOrder
          Caption             #@SYS118440
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderModify
          AutoDeclaration     #Yes
          ElementPosition     #626349396
          HierarchyParent     #SalesOrder
          Caption             #@SYS316703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderNew
          AutoDeclaration     #Yes
          ElementPosition     #417566264
          HierarchyParent     #SalesOrder
          Caption             #@SYS2055
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderQuery
          ElementPosition     #2067947213
          HierarchyParent     #SalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderView
          AutoDeclaration     #Yes
          ElementPosition     #1336212044
          HierarchyParent     #SalesOrder
          Caption             #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellApply
          AutoDeclaration     #Yes
          ElementPosition     #1561806288
          HierarchyParent     #Sell
          Caption             #@SYS24973
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCalculate
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #Sell
          Caption             #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCharges
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #455526834
          HierarchyParent     #Sell
          Caption             #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCreate
          AutoDeclaration     #Yes
          ElementPosition     #683290251
          HierarchyParent     #Sell
          Caption             #@SYS112171
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellJournals
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #Sell
          Caption             #@SYS2827
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellTax
          AutoDeclaration     #Yes
          ElementPosition     #780903144
          HierarchyParent     #Sell
          Caption             #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ShowGroup
          AutoDeclaration     #Yes
          ElementPosition     #1002159034
          HierarchyParent     #SalesOrder
          Caption             #@SYS317437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #StatusImportExport_HV
          ElementPosition     #1917396112
          HierarchyParent     #General
          Caption             #@HVP315
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #XmlExport
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #PickAndPack
          Caption             #Export to XML
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LoadGrid
          DataSource          #WHSLoadLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridHeader
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup
          VisibleCols         #7
          VisibleRows         #9
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #SalesLineGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #LineViewLines
          VisibleRows         #5
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Administration
          ElementPosition     #1171354716
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Administration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Agreement_RU
          CountryRegionCodes  #RU
          ElementPosition     #2013265915
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS15240
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Asset_RU
          ElementPosition     #2130706430
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #FixedAssets_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankAccounts_LV
          ElementPosition     #1932735281
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #BankAccounts_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Barcode
          ElementPosition     #858993458
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #Barcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Baseinfo
          ElementPosition     #536870910
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS19627
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BomRoute
          ElementPosition     #1879048188
          HierarchyParent     #TabPageProduct
          Caption             #@SYS22227
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Campaign
          ElementPosition     #920350134
          HierarchyParent     #GroupReferences
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #Campaign
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfo
          AutoDeclaration     #Yes
          ElementPosition     #1342177278
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfoLine
          ElementPosition     #1503238551
          HierarchyParent     #TabLineDelivery
          DataSource          #SalesLine
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Comment_HV
          ElementPosition     #2080374780
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #Comment_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Commission
          ElementPosition     #780903144
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CompanyInfo
          AutoDeclaration     #Yes
          ElementPosition     #322122546
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS81121
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ConsTarget_JP
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          ElementPosition     #1879048190
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataGroup           #ConsTarget_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ContactInfo
          ElementPosition     #1073741820
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #ContactInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CopyOfLineViewDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1840700268
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CopyOfLineViewTMSHeader
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderTMS
          Caption             #@TRX607
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Currency
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #CurrencyShow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customer
          VerticalSpacing     #5
          ElementPosition     #715827882
          HierarchyParent     #GroupCustomer
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomerReturns_IN
          AutoDeclaration     #Yes
          ElementPosition     #2093796553
          HierarchyParent     #TabLineSetup
          Caption             #@SYS4004286
          DataSource          #SalesLineReturnDetails_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customs_IN
          AutoDeclaration     #Yes
          ElementPosition     #1181116002
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5007
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateAndTime
          ElementPosition     #1890868500
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS112412
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery
          AutoDeclaration     #Yes
          ElementPosition     #1029002580
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryAddressHeaderOverview
          ElementPosition     #671088638
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryDoubleColumnGroup
          ElementPosition     #1145324610
          HierarchyParent     #TabHeaderDelivery
          FrameType           #None
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1006632959
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliverySalesTax_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612730
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #DeliverySalesTax_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Disc
          ElementPosition     #858993458
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS11829
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DiscMarkup
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #DiscountMiscCharges
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice_MX
          AutoDeclaration     #Yes
          CountryRegionCodes  #MX
          ElementPosition     #1908874352
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #EletronicInvoice_MX
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoiceLine
          AutoDeclaration     #Yes
          ElementPosition     #1932735276
          HierarchyParent     #TabLineSetup
          Caption             #@SYS5779
          DataSource          #SalesLine
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EntryCertificate_W
          ElementPosition     #2146959358
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_W
          DataGroup           #EntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Excise_IN
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5005
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EximIncentiveScheme_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1503238548
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS61737
          DataSource          #EximSalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ExternalRefernces
          ElementPosition     #1073741823
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS318616
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalDocType_PL
          CountryRegionCodes  #PL
          ElementPosition     #2024704929
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #FiscalDocType_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformation_BR
          ElementPosition     #1431655764
          HierarchyParent     #TabLineFiscalInformation_BR
          DataSource          #SalesLine_BR
          DataGroup           #FiscalInformation_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTrade
          ElementPosition     #715827880
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTradeCategory
          ElementPosition     #1288490187
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCard
          ConfigurationKey    #RetailGiftCard
          ElementPosition     #1932735281
          HierarchyParent     #TabPagePacking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCardPhysical
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataGroup           #GiftCardPhysical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCardVirtual
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataGroup           #GiftCardVirtual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiroMoneyTransferSlip
          ElementPosition     #1561806288
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS316960
          DataSource          #SalesTable
          DataGroup           #GiroMoneyTransferSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup
          ElementPosition     #1431655764
          HierarchyParent     #TabPageGrid
          Style               #BorderlessGridContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          ElementPosition     #715827882
          HierarchyParent     #Customer
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupColumnLast
          ElementPosition     #1717986916
          HierarchyParent     #TabPageForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCreditNote
          ElementPosition     #1073741822
          HierarchyParent     #TabCreditNote
          Caption             #@GLS220480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomer
          ElementPosition     #805306365
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomerReturnPeriod
          ElementPosition     #1717986916
          HierarchyParent     #CustomerReturns_IN
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDiscountHeaderOverview
          ElementPosition     #1521134249
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddress
          ElementPosition     #1073741823
          HierarchyParent     #HeaderDeliveryAddress
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddressHeaderOverview
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryAddressHeaderOverview
          FrameType           #None
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineDeliveryAddressRef
          ElementPosition     #1288490187
          HierarchyParent     #TabPageAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineViewHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineViewHeader
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupNotificationToTheCentralBank
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #NotificationToTheCentralBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupOriginalInvoice
          ElementPosition     #1610612733
          HierarchyParent     #TabCreditNote
          Caption             #@SYS300088
          DataSource          #CustInvoiceTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupProductModel
          ElementPosition     #1193046470
          HierarchyParent     #TabPageProduct
          Caption             #@SYS40117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferences
          ElementPosition     #1879048186
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferencesHeaderOverview
          ElementPosition     #1297438036
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupStatus
          ElementPosition     #1342177275
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS36398
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDeliveryAddress
          ElementPosition     #939524094
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1744830461
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS306383
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderFiscalInformation
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS56
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderForeignTrade
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderForeignTrade
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInfo
          ElementPosition     #1073741822
          HierarchyParent     #TabPageDetails
          FrameType           #None
          Style               #DetailTitleContainer
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IndiaSalesTax
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS5878
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterCompanyAdmin
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderIntercompanySettings
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #IntercompanyAdmin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterestAndFine_BR
          CountryRegionCodes  #BR
          ElementPosition     #1556925642
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_BR
          DataGroup           #InterestAndFine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat
          ElementPosition     #1789569705
          HierarchyParent     #TabHeaderForeignTrade
          FrameType           #None
          DataSource          #SalesTable_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat1
          ElementPosition     #1073741822
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLine_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Inventory
          ElementPosition     #1610612730
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS108783
          DataSource          #SalesTable
          DataGroup           #Inventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventoryDimensionsGrid
          AutoDeclaration     #Yes
          ElementPosition     #1577377859
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #InventDim
          DataGroup           #InventoryDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventProfile_RU
          ElementPosition     #2146435070
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_RU
          DataGroup           #InventProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IS_Notes_HV
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderOtherInfo
          DataSource          #SalesTable
          DataGroup           #IS_Notes_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #ItemReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference_HV
          ElementPosition     #1655351976
          HierarchyParent     #TabPageProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCommission
          ElementPosition     #1288490184
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCratedDateTime
          ElementPosition     #1717986912
          HierarchyParent     #TabLineSetup
          Caption             #@SYS112412
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #596523234
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS16056
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDeliveryAddress
          ElementPosition     #858993458
          HierarchyParent     #TabPageAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1932735281
          HierarchyParent     #TabPageAddress
          Caption             #@GLS221489
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineInventory
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #TabLineSetup
          Caption             #@SYS981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LinePosting
          ElementPosition     #858993456
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Posting
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #lineRFIDTaggingLevel
          ElementPosition     #1717986916
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineSalesTax
          ElementPosition     #1073741820
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1968526675
          HierarchyParent     #DeliveryAddressHeaderOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewTMSHeader
          ElementPosition     #1968526675
          HierarchyParent     #GroupLineViewHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewWHSHeader
          ElementPosition     #1610612734
          HierarchyParent     #GroupLineViewHeader
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2040109461
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine_IN
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdTax
          AutoDeclaration     #Yes
          CountryRegionCodes  #TH,SA,GB,IE,BR
          ElementPosition     #1503238548
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #WithholdingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LoadGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabWHSLoads
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRAddressGroup
          ElementPosition     #1073741823
          HierarchyParent     #MCRGroupLineViewHeader
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRCustomerGroup
          ElementPosition     #715827882
          HierarchyParent     #MCRGroupLineViewHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryAddressHeaderOverview
          ElementPosition     #1073741822
          HierarchyParent     #MCRAddressGroup
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryAndDiscounts
          ElementPosition     #1431655764
          HierarchyParent     #MCRGroupLineViewHeader
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryDetails
          ElementPosition     #1073741822
          HierarchyParent     #MCRDeliveryAndDiscounts
          Caption             #@MCR35884
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRAddressGroup
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDetails
          AutoDeclaration     #Yes
          ElementPosition     #1565873491
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS136132
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDropShip
          AutoDeclaration     #Yes
          ElementPosition     #1360072975
          HierarchyParent     #TabLineDelivery
          Caption             #@MCR23774
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRExpedite
          ElementPosition     #894784852
          HierarchyParent     #TabLineDelivery
          Caption             #@MCR21525
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupDiscountHeaderOverview
          ElementPosition     #1610612734
          HierarchyParent     #MCRDeliveryAndDiscounts
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupHeaderAddressHeaderOverview
          ElementPosition     #920350134
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          FrameType           #None
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupLineViewHeader
          AutoDeclaration     #Yes
          Visible             #No
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1610612734
          HierarchyParent     #LineViewHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupReferencesHeaderOverview
          ElementPosition     #1789569705
          HierarchyParent     #MCRGroupLineViewHeader
          Caption             #@SYS14018
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRPriceGroup
          AutoDeclaration     #Yes
          ElementPosition     #1364546899
          HierarchyParent     #TabPageProduct
          Caption             #@SYS4707
          DataSource          #MCRSalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRPriceOverride
          AutoDeclaration     #Yes
          ElementPosition     #1431655763
          HierarchyParent     #TabLinePriceDisc
          Caption             #@MCR10725
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRProductAttributes
          ElementPosition     #1073741823
          HierarchyParent     #TabPageProduct
          Caption             #@SYS132100
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRSimulateDeliveryDatesGroup
          ElementPosition     #1431655764
          HierarchyParent     #MCRDeliveryHeaderOverview
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Measurement
          ElementPosition     #1431655764
          HierarchyParent     #GroupColumnLast
          Caption             #@SYS34825
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #Measurement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1767200083
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS102988
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1127428913
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS102988
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #NoteFormat_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1744830457
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTableExtensionTH
          DataGroup           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OrderLine
          ElementPosition     #715827882
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS22920
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OtherInfo
          ElementPosition     #1565873491
          HierarchyParent     #GroupLineViewHeader
          Caption             #@HVP72
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packagingmaterial
          ConfigurationKey    #InventPackaging
          ElementPosition     #1288490187
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #PackagingMaterial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packing_HV
          ElementPosition     #1288490187
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #SalesLine
          DataGroup           #Packing_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PackingMaterials_HV
          ElementPosition     #1717986916
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #SalesLine
          DataGroup           #PackingMaterials_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Payment
          AutoDeclaration     #Yes
          ElementPosition     #1395864369
          HierarchyParent     #TabHeaderPriceCalc
          Caption             #@SYS333953
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsCWMain
          ElementPosition     #1005340488
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataGroup           #PdsCWMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsRebate
          ElementPosition     #1360072975
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #PdsRebate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PhysDims
          ElementPosition     #1073741822
          HierarchyParent     #TabWHSLoads
          ArrangeMethod       #Horizontal, flush right
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Posting
          ElementPosition     #585677358
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS5943
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Potency
          ElementPosition     #1503238551
          HierarchyParent     #TabLinePriceDisc
          Caption             #@PSC311
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price_RU
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_RU
          DataGroup           #Price_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Prices
          ElementPosition     #1288490187
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS12983
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProducerDocument_HV
          ElementPosition     #1252698793
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #ProducerDocument_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductDimensions
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #TabPageProduct
          Caption             #@SYS133228
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Project
          ElementPosition     #1431655764
          HierarchyParent     #TabLineProject
          FrameType           #None
          DataSource          #SalesLine
          DataGroup           #SalesOrderProject
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Quality_HV
          ElementPosition     #858993458
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #SalesLine
          DataGroup           #Quality_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Reservation
          ElementPosition     #1073741823
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS981
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Return
          ElementPosition     #644245092
          HierarchyParent     #TabLineSetup
          Caption             #@SYS24700
          DataSource          #SalesLine
          DataGroup           #ReturnGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #RFIDTaggingLevel
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderPacking
          DataSource          #SalesTable
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeaderGroup
          ElementPosition     #805306365
          HierarchyParent     #Delivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesLineGroup
          ElementPosition     #1380525200
          HierarchyParent     #LineDelivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddressGroup
          ElementPosition     #1610612734
          HierarchyParent     #LineDeliveryAddress
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineIntercompany
          ElementPosition     #1431655764
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Intercompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineStatus
          ElementPosition     #1789569705
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTableTimeZoneDelivery
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTax
          ElementPosition     #390451572
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5006
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierAddr
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1409286141
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierLineAddress
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1610612734
          HierarchyParent     #TabPageAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SimulateDeliveryDatesGroup
          ElementPosition     #1252698793
          HierarchyParent     #DeliveryHeaderOverview
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StorageDimensions
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #TabPageProduct
          Caption             #@SYS108783
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Suframa_BR
          ElementPosition     #1073741822
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine_BR
          DataGroup           #Suframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SuframaRegion_BR
          CountryRegionCodes  #BR
          ElementPosition     #1288490187
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS128
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TAMRebate
          ElementPosition     #1234803095
          HierarchyParent     #TabHeaderPriceCalc
          Caption             #@MCR24921
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TimeZoneDelivery
          ElementPosition     #1789569705
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TMSTransportation
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@TRX536
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TrackingDimensions
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TabPageProduct
          Caption             #@SYS317445
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Transport
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5004
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT_IN
          ElementPosition     #1073741822
          HierarchyParent     #VAT
          FrameType           #None
          DataSource          #TaxInformation_IN
          DataGroup           #VAT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WHSStatus
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderWHS
          Caption             #@SYS36398
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax
          AutoDeclaration     #Yes
          ElementPosition     #1932735279
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS7372
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2145386494
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonHeaderTradeAgreements
          AutoDeclaration     #Yes
          HelpText            #@SYS69473
          ElementPosition     #477218588
          HierarchyParent     #GeneralCustomer
          Text                #@SYS115266
          ButtonDisplay       #Text & Image left
          NormalImage         #12430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventory
          AutoDeclaration     #Yes
          HelpText            #@SYS69645
          ElementPosition     #1227133512
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEPL>
            #    boolean     isExternalItem;
            #    int         controlCount, i;
            #    FormControl curControl;
            #    // </GEEPL>
            #
            #    // Don't allow inventory reservation for continuity items
            #    if (mcrSalesLine.ContinuityScheduleId)
            #    {
            #        buttonLineInventReservation.enabled (false);
            #    }
            #
            #    if (buttonLineInventTrans.visible() &&
            #        buttonLineInventTrans.enabled())
            #    {
            #        buttonLineInventTransGoodsInRoute_RU.visible(salesLine.hasInventTransGoodsInRoute_RU());
            #    }
            #
            #    // <GEEPL>
            #    if (countryRegion_PL)
            #    {
            #        isExternalItem = !salesLine.isCategoryBased() && (salesLine.inventDim().inventLocation().InventLocationType == InventLocationType::PlExternalItems);
            #
            #        controlCount = buttonLineInventory.controlCount();
            #        for (i = 1; i <= controlCount; i++)
            #        {
            #            curControl = buttonLineInventory.controlNum(i);
            #            curControl.enabled(! isExternalItem);
            #        }
            #
            #        plInventExternalReserve.visible (isExternalItem);
            #        plInventSumExternal.visible     (true);
            #
            #        plInventExternalReserve.enabled (isExternalItem);
            #        plInventSumExternal.enabled     (true);
            #    }
            #    else
            #    {
            #        plInventExternalReserve.visible (false);
            #        plInventSumExternal.visible     (false);
            #    }
            #    // </GEEPL>
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreateActivity
          HelpText            #@SYS26027
          ElementPosition     #715827882
          HierarchyParent     #GeneralCustomer
          Text                #@SYS38378
          NormalImage         #10197
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreditCard
          AutoDeclaration     #Yes
          HelpText            #@SYS116961
          ElementPosition     #1073741822
          HierarchyParent     #ManageCustomer
          Text                #@SYS101746
          ButtonDisplay       #Text & Image left
          NormalImage         #12446
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #GeneralCustomerCases
          HelpText            #@SYS310451
          ElementPosition     #954437176
          HierarchyParent     #GeneralCustomer
          Text                #@SYS130461
          ButtonDisplay       #Text & Image left
          NormalImage         #11229
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancials
          HelpText            #@SYS80043
          ElementPosition     #920350134
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEU>
            #
            #    buttonChangeTaxGroups.enabled(salesTable.SalesStatus != SalesStatus::Invoiced   &&
            #                           salesLine.InventTransIdReturn                            &&
            #                           salesLine.CreditNoteInternalRef_PL);
            #    // </GEEU>
            #
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripProduct
          HelpText            #@SYS317849
          ElementPosition     #1533916890
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS317847
          ButtonDisplay       #Text & Image left
          NormalImage         #12422
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    // <GIN>
            #    if (TaxParameters::isCustomsEnable_IN()
            #        && EximParameters_IN::checkParameters())
            #    {
            #        element.enableEximInquiry_IN();
            #    }
            #    // </GIN>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripSalesLine
          HelpText            #@SYS69510
          ElementPosition     #613566756
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS123905
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdate
          HelpText            #@SYS28285
          ElementPosition     #1840700268
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #mbTemplatesButton
          AutoDeclaration     #Yes
          HelpText            #@SYS345469
          ElementPosition     #715827882
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS345468
          NormalImage         #12723
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #SendEmail
          AutoDeclaration     #Yes
          HelpText            #@RET4170063
          ElementPosition     #1073741822
          HierarchyParent     #EventNotification
          Text                #@RET4170062
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    RetailEventNotificationAction::creditCardProcessCompletion(
            #                                    false,
            #                                    CreditCardPaymentErrors::construct(),
            #                                    CreditCardOperation::Authorize,
            #                                    true,
            #                                    salesTable);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #WHSLineStripMenuButton
          HelpText            #@SYS6437
          ElementPosition     #1431655764
          HierarchyParent     #LineOverviewWHS
          Text                #@SYS6437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesResponsible
          ElementPosition     #536870910
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesResponsible
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesTaker
          ElementPosition     #805306365
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesTaker
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Agreement_RU_AgreementHeaderExt_RU
          ElementPosition     #1073741822
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable_RU
          ReferenceField      #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #CopyOfReferenceGroup
          ElementPosition     #858993458
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Customs_IN_CustomsTariffCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #Customs_IN
          DataSource          #SalesLine_IN
          ReferenceField      #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Excise_IN_ExciseTariffCodes_IN
          ElementPosition     #173534032
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximIncentiveSchemeGroup
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1503238549
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximIncentiveSchemeGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximPorts
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986914
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximPorts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximProductGroupTable
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1932735279
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximProductGroupTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_CFOPTable_BR
          ElementPosition     #1073741823
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_FiscalDocumentType_BR
          ElementPosition     #715827882
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #FiscalDocumentType_BR
          ReplacementFieldGroup #FiscalDocumentTypeReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdItemGroupHeading_TH
          ElementPosition     #1073741822
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          ReferenceField      #TaxWithholdItemGroupHeading_TH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #MCRReferenceGroup1
          ElementPosition     #858993458
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #OriginalInvoice_SalesCategory
          ElementPosition     #1193046470
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Payment_DirectDebitMandate
          ElementPosition     #2098677199
          HierarchyParent     #Payment
          DataSource          #SalesTable
          ReferenceField      #DirectDebitMandate
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookupReference
            #public Common lookupReference()
            #{
            #    return CustDirectDebitMandate::lookupReference(
            #        salesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
          SOURCE #resolveReference
            #public Common resolveReference()
            #{
            #    return CustDirectDebitMandate::resolveReference(
            #        salesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ReferenceGroup
          ElementPosition     #972111938
          HierarchyParent     #GroupHeaderAddress
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #
            #    boolean ret;
            #
            #
            #    ret = super();
            #
            #
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Sales_SalesCategory
          ElementPosition     #858993458
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CFOPTable_BR
          ElementPosition     #1564765655
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CompanyLocation_IN
          HelpText            #@GLS222760
          ElementPosition     #795364312
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #CompanyLocation_IN
          Label               #@SYS33556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddress
          ElementPosition     #858993458
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          DataSource          #SalesLine
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdCountryRegionToRemittance_IN
          ElementPosition     #1789569705
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdCountryRegionToRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdNatureOfRemittance_IN
          ElementPosition     #1073741823
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdNatureOfRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesCategory
          ElementPosition     #879672927
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesTaxFormTypes_IN
          ElementPosition     #1610612734
          HierarchyParent     #IndiaSalesTax
          DataSource          #SalesLine_IN
          ReferenceField      #SalesTaxFormTypes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_TaxInventVATCommodityCode_IN
          ElementPosition     #1610612734
          HierarchyParent     #VAT
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInventVATCommodityCode_IN
          ReplacementFieldGroup #CommodityCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Query                   query = new Query();
            #    SysReferenceTableLookup sysReferenceTableLookup;
            #    QueryBuildDataSource    queryBuildDataSource;
            #
            #    sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(TaxInventVATCommodityCode_IN), this);
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, CommodityCode));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, Description));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, LogisticsAddressStateId));
            #
            #    queryBuildDataSource = query.addDataSource(tableNum(TaxInventVATCommodityCode_IN));
            #
            #    queryBuildDataSource.addRange(fieldNum(TaxInventVATCommodityCode_IN, ItemId)).value(queryValue(salesLine.ItemId));
            #    sysReferenceTableLookup.parmQuery(query);
            #
            #    sysReferenceTableLookup.performFormLookup();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLineTaxExtensionIN_TaxInformation
          ElementPosition     #1696777201
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_SalesPurchOperationType_BR
          ElementPosition     #715827882
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          ReferenceField      #SalesPurchOperationType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_TaxAgent_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #2086126969
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          ReferenceField      #TaxAgent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTableSymbol_BankConstantSymbol
          ElementPosition     #2049870753
          HierarchyParent     #Payment
          DataSource          #SalesTableSymbol
          ReferenceField      #BankConstantSymbol
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberHeader
          ElementPosition     #2013265917
          HierarchyParent     #HeaderForeignTrade
          DataSource          #TaxServiceTariffHeader
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberLine
          HelpText            #@GLS115894
          ElementPosition     #2102744402
          HierarchyParent     #ForeignTrade
          DataSource          #TaxServiceTariffLine
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTax_IN_ServiceCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #ServiceTax_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ServiceCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ECCNumber
          AutoDeclaration     #Yes
          ElementPosition     #151842278
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ECCNumber
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_IECRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #Customs_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #IECRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ManECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #108458770
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ManECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_SalesTaxRegistrationNumber
          ElementPosition     #1073741822
          HierarchyParent     #IndiaSalesTax
          DataSource          #TaxInformation_IN
          ReferenceField      #SalesTaxRegistrationNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_STCRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #ServiceTax_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #STCRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_TraderECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #130150524
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TraderECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #WithholdingTax_TAN
          ElementPosition     #715827882
          HierarchyParent     #WithholdingTax
          DataSource          #TaxInformation_IN
          ReferenceField      #TAN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabPageDetails
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #HeaderDetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #HeaderView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineDetailsTab
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #LineViewLineDetails
          Tabs                #15
          Style               #IndexTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineViewTab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LineView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #MainTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #tabChanged
            #public void tabChanged(int _fromTab, int _toTab)
            #{
            #    super(_fromTab, _toTab);
            #    element.lock();
            #
            #    // Buttons to show in Grid View
            #    editDetailsButton.visible(tabPageGrid.isActivePage());
            #    salesOrderList.visible(tabPageGrid.isActivePage());
            #
            #    // Buttons to show in Details View
            #    editSalesOrder.visible(!tabPageGrid.isActivePage()
            #                            && !enableOrderCompletion
            #                            );
            #    showGroup.visible(!tabPageGrid.isActivePage());
            #
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderView
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineView
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewHeader
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #858993458
          HierarchyParent     #LineViewTab
          Caption             #@SYS335042
          FastTabExpanded     #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLineDetails
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #LineViewTab
          Caption             #@SYS23823
          DataSource          #SalesLine
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          FastTabExpanded     #No
          Scrollbars          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLines
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #LineViewTab
          Caption             #@SYS335043
          FastTabExpanded     #Always
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #ProductionInstructions_HV
          ElementPosition     #1389548237
          HierarchyParent     #LineDetailsTab
          Caption             #@ABC360
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabCreditNote
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          ElementPosition     #2021161072
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS8125
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionLine
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1515870804
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesLine
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated() //IMP0211_HV_06001
            #{
            #    dimensionDefaultingControllerLine.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          Width               #Column width
          ElementPosition     #1744830451
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerTable.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderAddress
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #671088635
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderDelivery
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #805306362
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderFiscalInformation_BR
          CountryRegionCodes  #BR
          Width               #Column width
          ElementPosition     #1879048178
          HierarchyParent     #HeaderDetailsTab
          Caption             #@GLS56
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderForeignTrade
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1342177270
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderGeneral
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #402653181
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderIntercompanySettings
          Width               #Column width
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1207959543
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS317558
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderOtherInfo
          Width               #Column width
          ElementPosition     #2013265905
          HierarchyParent     #HeaderDetailsTab
          Caption             #Other info
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPacking
          Width               #Column width
          ElementPosition     #1073741816
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPriceCalc
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #939524089
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderSetup
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #536870908
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderTMS
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1610612724
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderWHS
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1476394997
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #884257969
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1768515938
          HierarchyParent     #LineDetailsTab
          Caption             #@GLS56
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineGeneral
          AutoDeclaration     #Yes
          ElementPosition     #252645134
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLinePriceDisc
          AutoDeclaration     #Yes
          ElementPosition     #1010580536
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          DataSource          #SalesLine
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineProject
          AutoDeclaration     #Yes
          ElementPosition     #1136903103
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS80304
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineSetup
          AutoDeclaration     #Yes
          ElementPosition     #378967701
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPage
          Width               #Column width
          ElementPosition     #268435454
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageAddress
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMultiShipTo
          ElementPosition     #505290268
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageDetails
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #Details
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(false);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageForeignTrade
          AutoDeclaration     #Yes
          ElementPosition     #1263225670
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          ViewEditMode        #Edit
          Style               #DetailsFormGrid
          PanelStyle          #Grid
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(true);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPagePacking
          ElementPosition     #757935402
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageProduct
          ElementPosition     #631612835
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS103105
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabTaxInformation_IN
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1642193371
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS33652
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabWHSLoads
          AutoDeclaration     #Yes
          Enabled             #No
          ConfigurationKey    #WHSandTMS
          ElementPosition     #1894838505
          HierarchyParent     #LineDetailsTab
          Caption             #@WAX312
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    whsLoadLine_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #blockOrder
          ElementPosition     #1073741822
          HierarchyParent     #ButtonGroup
          Text                #@HVP1137
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    SalesTable      salesTableLocal;
            #    ;
            #
            #    super();
            #
            #    ttsbegin;
            #
            #    select forupdate salesTableLocal
            #        where salesTableLocal.SalesId == salesTable.SalesId;
            #
            #    salesTableLocal.Blocked_HV = NoYes::Yes;
            #    salesTableLocal.doUpdate();
            #
            #    ttscommit;
            #
            #    salesTable_ds.reRead();
            #    salesTable_ds.active();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonChangeTaxGroups
          AutoDeclaration     #Yes
          HelpText            #@GLS109917
          ElementPosition     #1342177275
          HierarchyParent     #LineStripFinancials
          Text                #@GLS109917
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GEEU>
            #void clicked()
            #{
            #    Dialog      dialog;
            #    DialogField taxGroupItem;
            #    DialogField taxGroup;
            #
            #    super();
            #
            #    if (salesLine.CreditNoteInternalRef_PL &&
            #        salesLine.InventTransIdReturn)
            #    {
            #        dialog      = new Dialog("@GLS109917");
            #        taxGroup     = dialog.addFieldValue(extendedTypeStr(TaxGroup),     salesLine.TaxGroup);
            #        taxGroupItem = dialog.addFieldValue(extendedTypeStr(TaxItemGroup), salesLine.TaxItemGroup);
            #
            #        if (dialog.run())
            #        {
            #            if (taxGroup.value())
            #            {
            #                salesLine.TaxGroup      = taxGroup.value();
            #                salesLine.TaxItemGroup  = taxGroupItem.value();
            #                salesLine_ds.write();
            #            }
            #            else
            #            {
            #                Box::warning("@GLS109918");
            #            }
            #        }
            #    }
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyOriginalSalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94563
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1073741823
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93838
          ButtonDisplay       #Text & Image above
          NormalImage         #10664
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyPurchTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94560
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1789569705
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS75319
          ButtonDisplay       #Text & Image above
          NormalImage         #10603
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::construct(salesTable).formRun(formStr(PurchTable),element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesFormLetter_Pickinglist
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94424
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1073741820
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS114678
          ButtonDisplay       #Text & Image above
          NormalImage         #10602
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    PurchTable                  purchTable_Reference = salesTable.referencePurchTable();
            #    SalesTableInteractionHelper salesTableInteractionHelper;
            #
            #    if (!purchTable_Reference.RecId && !purchTable_Reference.InterCompanySalesId)
            #    {
            #        throw(error("@SYS28047"));
            #    }
            #
            #    TradeInterCompany::construct(purchTable_Reference).menuFunction(classStr(SalesFormLetter_PickingList), MenuItemType::Action, element);
            #    salesTableInteractionHelper = SalesTableInteractionHelper::construct();
            #    salesTableInteractionHelper.initHeaderActions(salesTable);
            #    buttonInterCompanySalesFormLetter_Pickinglist.enabled(salesTableInteractionHelper.parmEnableICPickingListButton());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94562
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #715827882
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93837
          ButtonDisplay       #Text & Image above
          NormalImage         #10604
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonLineProduction
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS28807
          ConfigurationKey    #Prod
          SecurityKey         #ProdDaily
          ElementPosition     #306783378
          HierarchyParent     #LineStripProduct
          Text                #@SYS114884
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine.type().formProduction(element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #CreateLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305729
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1717986912
          HierarchyParent     #LineStripUpdate
          Text                #@SYS132301
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.createAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #EndDisc
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68934
          ConfigurationKey    #PriceDisc
          ElementPosition     #1511192194
          HierarchyParent     #SellCalculate
          Text                #@SYS6465
          ButtonDisplay       #Text & Image left
          NormalImage         #10831
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.updateFinalDisc();
            #    // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
            #    if (salesTable.Touched)
            #    {
            #        // Refresh if the final discount is updated
            #        salesTable_ds.reread();
            #        salesTable_ds.refresh();
            #
            #        //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #        salesTable_ds.setTouched();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #InterCompanyRemoveMarking
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94561
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1561806288
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::removeMarking(salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #IS_PickingList
          ElementPosition     #268435454
          HierarchyParent     #PickAndPackGenerate
          Text                #@HVP1053
          ButtonDisplay       #Text & Image below
          NormalImage         #10681
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #//B.Idesman imp0519 dlvNote extension
            #void clicked()
            #{
            #    Args                args = new Args();
            #    args.record(salestable);
            #    args.caller(this);
            #    if(SysCountryRegionCode::countryInfo() == #isoPL)
            #    {
            #        new MenuFunction(menuitemOutputStr(IS_WMSPickingList_OrderPick_PL), MenuItemType::Output).run(args);
            #    }
            #    else
            #    {
            #        new MenuFunction(menuitemOutputStr(IS_WMSPickingList_OrderPick), MenuItemType::Output).run(args);
            #    }
            #
            #    super();
            #
            #}
            #//-->
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MCRLineEvents
          HelpText            #@MCR10928
          ElementPosition     #2059759637
          HierarchyParent     #LineStripSalesLine
          Text                #@MCR10929
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args;
            #    FormRun formRun;
            #
            #    //Call user override form
            #    args = new Args(menuitemDisplayStr(MCROrderEventTable));
            #    args.parm(salesLine.InventTransId);
            #    args.record(salesLine);
            #    formRun = ClassFactory::formRunClassOnClient(args);
            #    formRun.init();
            #    formRun.run();
            #    formRun.wait();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MCROrderHolds
          AutoDeclaration     #Yes
          HelpText            #@MCR10900
          ConfigurationKey    #LogisticsBasic
          ElementPosition     #1717986916
          HierarchyParent     #MCRSalesOrderFunctions
          Text                #@MCR10491
          ButtonDisplay       #Text & Image right
          NormalImage         #11153
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (!SalesTableForm::mcrEnableOrderHoldsButton(salesTable))
            #    {
            #        throw error("@SYS4160087");
            #    }
            #
            #    SalesTableForm::mcrPromptHoldOrder(salesTable);
            #    salesTable_ds.reread();
            #    salesTable_ds.refresh();
            #    salesTable_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MultiLnDisc
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68933
          ConfigurationKey    #PriceDisc
          ElementPosition     #1193046468
          HierarchyParent     #SellCalculate
          Text                #@SYS11440
          ButtonDisplay       #Text & Image left
          NormalImage         #10647
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #    element.multiLineDiscount();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PBAExecute
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS40755
          ElementPosition     #613566756
          HierarchyParent     #LineStripProduct
          Text                #@SYS40223
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.pbaConfigureLine();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintMgmt
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS68918
          ConfigurationKey    #LogisticsBasic
          SecurityKey         #CustMisc
          ElementPosition     #1073741822
          HierarchyParent     #GeneralSetup
          Text                #@SYS54502
          ButtonDisplay       #Text & Image above
          NormalImage         #10698
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    PrintMgmtSetupContext setupContext = new PrintMgmtSetupContext();
            #    List inventDocs = new List(Types::Enum);
            #    List salesDocs  = new List(Types::Enum);
            #
            #    if (salesTable_ds.cursor() == null)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderConfirmation);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderPackingSlip);
            #
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice4Paym_RU);
            #    }
            #    // </GEERU>
            #
            #    inventDocs.addEnd(PrintMgmtDocumentType::InventPickList);
            #
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Sales, PrintMgmtNodeType::SalesTable,salesDocs);
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Invent, PrintMgmtNodeType::SalesTable,inventDocs);
            #
            #    setupContext.parmCaller(element);
            #    setupContext.parmReferencedTableBuffer(salesTable_ds.cursor());
            #    setupContext.parmCountryRegionId(salesTable.getCountryRegionIdByDocumentStatus());
            #
            #    PrintMgmt::launchSetup(setupContext);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #RemoveLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305731
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #2004318064
          HierarchyParent     #LineStripUpdate
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.removeAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #TieredCharges
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS4050023
          ConfigurationKey    #Markup
          ElementPosition     #1829337920
          HierarchyParent     #SellCalculate
          Text                #@SYS4050022
          ButtonDisplay       #Text & Image left
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.calculateTieredCharges();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #uNBlockOrder
          ElementPosition     #1610612733
          HierarchyParent     #ButtonGroup
          Text                #@HVP1138
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    SalesTable                  salesTableLocal;
            #
            #    OpenSalesOrderLog_HV        openSalesOrderLog;
            #    ;
            #
            #    super();
            #
            #    ttsbegin;
            #
            #    select forupdate salesTableLocal
            #        where salesTableLocal.SalesId == salesTable.SalesId;
            #
            #    salesTableLocal.Blocked_HV = NoYes::No;
            #    salesTableLocal.doUpdate();
            #
            #    openSalesOrderLog.clear();
            #
            #    openSalesOrderLog.SalesId = salesTableLocal.SalesId;
            #    openSalesOrderLog.LogRecId = salesTableLocal.RecId;
            #
            #    openSalesOrderLog.insert();
            #
            #    ttscommit;
            #
            #    salesTable_ds.reRead();
            #    salesTable_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierExpeditedShipment
          ElementPosition     #1073741820
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierExpeditedShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierFuelSurcharge
          ElementPosition     #1342177275
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierFuelSurcharge
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierResidential
          ElementPosition     #1610612730
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierResidential
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Delivery_ShipBlind
          ElementPosition     #1879048188
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShipCarrierBlindShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframa_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #SuframaRegion_BR
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframaPISCOFINS_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #SuframaRegion_BR
          Label               #@GLS1335
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframaPISCOFINS_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EInvoice_EInvoiceLineSpec
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceLineSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_EntryCertificateRequired_W
          ElementPosition     #1073741822
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #EntryCertificateRequired_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_IssueOwnEntryCertificate_W
          ElementPosition     #1610612733
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #IssueOwnEntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_Consignment_IN
          ElementPosition     #1225584100
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #Consignment_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_DSA_IN
          ElementPosition     #1686533872
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DSA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EximSalesLine_IN_ApplyDEPB
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #429496728
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #ApplyDEPB
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #FiscalInformation_BR1_ServiceCodeOnDlvAddress_BR
          ElementPosition     #1789569705
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #ServiceCodeOnDlvAddress_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ForeignTrade_StatTriangularDeal
          ElementPosition     #630823320
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatTriangularDeal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #inclTax
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #InclTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAllowIndirectCreation
          ElementPosition     #715827882
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAllowIndirectCreation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAutoCreateOrders
          ElementPosition     #1073741823
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAutoCreateOrders
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyDirectDelivery
          ElementPosition     #1431655764
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyDirectDelivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsBatchAttribAutoRes
          ElementPosition     #1700091219
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsBatchAttribAutoRes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsSameLot
          ElementPosition     #1789569704
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRDelivery_ShipComplete
          ElementPosition     #805306365
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #MCRSalesTableShipping
          DataField           #ShipComplete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLine_InstallmentEligible
          ElementPosition     #1073741822
          HierarchyParent     #MCRProductAttributes
          DataSource          #MCRSalesLine
          DataField           #InstallmentEligible
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipment
          ElementPosition     #858993458
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_PriceOverride
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #2015011354
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #MCRSalesLinePriceOverride
          DataField           #PriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTable_FTCExempt
          AutoDeclaration     #Yes
          ElementPosition     #1352119332
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTable
          DataField           #FTCExempt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTable_PriceOverride
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1879048189
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #MCRSalesTable
          DataField           #PriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTableShipping_ShipComplete
          ElementPosition     #477218588
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTableShipping
          DataField           #ShipComplete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #OneTimeCustomer
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #OneTimeCustomer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_InvoiceRegister_LT
          ElementPosition     #1002159034
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #InvoiceRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_PackingSlipRegister_LT
          ElementPosition     #1145324610
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PackingSlipRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Return_Scrap
          ElementPosition     #858993458
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #Scrap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLine_PdsSameLot
          ElementPosition     #2141192190
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Blocked
          ElementPosition     #715827882
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Blocked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Complete
          ElementPosition     #1073741823
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Complete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_AgreementIsLinked
          ElementPosition     #1840700268
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataMethod          #AgreementIsLinked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_Consignment_HV
          ElementPosition     #920350134
          HierarchyParent     #OtherInfo
          DataSource          #SalesTable
          DataField           #Consignment_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustFinalUser_BR
          ElementPosition     #1431655764
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CustFinalUser_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustomsExportOrder_IN
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612734
          HierarchyParent     #Group
          DataSource          #SalesTable
          DataField           #CustomsExportOrder_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_InterCompanyOrder
          AllowEdit           #No
          ElementPosition     #818089008
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #InterCompanyOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_InvoiceRegister_LT
          ElementPosition     #2113202422
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #InvoiceRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCRContinuityOrder
          ElementPosition     #1932735281
          HierarchyParent     #Baseinfo
          DataSource          #MCRSalesTable
          DataField           #ContinuityOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCRContinuityOrderGrid
          ElementPosition     #843654289
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #MCRSalesTable
          DataField           #ContinuityOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCROrderStopped
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #MCROrderStopped
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCROrderStoppedGrid
          ElementPosition     #2044989502
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #MCROrderStopped
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_PackingSlipRegister_LT
          ElementPosition     #2130343034
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #PackingSlipRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_PdsBatchAttribAutoRes
          ElementPosition     #1207959549
          HierarchyParent     #Reservation
          DataSource          #SalesTable
          DataField           #PdsBatchAttribAutoRes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_RetailOrder
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1073741822
          HierarchyParent     #Baseinfo
          Label               #@RET4540
          DataSource          #SalesTable
          DataMethod          #isRetailOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_ExchRateHTED_HV
          ElementPosition     #1778384893
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #ExchRateHTED_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_ExchRateTED_HV
          ElementPosition     #1774656623
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #ExchRateTED_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_M_editExportSales_PL
          ElementPosition     #1767200083
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataMethod          #editExportSales_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_UnitedVATInvoice_LT
          HelpText            #@GLS220217
          ElementPosition     #1700091219
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #UnitedVATInvoice_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CopyOfSalesTable_ReleaseStatus
          ElementPosition     #1431655764
          HierarchyParent     #WHSStatus
          DataSource          #SalesTable
          DataField           #ReleaseStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Delivery_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #SalesTableTimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesTable
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_DirectSettlement_IN
          ElementPosition     #764634328
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DirectSettlement_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_ExciseType_IN
          ElementPosition     #86767016
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #ExciseType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseManufacture_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #260301048
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseManufacture_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseNone_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #216917540
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseNone_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseTraders_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #303684556
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseTraders_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKCenvatStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993456
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKCenvatStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKRateType
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1073741820
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GiroMoneyTransferSlip_GiroType
          ElementPosition     #1431655764
          HierarchyParent     #GiroMoneyTransferSlip
          Label               #@SYS342021
          DataSource          #SalesTable
          DataField           #GiroType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_PeriodType
          ElementPosition     #1610612733
          HierarchyParent     #GroupCustomerReturnPeriod
          ShowLabel           #No
          DataSource          #SalesLineReturnDetails_IN
          DataField           #PeriodType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #HeaderForeignTrade_Listcode
          ElementPosition     #447392426
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Listcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ItemReference_InventRefType
          ElementPosition     #1431655764
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LineInventory_Reservation
          ElementPosition     #805306365
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #MCRSalesLine_LineType
          AutoDeclaration     #Yes
          ElementPosition     #2025704644
          HierarchyParent     #SalesLineGrid
          DataSource          #MCRSalesLine
          DataField           #LineType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipStatus
          ElementPosition     #1288490187
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #NoteFormat_TH_NoteFormat_TH
          ElementPosition     #1431655764
          HierarchyParent     #NoteFormat_TH
          DataSource          #SalesTableExtensionTH
          DataField           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Payment_BankDocumentType
          ElementPosition     #1952257860
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #BankDocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_InvoicePostingType_RU
          ElementPosition     #1503238551
          HierarchyParent     #Posting
          DataSource          #SalesTable_RU
          DataField           #InvoicePostingType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_SettleVoucher
          ElementPosition     #1288490187
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #SettleVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Reservation_SOAllocPriority
          ElementPosition     #1677721597
          HierarchyParent     #Reservation
          DataSource          #MCRSalesTable
          DataField           #SOAllocPriority
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_DeliveryDateControl
          HelpText            #@SYS88210
          ElementPosition     #1840700268
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_OfferingType_HV
          ElementPosition     #1131008049
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #OfferingType_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_QualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1896943882
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_SalesStatus
          ElementPosition     #2043170353
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #TimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesLine
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DeliveryType
          ElementPosition     #1789569705
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_BasisType
          ElementPosition     #1288490187
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #BasisType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    element.setBasisDate_IN();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_Type
          ElementPosition     #858993458
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Type
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    // <GIN>
            #    element.updateReturnableDetails_IN();
            #    // </GIN>
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_qualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_SalesStatus
          ElementPosition     #1431655764
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesStatus
          Left                #Right edge
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #HeaderInfo
          ShowLabel           #No
          DataSource          #SalesTable
          DataField           #SalesStatus
          ViewEditMode        #View
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_DeliveryDateControl
          ElementPosition     #1610612730
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1942844885
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_ReleaseStatus
          ElementPosition     #1431655764
          HierarchyParent     #LineViewWHSHeader
          DataSource          #SalesTable
          DataField           #ReleaseStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_Reservation
          ElementPosition     #805306366
          HierarchyParent     #Reservation
          DataSource          #SalesTable
          DataField           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesStatusGrid
          ElementPosition     #958698056
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesType
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesTypeGrid
          AutoDeclaration     #Yes
          ElementPosition     #728610522
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_StatusImportExport_HV
          ElementPosition     #2111692251
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #StatusImportExport_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_StatusImportExport_HV1
          ElementPosition     #2028178998
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #StatusImportExport_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_DocumentStatus
          ElementPosition     #1431655764
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #DocumentStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_SalesStatus
          ElementPosition     #715827882
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Transport_FreightSlipType
          ElementPosition     #1073741822
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightSlipType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Attachments
          ElementPosition     #1431655764
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS316708
          ButtonDisplay       #Text & Image above
          NormalImage         #10442
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2853
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteSalesOrder
          ElementPosition     #1342177275
          HierarchyParent     #SalesOrderModify
          Text                #@SYS14425
          ButtonDisplay       #Text & Image above
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EditSalesOrder
          AutoDeclaration     #Yes
          NeededPermission    #Update
          ElementPosition     #536870910
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #4471
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #HeaderViewButton
          ElementPosition     #1073741822
          HierarchyParent     #ShowGroup
          NormalImage         #12133
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1320
          ToggleButton        #Radio
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineAttachmentsLineStripAction
          ElementPosition     #1768515938
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
          ShowShortCut        #No
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripDelete
          AutoDeclaration     #Yes
          HelpText            #@SYS328874
          ElementPosition     #1491308085
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripLineDetails
          Visible             #No
          HelpText            #@SYS315251
          ElementPosition     #1789569705
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS8811
          ButtonDisplay       #Text & Image left
          NormalImage         #10010
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #No
          Primary             #Yes
          Command             #1318
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripNew
          ElementPosition     #596523234
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineViewButton
          ElementPosition     #1610612733
          HierarchyParent     #ShowGroup
          NormalImage         #12134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1321
          ToggleButton        #Radio
          ToggleValue         #On
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewSalesOrder
          HelpText            #@SYS27579
          ElementPosition     #536870910
          HierarchyParent     #SalesOrderNew
          Text                #@SYS114628
          ButtonDisplay       #Text & Image above
          NormalImage         #10874
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Refresh
          HelpText            #@SYS315818
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #11437
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          KeyTip              #@SYS315818
          Command             #2875
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SendToExcel
          DisplayTarget       #Client
          ElementPosition     #1610612734
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #10156
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          KeyTip              #@SYS315819
          NeedsRecord         #Yes
          Command             #4436
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #AWBDate
          ElementPosition     #671088637
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #AWBDate_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmed
          ElementPosition     #1207959547
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmedHeader
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequested
          ElementPosition     #536870910
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequestedHeader
          ElementPosition     #715827882
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmedHeader
          ElementPosition     #1073741822
          HierarchyParent     #SimulateDeliveryDatesGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequested
          ElementPosition     #357913940
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequestedHeader
          ElementPosition     #477218588
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LoadSchedShipDate
          ElementPosition     #1136903103
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadSchedShipDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ReceiptDateConfirmedHeader
          ElementPosition     #1789569705
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ReceiptDateRequestedHeader
          ElementPosition     #1073741823
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ShippingDateConfirmedHeader
          ElementPosition     #1073741822
          HierarchyParent     #MCRSimulateDeliveryDatesGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ShippingDateRequestedHeader
          ElementPosition     #715827882
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_CashDiscBaseDate
          ElementPosition     #1659419181
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscBaseDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_FixedDueDate
          ElementPosition     #585677358
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #FixedDueDate
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #enter
            #public void enter()
            #{
            #    super();
            #
            #    priorDueDate = this.dateValue();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_EstimatedShipmentDate_HV
          ElementPosition     #2058005160
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #EstimatedShipmentDate_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_IntrastatFulfillmentDate_HU
          ElementPosition     #2136298835
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_PriceAgreementDate_RU
          ElementPosition     #715827880
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceAgreementDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateConfirmed
          Width               #Column width
          ElementPosition     #1610612733
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateRequested
          Width               #Column width
          ElementPosition     #1150437667
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          DataSource          #SalesLine
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateRequested
          Width               #Column width
          ElementPosition     #920350134
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_BillOfLadingDate_HV
          ElementPosition     #603979773
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #BillOfLadingDate_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_IntrastatFulfillmentDate_HU
          ElementPosition     #2080374781
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_PurchOrderFormDate
          ElementPosition     #1717986916
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_PurchOrderFormDate1
          ElementPosition     #766958445
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #PurchOrderFormDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ReceiptDateConfirmed
          ElementPosition     #1227133512
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ShipmentDate_HV
          ElementPosition     #738197501
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShipmentDate_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ShippingDateConfirmed
          ElementPosition     #1380525201
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #status_Deadline
          ElementPosition     #1073741823
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #Deadline
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #CancelOrderButton
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #SalesOrderModify
          MenuItemName        #SalesCancelOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_Period
          ElementPosition     #1073741822
          HierarchyParent     #GroupCustomerReturnPeriod
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Period
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesLine_CustomerLineNum
          ElementPosition     #1610612733
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #CustomerLineNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesTable_ExportVersion_HV
          ElementPosition     #2087831321
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #ExportVersion_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AutoRate
          ElementPosition     #1252698790
          HierarchyParent     #ButtonGroupRating
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #TMSAutoRouteAssignment
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    salesTable_ds.reread();
            #    tmsSalesTable_ds.reread();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankLGRequestForm
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ManageBankDocument
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLGRequestForm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMConsistOfTree
          AutoDeclaration     #Yes
          ElementPosition     #1942961394
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #BOMConsistOfTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMPriceCalc
          AutoDeclaration     #Yes
          Enabled             #No
          HelpText            #@SYS317850
          ElementPosition     #381774869
          HierarchyParent     #LineStripUpdate
          Text                #@SYS317848
          DataSource          #SalesLine
          MenuItemName        #BOMCalcTableSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #btnLoadTable
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #WHSLineStripMenuButton
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #WHSLoadTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #btnShipmentDetails
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #WHSLineStripMenuButton
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #WHSShipmentDetails
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCalculateConfirmDates
          AutoDeclaration     #Yes
          ElementPosition     #795364312
          HierarchyParent     #SellCalculate
          Text                #@SYS342129
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesUpdateConfirmDatesCommand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonCreateBankLCExport
          AutoDeclaration     #Yes
          HelpText            #@SYS316146
          ConfigurationKey    #BankDocument
          ElementPosition     #1073741822
          HierarchyParent     #ManageBankDocument
          Text                #@SYS317555
          ButtonDisplay       #Text & Image above
          NormalImage         #12518
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLCExport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreateDropShipment
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #SalesOrderNew
          Text                #@SYS78211
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCreateDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreatePurchOrder
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #SalesOrderNew
          Text                #@SYS25545
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #PurchCreateFromSalesorderSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceIntroduce
          Text                #@SYS99718
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingLines
          AutoDeclaration     #Yes
          ElementPosition     #1594552486
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDeliverySchedule
          AutoDeclaration     #Yes
          ElementPosition     #378967701
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #SalesDeliverySchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args = new Args();
            #    FormRun deliverySchedule;
            #
            #    args.name(formStr(SalesDeliverySchedule));
            #    args.caller(this);
            #    args.record(salesLine);
            #    deliverySchedule = classfactory.formRunClass(args);
            #
            #    deliverySchedule.run();
            #    deliverySchedule.wait();
            #
            #    if (deliverySchedule.closedOk())
            #    {
            #        mcrProcessingDeliverySchedule = true;
            #        salesLine_ds.reread();
            #        salesLine_ds.rereadReferenceDataSources();
            #        salesLine_ds.research(true);
            #        salesTable_ds.research(true);
            #        salesTableForm.setTouched(salesTable);
            #        mcrProcessingDeliverySchedule = false;
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonHeaderFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63739
          ElementPosition     #1789569705
          HierarchyParent     #SalesOrderAttachments
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonInventSupply
          AutoDeclaration     #Yes
          ElementPosition     #1063515708
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #inventSupply
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #SellJournals
          Text                #@SYS108894
          ButtonDisplay       #Text & Image left
          NormalImage         #10511
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustConfirmJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceJournals
          ButtonDisplay       #Text & Image above
          NormalImage         #10733
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #facturejournalcust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceJournals
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1288490187
          HierarchyParent     #SellJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10498
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #CustInvoice4PaymJournal_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10667
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPackingSlipJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPickingList
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10682
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #WMSPickingRoutesJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalQuotationConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #SellJournals
          Text                #@SYS98918
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #custQuotationJournalConfirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExpandBOM
          AutoDeclaration     #Yes
          ElementPosition     #1263225670
          HierarchyParent     #LineStripSalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineExplodeBOM
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExplosion
          AutoDeclaration     #Yes
          ElementPosition     #1738439142
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransExplosion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63740
          ElementPosition     #1782551778
          HierarchyParent     #LineStripSalesLine
          ButtonDisplay       #Text & Image left
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventLot
          AutoDeclaration     #Yes
          ElementPosition     #887389936
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventMarking
          AutoDeclaration     #Yes
          ElementPosition     #702812828
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventMarking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventOnHand
          AutoDeclaration     #Yes
          ElementPosition     #834146540
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS317846
          DataSource          #SalesLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventReservation
          AutoDeclaration     #Yes
          ElementPosition     #468541886
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTrans
          AutoDeclaration     #Yes
          ElementPosition     #993876728
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTransGoodsInRoute_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1047120124
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTransGoodsInRoute_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineQuantity
          ElementPosition     #954437176
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalestableLineQuantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonLineQuickQuote
          AutoDeclaration     #Yes
          Left                #Auto (right)
          ElementPosition     #894784851
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS54992
          ButtonDisplay       #Text & Image left
          NormalImage         #12489
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #SalesQuickQuote
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransHeading
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellCharges
          ButtonDisplay       #Text & Image above
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          DisabledImageLocation #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #MarkupTrans_HeadingSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransLine
          AutoDeclaration     #Yes
          ElementPosition     #881018928
          HierarchyParent     #LineStripFinancials
          Text                #@SYS313570
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #MarkupTrans_LineSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPaymentSchedule
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10673
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPaymSchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    CustVendPaymSched   custVendPaymSched;
            #
            #    element.automaticTotalDiscount();
            #
            #    if (salesTable.PaymentSched && !CustPaymSched::exist(salesTable.TableId,salesTable.RecId))
            #    {
            #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,salesTable);
            #        custVendPaymSched.copyPaymSched(PaymSched::find(salesTable.PaymentSched));
            #        salesTable.createPaymentSched();
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPostings
          ElementPosition     #715827882
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #SalesTablepostings
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProcessEventKanbans
          ElementPosition     #1431655764
          HierarchyParent     #ProcessGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanbanSalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #Generate
          Text                #@SYS114652
          ButtonDisplay       #Text & Image above
          NormalImage         #10702
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Confirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaFacture_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #SR
          ElementPosition     #1670265058
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #InvoiceGenerate
          Text                #@SYS114668
          ButtonDisplay       #Text & Image above
          NormalImage         #10703
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1789569705
          HierarchyParent     #Generate
          Text                #@GLS116067
          ButtonDisplay       #Text & Image left
          NormalImage         #12380
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1879048188
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS12874
          ButtonDisplay       #Text & Image above
          NormalImage         #10704
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchTable
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #InterCompanyPurchSalesReference
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    interCompanyPurchSalesReference_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonPurchTableThisCompany
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1431655764
          HierarchyParent     #IntercompanyTracing
          ButtonDisplay       #Text & Image above
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    TradeInterCompany::construct(salesTable).referenceForm();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonReferences
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTableReferences
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonRetailRecalculator
          AutoDeclaration     #Yes
          ElementPosition     #1988410783
          HierarchyParent     #SellCalculate
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_recalculate
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    salesLine_ds.reread();
            #    salesLine_ds.refresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonSalesAgreement
          AutoDeclaration     #Yes
          ElementPosition     #1670265058
          HierarchyParent     #GeneralRelatedInfo
          Text                #@SYS305726
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #SalesAgreement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSalesDropShipmentCancel
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #LineStripUpdate
          Text                #@SYS78211
          MenuItemType        #Action
          MenuItemName        #SalesDropShipmentCancel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonTotals
          ElementPosition     #858993458
          HierarchyParent     #SalesOrderView
          ButtonDisplay       #Text & Image above
          NormalImage         #10832
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTotals
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image above
          NormalImage         #10510
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Confirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateDeliverySlip_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612732
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_DeliverySlip_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateFacture_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #SR
          ElementPosition     #715827882
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1431655764
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image left
          NormalImage         #12519
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #IS_SalesFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1342177276
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingList
          AutoDeclaration     #Yes
          ElementPosition     #671088636
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10681
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PickingList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingListRegistrate
          AutoDeclaration     #Yes
          ElementPosition     #872415227
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10683
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #wmsPickingregistration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonWithholdTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #255652815
          HierarchyParent     #LineStripProduct
          Text                #@SYS33817
          DataSource          #SalesLine
          MenuItemName        #TaxWithholdTmpWorkTrans_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GIN>
            #void  clicked()
            #{
            #    if (TaxWithholdParameters_IN::checkTaxParameters())
            #    {
            #        SalesTotals::showWithholdTaxLine_IN(salesTable, salesLine, element);
            #    }
            #}
            #// </GIN>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CaseButton
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS317474
          ButtonDisplay       #Text & Image left
          NormalImage         #12198
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetail
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ChangeStatusImportExport_HV
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #StatusImportExport_HV
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          MenuItemType        #Action
          MenuItemName        #ChangeStatusImportExport_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CheckCreditLimit
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image above
          NormalImage         #10492
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCheckCreditLimit
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Complete
          AutoDeclaration     #Yes
          Visible             #No
          Width               #120
          ElementPosition     #1610612730
          HierarchyParent     #SalesOrderModify
          ButtonDisplay       #Text & Image above
          NormalImage         #11030
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_Complete
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    //Do not call super as logic is needed before and after call.
            #    //Also need SalesTable form to lock while order summary is open.
            #    //super();
            #    element.mcrLaunchOrderSummary();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ContactPerson
          AutoDeclaration     #Yes
          ElementPosition     #1252698793
          HierarchyParent     #GeneralCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #11118
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #contactPerson
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyLine
          AutoDeclaration     #Yes
          ElementPosition     #884257967
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS35635
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemName        #SalesLineCopy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfDirPartyPostalAddressNewHeader
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          Text                #@SYS111834
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfLogisticsLocationSelectHeader
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfSalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SimulateDeliveryDatesGroup
          ButtonDisplay       #Image only
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Cov
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10474
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #LedgerCoverage
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Create
          ElementPosition     #920350134
          HierarchyParent     #CreateActivity
          Text                #@SYS114625
          NormalImage         #10430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitiesactionNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateCase
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS191445
          ButtonDisplay       #Text & Image left
          NormalImage         #12420
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetailNewSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateEventKanbans
          HelpText            #@SYS324015
          ElementPosition     #434609785
          HierarchyParent     #LineStripProduct
          MultiSelect         #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanban
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateExportOrder_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1879048185
          HierarchyParent     #SalesOrderNew
          Text                #@GLS60788
          DataSource          #SalesTable
          MenuItemName        #CustomsExportOrderTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateTask
          ElementPosition     #1840700268
          HierarchyParent     #CreateActivity
          Text                #@SYS114680
          NormalImage         #10431
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesTaskNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardAuthTrans
          ElementPosition     #1717986916
          HierarchyParent     #CreditCard
          Text                #@SYS317472
          DataSource          #SalesTable
          MenuItemName        #CreditCardAuthTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardPreauthorize
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #CreditCard
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #CreditCardPreauthorize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardWizard
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #CreditCard
          Text                #@SYS32121
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CreditCardCust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustAdvanceInvoiceCreate_CZ
          HelpText            #@GLS220282
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS107927
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CzCustAdvanceInvoiceCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustDocumentLog
          AutoDeclaration     #Yes
          ElementPosition     #1930566106
          HierarchyParent     #ButtonLineInventory
          MenuItemName        #PdsMRCCustomerHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsExportAssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #770891562
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #CustomsExportAssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1755693076
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DocuActionTemplateUndefined
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #mbTemplatesButton
          NeedsRecord         #Yes
          MenuItemName        #DocuActionTemplateUndefined
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditDetailsButton
          AutoDeclaration     #Yes
          Visible             #No
          DisplayTarget       #Client
          ElementPosition     #1073741820
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          OpenMode            #Edit
          CopyCallerQuery     #Yes
          MenuItemName        #SalesTableForEdit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExciseRegisterBalance_In
          ElementPosition     #472957707
          HierarchyParent     #LineStripProduct
          Text                #@GLS5618
          DataSource          #SalesLine
          MenuItemName        #exciseregisterBalance_In
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximAA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61753
          ElementPosition     #562436193
          HierarchyParent     #LineStripProduct
          Text                #@GLS61755
          MenuItemName        #EximExportDetailsAA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximDFIA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61754
          ElementPosition     #681740840
          HierarchyParent     #LineStripProduct
          Text                #@GLS61756
          MenuItemName        #EximExportDetailsDFIA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximEPCG_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS62186
          ElementPosition     #879445683
          HierarchyParent     #LineStripProduct
          Text                #@GLS62209
          MenuItemName        #EximEPCGExportObligation_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExportSalesContract_HV
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #StatusImportExport_HV
          MenuItemType        #Action
          MenuItemName        #ExportSalesContract_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExportSalesOrderToXML
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #XmlExport
          Text                #Export Sales Order to XML
          ButtonDisplay       #Text & Image above
          NormalImage         #3061
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #IS_ExportToXML
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_Proforma_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #SR
          HelpText            #@GLS104543
          ElementPosition     #1908874352
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_Proforma_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #SR
          HelpText            #@GLS104543
          ElementPosition     #954437176
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS104802
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #11032
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderPackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #GeneralRelatedInfo
          DataSource          #SalesTable
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ImportSalesContract_HV
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #StatusImportExport_HV
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #ImportSalesContract_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IncentiveSchemeGroup_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61731
          ElementPosition     #1002159033
          HierarchyParent     #LineStripProduct
          Text                #@GLS61496
          MenuItemName        #EximIncentiveSchemeGroupsForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixed
          AutoDeclaration     #Yes
          ElementPosition     #1968526670
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimTracking
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5951
          DataSource          #SalesLine
          MenuItemName        #InventDimTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11134
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandInterCompany
          AutoDeclaration     #Yes
          ElementPosition     #1464193395
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS23939
          DataSource          #SalesLine
          MenuItemName        #InventOnhandInterCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11135
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1329394638
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTestCertOfAnalysisTable
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventTestCertOfAnalysisTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPick
          AutoDeclaration     #Yes
          ElementPosition     #1145324608
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransRegister
          AutoDeclaration     #Yes
          ElementPosition     #1002159032
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #TradeOrderLineRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IS_buttonPrintPickingList
          Visible             #No
          DisplayTarget       #Client
          ElementPosition     #469762045
          HierarchyParent     #PickAndPackGenerate
          Text                #@HVP1053
          ButtonDisplay       #Text & Image below
          NormalImage         #10681
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          MenuItemType        #Output
          MenuItemName        #IS_WMSPickingList_OrderPick
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IS_CopyFromPOLine
          ElementPosition     #1431655764
          HierarchyParent     #IS_CopyFromPO
          Text                #Copy From PO Line
          ButtonDisplay       #Text & Image above
          NormalImage         #3061
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #SalesFromPurchaseOrder_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IS_CopySalesPricisely
          ElementPosition     #1717986916
          HierarchyParent     #SalesOrderCopy
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #IS_CopySalesPricisely
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1982292592
          HierarchyParent     #LineStripFinancials
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponents
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #1313337104
          HierarchyParent     #ButtonLineInventory
          Text                #@REX1120
          DataSource          #SalesLine
          MenuItemName        #retailkitvariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LinePackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1483277961
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #linePriceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #495573147
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #1156337343
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    SalesTotals::showTaxLine(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable,salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineViewPeggingTree
          HelpText            #@SYS324019
          ElementPosition     #2045222520
          HierarchyParent     #LineStripProduct
          Text                #@SYS320711
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #LeanPeggingTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1363902507
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #
            #    //HUVEPHARMA_AX_IMPL IMP0321 27.12.2014 V.Karaivanov ->>
            #    SalesTable.modifiedFieldValue("DeliveryPostalAddress");
            #    // <--
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          DataSource          #SalesLine
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRBrokerCommission
          ElementPosition     #2048063103
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #MCRBrokerCommission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCatalog
          AutoDeclaration     #Yes
          ElementPosition     #1550960410
          HierarchyParent     #GeneralCustomer
          ButtonDisplay       #Text & Image right
          NormalImage         #10911
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCatalogRequest
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRCatalogRequest),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRContinuitySchedule
          AutoDeclaration     #Yes
          ElementPosition     #1260093708
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_continuity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCouponSalesTable
          AutoDeclaration     #Yes
          HelpText            #@MCR25553
          ElementPosition     #1431655764
          HierarchyParent     #MCRCoupon
          ButtonDisplay       #Text & Image below
          NormalImage         #10842
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #MCRCouponSalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCreateCustHeaderCredit
          AutoDeclaration     #Yes
          HelpText            #@MCR26384
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #858993458
          HierarchyParent     #MCRSalesOrderFunctions
          Text                #@MCR25766
          ButtonDisplay       #Text & Image right
          NormalImage         #10016
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCreateCustCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCustomerService
          AutoDeclaration     #Yes
          HelpText            #@MCR10077
          ElementPosition     #1849222027
          HierarchyParent     #GeneralCustomer
          Text                #@MCR10553
          ButtonDisplay       #Text & Image right
          NormalImage         #11148
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCustomerService
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    // Pass this so that the customer service form will show the cust record.
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRCustomerService),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #    //Removed call to super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCustPaymTableButton
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #MCRPayments
          Text                #@SYS58091
          ButtonDisplay       #Text & Image right
          NormalImage         #12405
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #MCRCustPaymTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRDirPartyPostalAddressNewHeader1
          Visible             #No
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          Text                #@SYS111834
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRItemDisplay
          AutoDeclaration     #Yes
          ElementPosition     #1206850312
          HierarchyParent     #ButtonLineInventory
          Text                #@MCR20541
          SaveRecord          #No
          MenuItemName        #MCRItemDisplay
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args;
            #    FormRun formRun;
            #
            #    //Removed call to super();
            #    args = new Args();
            #    args.record(salesLine);
            #    args.caller(element);
            #
            #    formRun = new MenuFunction(menuitemDisplayStr(MCRItemDisplay), MenuItemType::Display).create(args);
            #
            #    formRun.run();
            #    formRun.wait();
            #
            #    // If the line hasn't been saved, there is no way more lines could have
            #    // been added, so there is no need to re-execute the query.
            #    if (salesLine.RecId)
            #    {
            #        salesLine_ds.executeQuery();
            #        salesLine_ds.last();
            #    }
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRItemListCopying
          ElementPosition     #1052688055
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesTable
          MenuItemName        #MCRItemListCopying
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRLineNotesLine
          AutoDeclaration     #Yes
          ElementPosition     #1796587618
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS40182
          NormalImage         #10841
          ImageLocation       #EmbeddedResource
          DataSource          #SalesLine
          MenuItemName        #MCROrderNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRLogisticsLocationSelectHeader1
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCROrderEvent
          AutoDeclaration     #Yes
          HelpText            #@MCR24521
          ElementPosition     #1288490187
          HierarchyParent     #SalesOrderView
          ButtonDisplay       #Text & Image right
          NormalImage         #10067
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #MCROrderEventTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCROrderNotes
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS40182
          ButtonDisplay       #Text & Image left
          NormalImage         #3061
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCROrderNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRPriceHistory
          AutoDeclaration     #Yes
          ElementPosition     #2053911370
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #MCRPriceHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRPriceMatch
          AutoDeclaration     #Yes
          HelpText            #@MCR26385
          ElementPosition     #477218586
          HierarchyParent     #LineStripUpdate
          Text                #@MCR25762
          MenuItemName        #MCRCreateCustCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRRecap
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1288490187
          HierarchyParent     #MCRSalesOrderFunctions
          ButtonDisplay       #Text & Image right
          NormalImage         #10010
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #mcrsalestablecontroller_recap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesAvailableDlvDatesHeader1
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #MCRSimulateDeliveryDatesGroup
          ButtonDisplay       #Image only
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesAvailableDlvDatesList
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #LineDelivery
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine_ds.updateExplosionCTP();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesStatsCust
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #ManageCustomer
          Text                #@SYS28043
          ButtonDisplay       #Text & Image left
          NormalImage         #818
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRSalesStatsCust
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRSalesStatsCust),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesTableDetailedStatus
          ElementPosition     #1717986916
          HierarchyParent     #SalesOrderView
          MenuItemName        #MCRSalesTableDetailedStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRUpdateGiftCard
          AutoDeclaration     #Yes
          ConfigurationKey    #RetailGiftCard
          ElementPosition     #763549738
          HierarchyParent     #LineStripUpdate
          DataSource          #MCRSalesLine
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_updateGiftCard
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    mcrSalesLine_ds.refresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemButton
          DisplayTarget       #Client
          ElementPosition     #1431655764
          HierarchyParent     #SalesOrderQuery
          ButtonDisplay       #Image only
          NormalImage         #12672
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          OpenMode            #New
          CopyCallerQuery     #Yes
          MenuItemName        #SalesOrderQuery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemSalesPrepayment
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #RetailPrepaymentBalance
          DataSource          #SalesTable
          MenuItemName        #RetailSalesPrepaymentBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibNotificationLog
          ElementPosition     #1610612733
          HierarchyParent     #EventNotification
          Text                #@RET4160305
          NormalImage         #12569
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MenuItemName        #RetailEventNotificationLog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibRetailAttribute
          HelpText            #@RET4170029
          ElementPosition     #1431655764
          HierarchyParent     #btngrpAttribute
          Text                #@HVP1716
          NormalImage         #12857
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #RetailSalesTableAttributes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibSalesTransactions
          HelpText            #@RET4160318
          ElementPosition     #1431655764
          HierarchyParent     #btngrpInquiries
          Text                #@RET3214
          NormalImage         #10834
          ImageLocation       #EmbeddedResource
          MultiSelect         #No
          DataSource          #SalesTable
          MenuItemName        #RetailTransactionTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Modify
          AutoDeclaration     #Yes
          Visible             #No
          Width               #125
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderModify
          ButtonDisplay       #Text & Image above
          NormalImage         #11030
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_modify
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    //super();
            #    element.mcrModify();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenMSDSDocument
          AutoDeclaration     #Yes
          ElementPosition     #2006487245
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PdsMRCDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenTrans
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceSettle
          Text                #@SYS3500
          ButtonDisplay       #Text & Image above
          NormalImage         #10793
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustOpenTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PackingMaterials
          ElementPosition     #2114946015
          HierarchyParent     #ButtonLineInventory
          Text                #@HVP405
          DataSource          #SalesLine
          MenuItemName        #PackingTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PBAConfiguratedItem
          AutoDeclaration     #Yes
          ElementPosition     #749914924
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Output
          MenuItemName        #PBAConfiguratedItem
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsBatchAttribReserve
          AutoDeclaration     #Yes
          ElementPosition     #546632200
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsBatchAttribReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable
          ElementPosition     #1705827011
          HierarchyParent     #LineStripFinancials
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable1
          ElementPosition     #1879048190
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventExternalReserve
          AutoDeclaration     #Yes
          ElementPosition     #624722514
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventExternalReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventSumExternal
          AutoDeclaration     #Yes
          ElementPosition     #940633332
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventSumExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlPurchCreateForExternal
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderNew
          ButtonDisplay       #Text & Image above
          NormalImage         #12829
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #PlPurchCreateForExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfBatchOrderNew
          NeededPermission    #Create
          ElementPosition     #396261863
          HierarchyParent     #LineStripProduct
          NormalImage         #10888
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          MenuItemName        #PmfbatchOrderNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfMultiDimProcessInventory
          ElementPosition     #1100363520
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          MenuItemName        #PmfMultiDimProcessInventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfPackOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1153606916
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PmfPackOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #priceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #1342177278
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #10693
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscAdmTable_SalesCreate
          ElementPosition     #1879048185
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscAdmTable_SalesCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscTable_Sales
          ElementPosition     #536870910
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RecordEvent
          ElementPosition     #1533916890
          HierarchyParent     #CreateActivity
          Text                #@SYS114679
          NormalImage         #10432
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitieseventNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReleaseToWarehouse
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupActions
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #WHSReleaseToWarehouse
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqMultiLevelPegging
          ElementPosition     #1840700268
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #ReqMultiLevelPegging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqTransNet
          AutoDeclaration     #Yes
          ElementPosition     #1636178016
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransNet
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailAddItemMenuItem
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1193046468
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@RET4905
          ButtonDisplay       #Text & Image left
          NormalImage         #11373
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #RetailAddItems
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAgreementLine
          AutoDeclaration     #Yes
          ElementPosition     #1861152488
          HierarchyParent     #LineStripUpdate
          Text                #@SYS26568
          DataSource          #SalesLine
          MenuItemName        #SalesAgreementLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesATP
          AutoDeclaration     #Yes
          ElementPosition     #940802358
          HierarchyParent     #LineStripProduct
          MenuItemName        #SalesATP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine_ds.updateExplosionCTP();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllHeader
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317844
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllLines
          ElementPosition     #715827879
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317844
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalHeader
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317845
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalLines
          ElementPosition     #800042923
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317845
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #SellCreate
          Text                #@SYS114655
          ButtonDisplay       #Text & Image above
          NormalImage         #10534
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteLines
          AutoDeclaration     #Yes
          ElementPosition     #505290268
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS8125
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesEndDisc
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_EndDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesJournalAutoSummary_Sales
          ElementPosition     #1610612734
          HierarchyParent     #GeneralSetup
          Text                #@SYS114681
          ButtonDisplay       #Text & Image above
          NormalImage         #10819
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesJournalAutoSummary_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_LineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineReturnLine
          AutoDeclaration     #Yes
          ElementPosition     #1852730982
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #SalesLineReturnLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineSplit_RU
          ElementPosition     #968473011
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineSplit_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesMultiLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_MultiLineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesPrice
          ElementPosition     #805306365
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_PriceSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesUpdateRemain
          AutoDeclaration     #Yes
          ElementPosition     #668106021
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #SalesUpdateRemain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesVoidFiscalDocument_BR
          ElementPosition     #1610612733
          HierarchyParent     #SellCreate
          Text                #@SYS4000606
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #SalesVoidFiscalDocument_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ScheduleAppointment
          ElementPosition     #1227133512
          HierarchyParent     #CreateActivity
          Text                #@SYS114626
          NormalImage         #10433
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesAppointmentNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ServicingViewActivities
          AllowEdit           #No
          ElementPosition     #613566756
          HierarchyParent     #CreateActivity
          Text                #@SYS114624
          NormalImage         #10434
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #ActivitiesMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShipCarrierEmailAddress
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackDelivery
          Text                #@SYS317471
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #ShipCarrierEmailAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAAgreementWizard
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellApply
          Text                #@SYS114654
          ButtonDisplay       #Text & Image above
          NormalImage         #10785
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SMAAgreementWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAServiceOrderWizard
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #SalesOrderNew
          Text                #@SYS123643
          ButtonDisplay       #Text & Image above
          NormalImage         #10875
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          OpenMode            #New
          MenuItemName        #SMAServiceOrderWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemCalc_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1515870804
          HierarchyParent     #LineStripSalesLine
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SuppItemCalc_Sales
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    super();
            #
            #    element.doRefresh();
            #    //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #    salesTable_ds.setTouched();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemTable_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GeneralMaintain
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SuppItemTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          ElementPosition     #1431655764
          HierarchyParent     #SellTax
          ButtonDisplay       #Text & Image above
          NormalImage         #10777
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    if (!tmpSalesTableTaxTransForm || (tmpSalesTableTaxTransForm && tmpSalesTableTaxTransForm.closed()))
            #    {
            #        tmpSalesTableTaxTransForm = SalesTotals::showTax(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSInvoiceJournal
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupInvoice
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench
          ElementPosition     #1610612730
          HierarchyParent     #ButtonGroupRating
          ButtonDisplay       #Text & Image above
          NormalImage         #11092
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #TMSRateRouteWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Rate
          AutoDeclaration     #Yes
          HelpText            #@TRX609
          ElementPosition     #357913940
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX509
          ButtonDisplay       #Text & Image above
          NormalImage         #12203
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_Rate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateRoute
          AutoDeclaration     #Yes
          HelpText            #@TRX612
          ElementPosition     #894784850
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX531
          ButtonDisplay       #Text & Image above
          NormalImage         #10796
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_rateRoute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateShop
          AutoDeclaration     #Yes
          HelpText            #@TRX610
          ElementPosition     #536870910
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX510
          ButtonDisplay       #Text & Image above
          NormalImage         #12138
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_rateShop
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Route
          AutoDeclaration     #Yes
          HelpText            #@TRX611
          ElementPosition     #715827880
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX519
          ButtonDisplay       #Text & Image above
          NormalImage         #12132
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_Route
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRouteWorkbench
          ElementPosition     #1968526673
          HierarchyParent     #ButtonGroupRating
          ButtonDisplay       #Text & Image above
          NormalImage         #12304
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRouteWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TradeBLWIChangeCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceChange
          Text                #@SYS317557
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #TradeBLWIChangeSalesTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (! salesTable.RecId)
            #    {
            #        salesTable.write();
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TransportationDocument
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackDelivery
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TransportationDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WHSLoadPlanningWorkbench
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupLoads
          ButtonDisplay       #Text & Image above
          NormalImage         #3488
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #WHSLoadPlanningWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WHSWorkTable
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #WHSLineStripMenuButton
          DataSource          #SalesLine
          MenuItemName        #WHSWorkTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreate
          AutoDeclaration     #Yes
          ElementPosition     #292838679
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53672
          DataSource          #SalesLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Currency_M_editFixedExchRate
          AutoDeclaration     #Yes
          ElementPosition     #1879048190
          HierarchyParent     #Currency
          DataSource          #SalesTable
          DataMethod          #editFixedExchRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscMarkup_DiscPercentHeaderOverview
          ElementPosition     #1431655764
          HierarchyParent     #GroupDiscountHeaderOverview
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscPercent
          ElementPosition     #1825361098
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_DBKPercent
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490184
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_MarketValue
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #644245092
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #MarketValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_IntrastatAddValue_LV
          ElementPosition     #894784852
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatAddValue_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemVolume
          ElementPosition     #1610612733
          HierarchyParent     #PhysDims
          DataSource          #SalesLine
          DataMethod          #whsItemUnitVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemWeight
          ElementPosition     #1073741822
          HierarchyParent     #PhysDims
          DataSource          #SalesLine
          DataMethod          #whsItemGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LineManualDiscountPercentage
          Width               #Column width
          ElementPosition     #477218588
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #RetailSalesLine
          DataField           #LineManualDiscountPercentage
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadGrossWeight
          ElementPosition     #1894838505
          HierarchyParent     #Grid
          Label               #@SYS53799
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadNetWeight
          ElementPosition     #2021161072
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadNetWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadVolume
          ElementPosition     #631612835
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadWeight
          ElementPosition     #505290268
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MCRDiscMarkup_DiscPercentHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #MCRGroupDiscountHeaderOverview
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ListPrice
          ElementPosition     #858993458
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ListPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_LineAmount
          ElementPosition     #1908874352
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS6901
          DataSource          #CustInvoiceTrans
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_Qty
          ElementPosition     #1431655764
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_SalesPrice
          ElementPosition     #1670265058
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnitQty
          ElementPosition     #1073741822
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnitQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Payment_CashDiscPercent
          ElementPosition     #1561806288
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedLineAmount
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986916
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedUnitPrice
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490187
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedLineAmount
          AllowEdit           #No
          ElementPosition     #1789569700
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedUnitPrice
          AllowEdit           #No
          ElementPosition     #1571071757
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PriceUnit
          ElementPosition     #1073741821
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Return_CostPrice
          ElementPosition     #1288490187
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #CostPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_AssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #2144010238
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_IN
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_ConvertFactorKGA_HV
          Width               #100
          ElementPosition     #1968526675
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #ConvertFactorKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_CustomsMaxRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #CustomsMaxRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineAmount
          ElementPosition     #1772867049
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDisc
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDiscGrid
          AutoDeclaration     #Yes
          ElementPosition     #1596296171
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercent
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercentGrid
          AutoDeclaration     #Yes
          ElementPosition     #1684581610
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MaximumRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1789569704
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #MaximumRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilineDisc
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilinePurchasePercent
          Width               #Column width
          ElementPosition     #1789569705
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_PdsCWInventDeliverNow
          ElementPosition     #1558459553
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #PdsCWInventDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_QtyKGA_HV
          AutoDeclaration     #Yes
          ElementPosition     #1382343171
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #QtyKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesDeliverNow1
          ElementPosition     #2004318064
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesDeliverNowAI_HV
          ElementPosition     #2009664709
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesDeliverNowAI_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesMarkUp
          ElementPosition     #1431655762
          HierarchyParent     #Prices
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesMarkup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesPrice
          AutoDeclaration     #Yes
          HelpText            #@SYS1174
          ElementPosition     #1508010732
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          Label               #@SYS11770
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesPriceKGA_HV
          AutoDeclaration     #Yes
          ElementPosition     #1552153451
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesPriceKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesQty
          AutoDeclaration     #Yes
          ElementPosition     #1256675610
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_StatisticValue_LT
          ElementPosition     #2125114024
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatisticValue_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SuframaDiscount_BR
          ElementPosition     #2145615870
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_BR
          DataField           #SuframaDiscount_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_OverDeliveryPct
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #OverDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_UnderDeliveryPct
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #UnderDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceAmountCur_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1963413618
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceAmountCur
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #WHSSalesLine_PackingQty
          AutoDeclaration     #Yes
          ElementPosition     #2095567481
          HierarchyParent     #SalesLineGrid
          DataSource          #WHSSalesLine
          DataField           #PackingQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LinePosting_LedgerDimension
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LinePosting
          DataSource          #SalesLine
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerDefaultAccountController.jumpRef();
            #}
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    ledgerDefaultAccountController.loadAutoCompleteData(_e);
            #    super(_e);
            #}
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #    ledgerDefaultAccountController.loadSegments();
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #    ledgerDefaultAccountController.segmentValueChanged(_e);
            #}
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = ledgerDefaultAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #ExciseRegisterBal_IN
          ElementPosition     #357913941
          HierarchyParent     #LineStripProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LinePackingMeterialsSeparator
          ElementPosition     #2082408384
          HierarchyParent     #ButtonLineInventory
          Text                #@HVP405
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialPackagesSeparator
          CountryRegionCodes  #PL
          ElementPosition     #1372003436
          HierarchyParent     #LineStripFinancials
          Text                #@GLS110272
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparator
          ElementPosition     #660764196
          HierarchyParent     #LineStripFinancials
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsCustomerSeparator
          ElementPosition     #330382098
          HierarchyParent     #LineStripFinancials
          Text                #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsIntroduceSeparator
          AutoDeclaration     #Yes
          ElementPosition     #1321528392
          HierarchyParent     #LineStripFinancials
          Text                #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsRelatedInfoSeparator
          ElementPosition     #1817101539
          HierarchyParent     #LineStripFinancials
          Text                #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparator
          ElementPosition     #991146294
          HierarchyParent     #LineStripFinancials
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryDimensionsSeparator
          ElementPosition     #1659419181
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS26038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryInterCompanySeparator
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1366580502
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS316397
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparator
          ElementPosition     #390451572
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparator
          ElementPosition     #195225786
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparator
          ElementPosition     #780903144
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripMSDSSeparator
          ElementPosition     #1854644967
          HierarchyParent     #ButtonLineInventory
          Text                #@PDS1378
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductNewSeparator
          ElementPosition     #204522252
          HierarchyParent     #LineStripProduct
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductProductModelSeparator
          ElementPosition     #511305630
          HierarchyParent     #LineStripProduct
          Text                #@SYS124268
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductQualitySeparator
          AutoDeclaration     #Yes
          ElementPosition     #1124872386
          HierarchyParent     #LineStripProduct
          Text                #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductRequirementsSeparator
          ElementPosition     #1533916890
          HierarchyParent     #LineStripProduct
          Text                #@SYS118437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductViewSeparator
          ElementPosition     #818089008
          HierarchyParent     #LineStripProduct
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineAttachmensSeparator
          ElementPosition     #1642193371
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineBOMSeparator
          ElementPosition     #1136903103
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS69965
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCalculateSeparator
          ElementPosition     #1389548237
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCopySeparator
          ElementPosition     #631612835
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineDisplaySeparator
          ElementPosition     #1894838505
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineNewSeparator
          ElementPosition     #252645134
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineReturnLine
          ElementPosition     #1810623460
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS104918
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateAgreementSeparator
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1574821336
          HierarchyParent     #LineStripUpdate
          Text                #@SYS190135
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCalculateSeparator
          ElementPosition     #286331152
          HierarchyParent     #LineStripUpdate
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCancelSeparator
          ElementPosition     #1288490184
          HierarchyParent     #LineStripUpdate
          Text                #@SYS50163
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparator
          ElementPosition     #858993456
          HierarchyParent     #LineStripUpdate
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateUpdateSeparator
          ElementPosition     #572662304
          HierarchyParent     #LineStripUpdate
          Text                #@SYS113222
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #MCRLineStripSalesLineViewSeparator
          ElementPosition     #2042214836
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS304872
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator
          ElementPosition     #1073741820
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator1
          ElementPosition     #1431655760
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator2
          ElementPosition     #1789569700
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #WHSLineStripMenuButtonSeparator
          ElementPosition     #1431655764
          HierarchyParent     #WHSLineStripMenuButton
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ActiveIngredientUnit_HV
          ElementPosition     #1908874351
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataMethod          #ActiveIngredientUnit_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_LanguageId
          ElementPosition     #1073741820
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #LanguageId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesOriginId
          ElementPosition     #1610612730
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesOriginId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesPoolId
          ElementPosition     #1879048188
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesPoolId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesUnitId
          ElementPosition     #1342177275
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesUnitId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Agreement_RU_M_AgreementDocumentTitle_RU
          ElementPosition     #1610612734
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable
          DataMethod          #agreementDocumentTitle_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AssetTableId_RU
          ElementPosition     #2147221502
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #AssetId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemBOMId
          ElementPosition     #1073741822
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemBOMId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemRouteId
          ElementPosition     #1610612733
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemRouteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Campaign_smmCampaignId
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Campaign
          DataSource          #SalesTable
          DataField           #smmCampaignId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Carrier
          ElementPosition     #884257969
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccount
          ElementPosition     #536870910
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccountCode
          ElementPosition     #805306365
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierId
          ElementPosition     #1879048185
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccount
          ElementPosition     #858993458
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccountCode
          ElementPosition     #1288490187
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierId
          ElementPosition     #1717986916
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierService
          ElementPosition     #1010580536
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierServiceCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_CommissionGroup
          ElementPosition     #1610612733
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #CommissionGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_SalesGroup
          ElementPosition     #1073741822
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #SalesGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CompanyAddress
          ElementPosition     #1246070756
          HierarchyParent     #CompanyInfo
          Label               #@SYS36203
          DataSource          #SalesLine_IN
          DataMethod          #displayAddress_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_Email
          HelpText            #@SYS108976
          ElementPosition     #1610612733
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #Email
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_URL
          HelpText            #@SYS98587
          ElementPosition     #1073741822
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #URL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLineViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #CopyOfLineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLineViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #CopyOfLineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfRoutes
          ElementPosition     #1431655764
          HierarchyParent     #CopyOfLineViewTMSHeader
          Label               #@TRX459
          DataSource          #SalesTable
          DataMethod          #tmsDisplayRouteCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfSalesTable_ShipCarrierDeliveryContactHdr
          Visible             #No
          ElementPosition     #1533916890
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Currency_CurrencyCode
          ElementPosition     #1610612734
          HierarchyParent     #Currency
          DataSource          #SalesTable
          DataField           #CurrencyCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustAccount
          ElementPosition     #1073741822
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #CustAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustAccount_LineView
          ElementPosition     #1073741822
          HierarchyParent     #MCRCustomerGroup
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsigneeAccount_RU
          ElementPosition     #1670265058
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsigneeAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsignorAccount_RU
          ElementPosition     #1550960411
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsignorAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvMode
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvReason
          ElementPosition     #1431655764
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvTerm
          ElementPosition     #1073741823
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ExportReason
          ElementPosition     #1789569705
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #ExportReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_EndDisc
          ElementPosition     #805306365
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #EndDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_LineDisc
          ElementPosition     #1073741820
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MarkupGroup
          ElementPosition     #1342177275
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MarkupGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MultiLineDisc
          ElementPosition     #1610612730
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MultiLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsCustRebateGroupId
          ElementPosition     #1431655760
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsCustRebateGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsRebateProgramTMAGroup
          ElementPosition     #1521134245
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsRebateProgramTMAGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PriceGroupId
          ElementPosition     #1879048185
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PriceGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editContactPersonName1
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GroupCustomer
          LookupButton        #Always
          DataSource          #SalesTable
          DataMethod          #editContactPersonName
          PresenceDataSource  #SalesTable
          PresenceDataField   #ContactPersonId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    salesTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
            #                                           salesTable.CustAccount,
            #                                           editContactPersonName1,
            #                                           salesTable.ContactPersonId);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editReasonCode_TH
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS4082946
          ElementPosition     #2013265917
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonCodeTH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoice_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoiceLine_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #EInvoiceLine
          DataSource          #SalesLine
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalEstablishment
          ElementPosition     #477218588
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataMethod          #FiscalEstablishment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountryRegionName_RU
          ElementPosition     #1892469960
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountryRegionName_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountyOrigDest
          ElementPosition     #1471921080
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_InvoiceGTDId_RU
          ElementPosition     #1682195520
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #InvoiceGTDId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Port
          ElementPosition     #1261646640
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Port
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_StatProcId
          ElementPosition     #420548880
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatProcId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_TransactionCode
          ElementPosition     #841097760
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #TransactionCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Transport
          ElementPosition     #1051372200
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonCode
          ElementPosition     #1073741822
          HierarchyParent     #GroupCreditNote
          LookupButton        #Always
          DataSource          #SalesLine
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #/// <summary>
            #/// Redraws the form as the reason code field is modified.
            #/// </summary>
            #/// <returns>
            #/// A boolean indidcating whther the field is modified or not.
            #/// </returns>
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonCode));
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    element.redraw();
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonComment
          ElementPosition     #1610612733
          HierarchyParent     #GroupCreditNote
          DataSource          #SalesLine
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_CountyOrigDest
          ElementPosition     #671088639
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Port
          ElementPosition     #1565873491
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Port
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_StatProcId
          ElementPosition     #1789569704
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #StatProcId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_TransactionCode
          ElementPosition     #1118481065
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #TransactionCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Transport
          ElementPosition     #1342177278
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Transport
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderTitle
          AutoDeclaration     #Yes
          Width               #Column width
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderInfo
          Border              #None
          Text                #Sales order
          ColorScheme         #Windows palette
          ForegroundColor     #Dyn Title green
          FontSize            #11
          ShowLabel           #No
          ViewEditMode        #View
          Style               #TitleField
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InterCompanyAdmin_M_interCompanyOriginDisplay
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataMethod          #interCompanyOriginDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyAllowIndirectCreationOrig
          AutoDeclaration     #Yes
          AllowEdit           #No
          AlignControl        #No
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderIntercompanySettings
          MultiLine           #Yes
          ShowLabel           #No
          DataSource          #SalesTable
          DataMethod          #interCompanyAllowIndirectCreationTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSInventStatusId
          ElementPosition     #1968526675
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventStatusId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSLicensePlateId
          ElementPosition     #1610612734
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #LicensePlateId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventLocationId
          ElementPosition     #1610612733
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventLocationId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventSiteId
          ElementPosition     #1073741822
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventSiteId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_configId
          ElementPosition     #858993458
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #configId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventBatchId
          ElementPosition     #1073741822
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventBatchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventColorId
          ElementPosition     #1717986916
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventColorId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventGtdId_RU
          ElementPosition     #1879048189
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventGtdId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventLocationId
          ElementPosition     #1073741823
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventOwnerId_RU
          ElementPosition     #2013265917
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventProfileId_RU
          ElementPosition     #1744830461
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventProfileId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventSerialId
          ElementPosition     #1610612733
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSiteId
          ElementPosition     #715827882
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSizeId
          ElementPosition     #1288490187
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventSizeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventStyleId
          ElementPosition     #1932735281
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventStyleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSLocationId
          ElementPosition     #1431655764
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSPalletId
          ElementPosition     #1789569705
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSPalletId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoiceAccount
          ElementPosition     #1073741823
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #InvoiceAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoiceAccount_LineView
          ElementPosition     #1610612733
          HierarchyParent     #MCRCustomerGroup
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #IS_BankAccount
          ElementPosition     #878516037
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #BankAccount_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #IS_InventUnit
          ElementPosition     #1849222027
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataMethod          #InventUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #628337805
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemNameFastTab
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1288490187
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemReference_InventRefId
          ElementPosition     #715827882
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemReference_InventRefTransId
          ElementPosition     #1073741823
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineInventory_InventTransId
          ElementPosition     #536870910
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #InventTransId
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_InvoiceRemarkId_BG
          ElementPosition     #1879048189
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #InvoiceRemarkId_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxGroup
          ElementPosition     #1073741822
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxItemGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          DataField           #TaxWithholdGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadAccountNum
          ElementPosition     #1642193371
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadAccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadCarNumber
          ElementPosition     #1515870804
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadOrderNum
          ElementPosition     #1768515938
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadOrderNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Loads
          ElementPosition     #2049942772
          HierarchyParent     #SalesLineGrid
          Label               #@WAX403
          DataSource          #SalesLine
          DataMethod          #whsGetLoads
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTractorNumber
          ElementPosition     #1263225670
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTractorNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTrailerNumber
          ElementPosition     #1389548237
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTrailerNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTypeId
          ElementPosition     #378967701
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine_Address
          ElementPosition     #1431655764
          HierarchyParent     #GroupLineDeliveryAddressRef
          Label               #@SYS36203
          DataSource          #LogisticsPostalAddressDeliveryLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierAddr
          DataSource          #LogisticsPostalAddressShipCarrierHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #LogisticsPostalAddressShipCarrierLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRDelivery_DeliveryMode
          ElementPosition     #1073741820
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRDelivery_Expedite
          ElementPosition     #1610612733
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #MCRSalesTableShipping
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRLogisticsPostalAddressDeliveryHeader_Address2
          ElementPosition     #1227133512
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRMarginPercentStr
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMarginAlert
          ElementPosition     #2110775717
          HierarchyParent     #SalesLineGrid
          Label               #@MCR4410233
          DataSource          #SalesLine
          DataMethod          #mcrMarginPercentStr
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_CustomerRefHeader
          ElementPosition     #858993458
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_PurchOrderFormNumHeader
          ElementPosition     #1288490187
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_SourceIDHeader
          ElementPosition     #1717986916
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_ContinuityScheduleId
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRProductAttributes
          DataSource          #MCRSalesLine
          DataField           #ContinuityScheduleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_Expedite
          ElementPosition     #1431655764
          HierarchyParent     #MCRExpedite
          DataSource          #MCRSalesLine
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_GiftCardNumber
          AutoDeclaration     #Yes
          HelpText            #@MCR40287
          ElementPosition     #1717986916
          HierarchyParent     #GiftCard
          LookupButton        #Never
          DataSource          #MCRSalesLine
          DataMethod          #editGiftCardId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_SourceId
          AutoDeclaration     #Yes
          ElementPosition     #2036397934
          HierarchyParent     #SalesLineGrid
          DataSource          #MCRSalesLine
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipComment
          ElementPosition     #1717986916
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipComment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ListPriceCurrencyCode
          ElementPosition     #1288490187
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ListPriceCurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ReasonCode
          ElementPosition     #1717986916
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ReasonCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_DeliveryNameHeaderOverview
          ElementPosition     #613566756
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SmmTMCallListID
          AutoDeclaration     #Yes
          ElementPosition     #1990896296
          HierarchyParent     #GroupReferences
          DataSource          #MCRSalesTable
          DataField           #SmmTMCallListId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SourceId
          AutoDeclaration     #Yes
          ElementPosition     #966367640
          HierarchyParent     #Baseinfo
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SourceIdGrid
          AutoDeclaration     #Yes
          ElementPosition     #383479222
          HierarchyParent     #GridHeader
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTableShipping_Expedite
          ElementPosition     #1749801488
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTableShipping
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_InvoiceId
          HelpText            #@GLS113561
          ElementPosition     #477218588
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS4726
          DataSource          #CustInvoiceTrans
          DataField           #InvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ItemId
          ElementPosition     #715827882
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS12836
          DataSource          #CustInvoiceTrans
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ProductName
          ElementPosition     #954437176
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS59620
          DataSource          #CustInvoiceTrans
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingMaterDescr_HV
          ElementPosition     #1342177277
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingMaterDescr_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnit
          ElementPosition     #1610612733
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_CashDisc
          ElementPosition     #1366580502
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_M_editCreditCard
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ConfigurationKey    #CreditCard
          SecurityKey         #CreditCardInquiry
          ElementPosition     #1464193395
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataMethod          #editCreditCard
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (salesTable.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
            #    {
            #        CreditCardCust::lookupCreditCard(this, salesTable.InvoiceAccount, salesTable.CreditCardCustRefId);
            #    }
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean isOK = super();
            #
            #    element.enableHeaderCreditCardMenuItems();
            #
            #    return isOK;
            #}
          ENDSOURCE
          SOURCE #textChange
            #public void textChange()
            #{
            #    str text = this.text();
            #
            #    if (strLen(text) > 1)
            #    {
            #        this.text(subStr(text, strLen(text), 1));
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_Payment
          ElementPosition     #390451572
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #Payment
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #leave
            #public boolean leave()
            #{
            #    boolean ok = super();
            #
            #    if(ok && salesTable.CreditCardCustRefId == 0 && payment_M_editCreditCard.text())
            #    {
            #        // Clears the credit card number if the payment type is not a credit card
            #        salesTable_ds.cacheCalculateMethod(payment_M_editCreditCard.dataMethod());
            #    }
            #
            #    return ok;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymentSched
          ElementPosition     #1171354716
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymentSched
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymMode
          ElementPosition     #780903144
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymMode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymSpec
          ElementPosition     #976128930
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_NumberSequenceGroup
          ElementPosition     #668106022
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #NumberSequenceGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_PostingProfile
          ElementPosition     #1717986916
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PostingProfile
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculationId
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993458
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ActivityNumber
          ElementPosition     #1789569705
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ActivityNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjCategoryId
          ElementPosition     #1073741823
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjCategoryId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjId
          ElementPosition     #715827882
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjTransId
          ElementPosition     #1431655764
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRef
          ElementPosition     #1227133512
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRefHeader
          ElementPosition     #858993458
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNum
          ElementPosition     #613566756
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNumHeader
          ElementPosition     #1288490187
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonCode
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          HelpText            #@SYS300080
          ElementPosition     #1968526675
          HierarchyParent     #GroupReferences
          LookupButton        #Always
          Label               #@SYS300079
          DataSource          #SalesTable
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    // Update the cache for the ReasonComment value, which is changed during the call to super.
            #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable,editReasonComment));
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@GLS104580"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonCode();
            #        }
            #
            #        element.redraw();
            #        salesLine_ds.reread();
            #        references_ReasonComment.modified();
            #    }
            #    else
            #    {
            #        element.redraw();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonComment
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          HelpText            #@SYS300081
          ElementPosition     #2058005160
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@SYS114149"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonComment();
            #        }
            #
            #        salesLine_ds.reread();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReturnItemNum
          ElementPosition     #1840700268
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ReturnItemNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Route
          ElementPosition     #757935402
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #tmsDisplayRoute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Routes
          ElementPosition     #1431655764
          HierarchyParent     #LineViewTMSHeader
          Label               #@TRX459
          DataSource          #SalesTable
          DataMethod          #tmsDisplayRouteCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Sales_ExternalItemId
          Width               #Column width
          ElementPosition     #1073741822
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #ExternalItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_CASNo_HV
          ElementPosition     #2141891240
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CASNo_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DeliveryName
          ElementPosition     #1073741822
          HierarchyParent     #LineDeliveryAddress
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_Destination_HV
          ElementPosition     #1968526675
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #Destination_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DlvTerm
          ElementPosition     #477218588
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdAcknowledgementNumber
          ElementPosition     #1431655764
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          DataField           #TaxWithholdAcknowledgementNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InventRefId_HV
          ElementPosition     #1073741822
          HierarchyParent     #ItemReference_HV
          DataSource          #SalesLine
          DataField           #InventRefId_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InventRefTransId_HV
          ElementPosition     #1610612733
          HierarchyParent     #ItemReference_HV
          DataSource          #SalesLine
          DataField           #InventRefTransId_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InventTransIdReturn
          ElementPosition     #1717986916
          HierarchyParent     #Return
          LookupButton        #Always
          DataSource          #SalesLine
          DataField           #InventTransIdReturn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InvoiceRemarkId_BG
          ElementPosition     #1593143117
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #InvoiceRemarkId_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_IS_ProducerCode
          ElementPosition     #1819395865
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #IS_ProducerCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #502670244
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #public void gotFocus()
            #{
            #    // Display any messages associated with the item.
            #    element.mcrDisplayItemMessage();
            #    super();
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ItemId  newItemId;
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(TradeItemSearch)))
            #    {
            #        newItemId = MCRInventSearch::searchItem(salesLine, salesLine_ItemId.text());
            #
            #        // DataSource ItemId.modified() is called on the MCRSalesQuickQuoteForm, if an itemId is returned then
            #        //  it means the line was not updated there, so set ItemId to returned value and call super.
            #        if (newItemId)
            #        {
            #            // If the user entered an item ID, skip refresh
            #            if (newItemId != salesLine_ItemId.text())
            #            {
            #                salesLine.ItemId = newItemId;
            #                // The datasource contains the entered value, need to refresh otherwise
            #                // validation will fail.
            #                salesLine_ds.refresh();
            #            }
            #            ret = super();
            #        }
            #        else
            #        {
            #            ret = false;
            #        }
            #    }
            #    else
            #    {
            #        ret = super();
            #    }
            #    //SalesLine.Name = SalesLine.itemName();// HUVE IMP00265 D.Ganchev 17.12.2014
            #        //this.Name = SalesParameters::nameAndOrDescription(_inventTable, _salesTable.LanguageId, this.InventDimId, EcoResCategory::find(_salesCategory));
            #
            #    salesLine_ds.refresh(); // HUVE IMP00265 D.Ganchev 17.12.2014
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_Name
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #OrderLine
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_NameBG_HV
          ElementPosition     #1932735281
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          DataField           #NameBG_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_RBOVariantId
          Visible             #No
          ElementPosition     #377002683
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #RetailVariantId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_SalesUnit
          AutoDeclaration     #Yes
          ElementPosition     #754005366
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #SalesLine
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_TaxGroup
          ElementPosition     #1583683961
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_TaxItemGroup
          ElementPosition     #1589990063
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DlvMode
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_BillOfLading_HV
          ElementPosition     #2058005160
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #BillOfLading_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_BuyerName_HV
          ElementPosition     #1533916890
          HierarchyParent     #OtherInfo
          DataSource          #SalesTable
          DataField           #BuyerName_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CFPSId_BR
          ElementPosition     #1073741823
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CFPSId_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CompanyVATNumber_BG
          ElementPosition     #2075900857
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #CompanyVATNumber_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ConsigneeName_HV
          ElementPosition     #1227133512
          HierarchyParent     #OtherInfo
          DataSource          #SalesTable
          DataField           #ConsigneeName_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ContactPersonId
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569705
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #ContactPersonId
          PresenceIndicatorAllowed    #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_Container_HV
          ElementPosition     #1879048190
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #Container_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CurrencyCodeGrid
          ElementPosition     #1073741823
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CustAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryName1
          ElementPosition     #715827882
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryNameHeaderOverview
          ElementPosition     #715827882
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_Destination_HV
          ElementPosition     #238609292
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #Destination_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_Destination_HV1
          ElementPosition     #2147396264
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #Destination_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvMode
          ElementPosition     #1533916890
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvTerm
          ElementPosition     #1687308579
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvTermsTxt_HV
          ElementPosition     #79536430
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #DlvTermsTxt_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvTermsTxtBG_HV
          ElementPosition     #119304645
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #DlvTermsTxtBG_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InterCompanyPurchId
          ElementPosition     #869219571
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #InterCompanyPurchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InvoiceAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InvoiceLetter_HV
          ElementPosition     #613566756
          HierarchyParent     #OtherInfo
          DataSource          #SalesTable
          DataField           #InvoiceLetter_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_IS_DeliveryName_BG
          ElementPosition     #894784852
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #IS_DeliveryName_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_IS_DeliveryName_BG1
          ElementPosition     #894784852
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #IS_DeliveryName_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_PlaceOfDestination_HV
          ElementPosition     #159072860
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #PlaceOfDestination_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_PlaceOfDestinationBG_HV
          ElementPosition     #198841075
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #PlaceOfDestinationBG_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ProjId
          ConfigurationKey    #ProjBasic
          ElementPosition     #1533916890
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_PurchId
          AllowEdit           #No
          ElementPosition     #690262600
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #PurchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceId_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1902056943
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesId
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesIdAdvanced
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesName
          ElementPosition     #1288490187
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesNotes_HV
          ElementPosition     #1840700268
          HierarchyParent     #OtherInfo
          DataSource          #SalesTable
          DataField           #SalesNotes_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContact
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContactHdr
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierAddr
          DataSource          #SalesTable
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipmentBy_HV
          ElementPosition     #1968526675
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #ShipmentBy_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_VATNumber_BG
          ElementPosition     #2004318069
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #VATNumber_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_BankAccount_HV
          Visible             #No
          ElementPosition     #1780249028
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #BankAccount_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_EnterpriseNumber
          ElementPosition     #1789569705
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #EnterpriseNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_InvoiceRemarkId_BG
          ElementPosition     #1770928353
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #InvoiceRemarkId_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_IS_DrugLicenseNum
          ElementPosition     #924611014
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #IS_DrugLicenseNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_IS_NoDateNewDocument
          ElementPosition     #1787705569
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #IS_NoDateNewDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_Reason_HV
          ElementPosition     #1785841433
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #Reason_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_Reference_HV
          ElementPosition     #1782113163
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #Reference_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_TaxPeriodPaymentCode_PL
          ElementPosition     #477218588
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxPeriodPaymentCode_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #StringEdit
          ElementPosition     #1431655764
          HierarchyParent     #GroupProductModel
          DataSource          #SalesLine
          DataField           #ItemPBAId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxGroup
          ElementPosition     #775480205
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    //HUVEPHARMA_AX_SUPP.SUPP1064 Y.RUSANOV 24.08.2016
            #    SalesTable.IS_DrugLicenseNum = SalesTable.IS_setDrugLicenseNum_IN(SalesTable.TaxGroup);
            #    SalesTable_ds.refresh();
            #    //<--
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_BrokerCode
          ElementPosition     #1193046470
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #BrokerCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierCode
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierGroupCode
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierGroupCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierServiceCode
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierServiceCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    TMSCarrierService::lookupCarrierServiceCode(this, tmsSalesTable.CarrierCode);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_ModeCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #ModeCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_RouteConfigCode
          AutoDeclaration     #Yes
          ElementPosition     #1670265058
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #RouteConfigCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_TransportationTemplateId
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #TransportationTemplateId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Transport_FreightZone
          ElementPosition     #1610612734
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightZone
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VATNum
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #VATNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #viceCodeTable_IN_ServiceAccountingCode
          ElementPosition     #1879048189
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WHSLoadLine_LoadId
          ElementPosition     #252645134
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataField           #LoadId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #CreatedDateTime
          HelpText            #@SYS69504
          ElementPosition     #1431655764
          HierarchyParent     #LineCratedDateTime
          DataSource          #SalesLine
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #SalesTable_CreatedDateTime
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS69494
          ElementPosition     #1431655764
          HierarchyParent     #DateAndTime
          DataSource          #SalesTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #lineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #251335122
          HierarchyParent     #SalesLineGrid
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #SalesLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(salesLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCRMarginAlert
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ConfigurationKey    #TradeMarginAlert
          ElementPosition     #2125983953
          HierarchyParent     #SalesLineGrid
          Imagemode           #Center
          Label               #@MCR36385
          DataSource          #SalesLine
          DataMethod          #mcrMarginIcon
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCROnHoldIcon
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #2096061810
          HierarchyParent     #GridHeader
          Imagemode           #Center
          Label               #@MCR20463
          DataSource          #SalesTable
          DataMethod          #MCRDisplayOnHold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCRPriceOverrideIcon
          AutoDeclaration     #Yes
          Width               #100
          Height              #16
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #2071685792
          HierarchyParent     #SalesLineGrid
          Imagemode           #Center
          DataSource          #SalesLine
          DataMethod          #MCRDisplayPriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
        CONTROL #buttonLineProduction
          PROPERTIES
            Control             #buttonLineProduction
          ENDPROPERTIES
          
        ENDCONTROL
        
      CONTROL #PBAExecute
        PROPERTIES
          Control             #PBAExecute
        ENDPROPERTIES
        
      ENDCONTROL
      
  ENDFORM
  
TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Read
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

TABLE #SalesTable
  PROPERTIES
    Table               #SalesTable
    EffectiveAccess     #Delete
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #PurchTable
  PROPERTIES
    Name                #PurchTable
    FormTemplate        #DetailsPage
    InteractionClass    #PurchTableInteraction
    Origin              #{0B0A0000-0000-1000-B49B-F07268546162}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    boolean                         isCalledFromLP;
      #    PurchTableForm                  purchTableForm;
      #    PurchTableType                  purchTableType;
      #
      #    QueryBuildRange                 queryBuildRangeProj;
      #    QueryBuildRange                 queryBuildRangePurchLine;
      #    boolean                         isProjectForm;
      #    boolean                         isDocuActionTemplate;
      #
      #    // Used for validateWrite and write to update tax groups on misc. charges and header2lines updates
      #    DialogButton                    copyTaxGroupToMarkupTrans;
      #    PurchTable2LineUpdatePrompt     purchTable2LineUpdatePrompt;
      #
      #    InventDimCtrl_Frm_Mov           inventDimFormSetup;
      #
      #    //PBA begin
      #    boolean                         autoConfig;
      #    // PBA end
      #
      #    Object                          tmpPurchTableTaxTransForm;
      #    Object                          tmpPurchTableTaxWithholdTransForm;
      #    TaxWithholdParameters_IN        taxWithholdParameters;
      #    TaxParameters                   taxParameters;
      #    EximParameters_IN               eximParameters;
      #    TaxExciseTypeController_IN      taxExciseTypeController;
      #    TaxItemGroupHeading             taxItemGroupHeadingRev;
      #    boolean                         isPurchLine_INEnabled;
      #
      #    boolean                         cashDiscOnInvoice;
      #
      #    Map                             interCompanySalesCache;
      #    RecId                           interCompanyIsPriceDiscSearchNeeded;
      #
      #    #Tax1099
      #
      #    PurchId                         purchIdTouched;
      #
      #    DimensionDefaultingController   dimensionDefaultingControllerHeader;
      #    DimensionDefaultingController   dimensionDefaultingControllerLine;
      #
      #    LedgerDimensionDefaultAccountController     ledgerDefaultAccountControllerLine;
      #
      #    boolean                         keepName; // When set to false Name is defaulted from category description.
      #
      #    NumberSeqFormHandler            numberSeqFormHandler;
      #    //Asset qualifier related variables
      #    container                       assetRules;
      #    List                            assetQualifierList;
      #    Description                     selectedAssetQualifier;
      #
      #    LogisticsLocationRecId          postalAddressLocation;
      #
      #    #AssetRules
      #    #resAppl
      #    #define.grpAssetQualifier('grpAssetQualifier')
      #    #define.editAssetQualifier('editAssetQualifier')
      #
      #    boolean                         hasEMSAccess;
      #
      #    BankLCImportFeatureChecker      bankLCImportFeatureChecker;
      #    BankLGFeatureChecker            bankLGFeatureChecker;
      #    boolean                         enableLCFeature;
      #    boolean                         enableLGFeature;
      #
      #    boolean                         wasCalledFromVendorSearch;
      #    VendAccount                     vendAccountSearch;
      #    // Default create values
      #    ItemId                          defaultItemId;
      #    InventDim                       defaultInventDim;
      #    TransDate                       defaultDate;
      #    boolean                         zakatParameterEnabled;
      #    InventItemBarcode               itemBarcode;
      #
      #    #resAppl
      #
      #
      #    boolean                         workflowEnabled;
      #    boolean                         isRU;
      #    boolean                         isPurchTableEnabled_RU;
      #    // RU assets
      #    Map                             itemTypeCache;
      #    Map                             itemInventDimSetupCache;
      #    #ISOCountryRegionCodes
      #
      #    DueDate                         priorDueDate;
      #    boolean                         isPurchLine_WEnabled;
      #    boolean                         isPurchTableEnabled_W;
      #    SalesPurchOperationTypeController_BR salesPurchOperationTypeController_BR;
      #    boolean                         isPurchTableEnabled_BR;
      #
      #    boolean                         advanceHoldersEnabled;
      #
      #    PurchLine                       defaultPurchLine;
      #
      #    PurchParameters purchParameters;
      #
      #    ImageListAppl_PurchTableForm  imageListAppl_PurchTableForm;
      #
      #    int                            purchTableRecVersion;
      #
      #    boolean                         skipLinkActive;
      #    boolean                         linkActiveHeaderExecuted;
      #
      #    boolean                         executePersonalization;
      #    QueryBuildRange                 queryRange;
      #    QueryBuildRange                 queryRangeQuantity;
      #    QueryBuildRange                 queryRangeOptionsRef;
      #    QueryBuildRange                 queryRangeGroup;
      #    InventQty                       salesLineMaxQty;
      #    boolean                         itemChanged;
      #    boolean                         inTextLine;
      #    boolean                         onInit;
      #    boolean                         fromQty;
      #    boolean                         fromLostControl;
      #    SalesLine                       salesLine;
      #    FilePath                        filePath;
      #
      #    boolean                         isWHSPurchLineEnabled;
      #}
    ENDSOURCE
    SOURCE #allowEditAsset_RU
      #boolean allowEditAsset_RU()
      #{
      #    boolean ret;
      #
      #    if (itemTypeCache && purchLine.ItemId)
      #    {
      #        if (itemTypeCache.exists(purchLine.ItemId))
      #        {
      #            ret = itemTypeCache.lookup(purchLine.ItemId);
      #        }
      #        else
      #        {
      #            ret = InventTable::find(purchLine.ItemId).AssetGroupId_RU != '';
      #            itemTypeCache.insert(purchLine.ItemId, ret);
      #        }
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #allowEditLedgerAccount_RU
      #boolean allowEditLedgerAccount_RU()
      #{
      #    boolean                     allowEdit = ! purchLine_W.MarkupCode_RU;
      #
      #    if (allowEdit && itemInventDimSetupCache && purchLine.ItemId)
      #    {
      #        if (itemInventDimSetupCache.exists(purchLine.ItemId))
      #        {
      #            allowEdit = itemInventDimSetupCache.lookup(purchLine.ItemId);
      #        }
      #        else
      #        {
      #            allowEdit = !EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(purchLine.ItemId, fieldNum(InventDim, InventProfileId_RU));
      #            itemInventDimSetupCache.insert(purchLine.ItemId, allowEdit);
      #        }
      #    }
      #
      #    return allowEdit;
      #}
    ENDSOURCE
    SOURCE #applyBackOrderLinesSelection
      #/// <summary>
      #/// If form was called by BackOrderLines list page, applies additional ranges to the form data source to show only sales orders that were selected in a list page.
      #/// </summary>
      #/// <remarks>
      #/// If form called not from BackOrderLines list page no action is taken.
      #/// </remarks>
      #private void applyBackOrderLinesSelection()
      #{
      #    Map             selectedPurchIds;
      #    MapEnumerator   en;
      #
      #    if (!this.isCalledFromPurchLineBackOrderListPage() || !element.args().record())
      #    {
      #        return;
      #    }
      #
      #    // Apply filter to show only Purch Orders selected in the list page...
      #    selectedPurchIds = PurchLineBackOrderListPageInteraction::getPurchIdsSelected(element.args().record().dataSource());
      #    if (selectedPurchIds)
      #    {
      #        // Dynalinks need to be cleared to avoid transfer only currently selected record from a list page.
      #        purchTable_ds.query().dataSourceTable(tableNum(PurchTable)).clearDynalinks();
      #
      #        en = new MapEnumerator(selectedPurchIds);
      #        while(en.moveNext())
      #        {
      #            purchTable_ds.query().dataSourceTable(tableNum(PurchTable)).addRange(fieldNum(PurchTable,PurchId)).value(en.currentValue());
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #automaticTotalDiscount
      #public void automaticTotalDiscount()
      #{
      #    PurchTable localPurchTable;
      #
      #    if (PurchParameters::find().AutomaticTotalDiscount)
      #    {
      #        for (localPurchTable = purchTable_ds.getFirst(true) ? purchTable_ds.getFirst(true) : purchTable_ds.cursor(); localPurchTable; localPurchTable = purchTable_ds.getNext())
      #        {
      #            localPurchTable.updateFinalDisc();
      #        }
      #        purchTable_ds.reread();
      #        purchTable_ds.refresh();
      #        purchLine_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #budgetControlLine
      #public void budgetControlLine()
      #{
      #    if (purchLine)
      #    {
      #        // Submit to source document processor for an on-demand budget check
      #        SourceDocumentProcessorFacade::submitOnDemandSourceDocLineImpl(purchLine);
      #
      #        purchLine_ds.updateBudgetCheckResultDisplay();
      #    }
      #}
    ENDSOURCE
    SOURCE #budgetCreateTransfer
      #public void budgetCreateTransfer()
      #{
      #    BudgetCreateTransfer budgetCreateTransfer = BudgetCreateTransfer::construct();
      #
      #    // The source number for the created transfer is the purchase order id.
      #    budgetCreateTransfer.parmBudgetTransferSourceNumber(purchTable.PurchId);
      #
      #    budgetCreateTransfer.parmToLedgerDimensionDate(systemDateGet());
      #
      #    // Set the To ledger dimension to 0.
      #    budgetCreateTransfer.parmToLedgerDimension(0);
      #
      #    // Set the currency to the currency on the selected purchase order line.
      #    budgetCreateTransfer.parmCurrency(purchLine.CurrencyCode);
      #
      #    // Set the budget type as Expense.
      #    budgetCreateTransfer.parmBudgetType(BudgetType::Expense);
      #
      #    BudgetCreateTransferManager::launchCreateTransferForm(budgetCreateTransfer);
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean ret;
      #
      #    ret = super();
      #
      #    // PBA begin
      #    if (!purchLine.PBAItemLine::checkMandatory() )
      #    {
      #        return false;
      #    }
      #    // PBA end
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #canSubmitToWorkflow
      #public boolean canSubmitToWorkflow()
      #{
      #    return purchTable.canSubmitToWorkflow();
      #}
    ENDSOURCE
    SOURCE #checkCreditNoteLine
      #void  checkCreditNoteLine()
      #{
      #    boolean  allowEdit;
      #
      #    allowEdit = purchLine.allowEditReturnActionId();
      #    purchLine_ds.object(fieldNum(PurchLine, ReturnActionId)).allowEdit(allowEdit);
      #    purchLine_ds.object(fieldNum(PurchLine, ReturnActionId)).skip(!allowEdit);
      #
      #    allowEdit = purchLine.allowEditScrap();
      #    purchLine_ds.object(fieldNum(PurchLine, Scrap)).allowEdit(allowEdit);
      #    purchLine_ds.object(fieldNum(PurchLine, Scrap)).skip(allowEdit);
      #}
    ENDSOURCE
    SOURCE #close
      #void close()
      #{
      #    xSysLastValue::saveLast(purchTableForm);
      #
      #    // Current price references may need to be deleted.
      #    purchLine.SalesPurchLine::cleanUpPriceHistoryRef();
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #configBankDocumentControls
      #/// <summary>
      #///     Configs the BankDocument Controls.
      #/// </summary>
      #public void configBankDocumentControls()
      #{
      #    boolean         enableDocumentType = false;
      #    PurchTableType  purchTableTypeLcoal;
      #
      #    if (enableLCFeature
      #    ||  enableLGFeature)
      #    {
      #        purchTableTypeLcoal = purchTable.type();
      #        enableDocumentType  = purchTableTypeLcoal.mayBankDocumentTypeBeModified();
      #        element.configPaymentGroupControls();
      #        purchTable_DS.object(fieldNum(PurchTable, BankDocumentType)).allowEdit(enableDocumentType);
      #    }
      #}
    ENDSOURCE
    SOURCE #configPaymentGroupControls
      #/// <summary>
      #/// Configs the payment group controls based on the value of field <c>BankDocumentType</c>
      #/// </summary>
      #private void configPaymentGroupControls()
      #{
      #    boolean flag;
      #
      #    flag = !purchTable.isMarkedForBankLC();
      #
      #    purchTable_DS.object(fieldNum(PurchTable, Payment)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, FixedDueDate)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, PaymMode)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, PaymSpec)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, PaymentSched)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, CashDisc)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, CashDiscPercent)).allowEdit(flag);
      #    purchTable_DS.object(fieldNum(PurchTable, SettleVoucher)).allowEdit(flag);
      #}
    ENDSOURCE
    SOURCE #createAgreementLink
      #public void createAgreementLink()
      #{
      #    AgreementLine                           localAgreementLine;
      #    Args                                    args;
      #    FormRun                                 formRun;
      #    PurchTableForm_DlvScheduleSyncEnabled   purchTableFormDlvSchedule;
      #    PurchLine                               origPurchLine;
      #
      #    args = new Args(formStr(AgreementLinePrompt));
      #    args.caller(element);
      #    args.record(purchLine);
      #    args.parm(int642str(purchTable.MatchingAgreement));
      #    formRun = classfactory.formRunClass(args);
      #    formRun.init();
      #    formRun.run();
      #    formRun.wait(true);
      #    localAgreementLine = args.record() as AgreementLine;
      #
      #    if (localAgreementLine)
      #    {
      #        // Make a pre-associated copy of the current purchase line.
      #        origPurchLine = purchLine.data().orig();
      #        if (isPurchLine_INEnabled || isPurchLine_WEnabled)
      #        {
      #            origPurchLine.SysExtensionSerializerMap::copyExtensionTableData(purchLine, true);
      #        }
      #
      #        ttsbegin;
      #
      #        PurchTableForm::createAgreementLinkServer(purchLine, localAgreementLine);
      #
      #        if (purchLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            purchTableFormDlvSchedule = purchTableForm as PurchTableForm_DlvScheduleSyncEnabled;
      #            purchTableFormDlvSchedule.parmOrderLineOrig(origPurchLine);
      #            if (purchTableFormDlvSchedule.deliveryLinesSync(purchLine, false))
      #            {
      #                // Need to refresh delivery lines on grid.
      #                purchLine_DS.executeQuery();
      #            }
      #        }
      #
      #        ttscommit;
      #        purchLine_DS.research(true);
      #
      #        this.enableAgreementButtons();
      #    }
      #}
    ENDSOURCE
    SOURCE #disableConsInvoiceControl_JP
      #/// <summary>
      #/// Disable the consolidation invoice related controls.
      #/// </summary>
      #public void disableConsInvoiceControl_JP()
      #{
      #    if (!VendConsInvoiceType_JP::isVendConsInvoiceEnabled())
      #    {
      #        purchTable_ds.object(fieldNum(PurchTable, ConsTarget_JP)).visible(false);
      #        consTarget_JP.visible(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #distributionFormClosed
      #/// <summary>
      #/// Method called upon closing of the <c>AccountingDistribution</c> form.
      #/// </summary>
      #public void distributionFormClosed()
      #{
      #    purchTable_ds.reread();
      #    purchTable_ds.refresh();
      #    purchTable_ds.selectionChanged();
      #}
    ENDSOURCE
    SOURCE #docCursor
      #public Common docCursor()
      #{
      #    Common docCursor;
      #
      #    docCursor = super();
      #
      #    if (docCursor.TableId == tableNum(InventDim))
      #    {
      #        docCursor = purchLine;
      #    }
      #
      #    return docCursor;
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #public void doRefresh(boolean _lineRefreshNeeded = false)
      #{
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
      #    {
      #        purchTable_ds.reread();
      #        purchTable_ds.refresh();
      #
      #        if (_lineRefreshNeeded)
      #        {
      #            purchLine_ds.reread();
      #            purchLine_ds.refresh();
      #        }
      #        else
      #        {
      #            purchLine_ds.research();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #editPurch
      #public void editPurch(boolean _allowEdit, boolean _allowDelete = _allowEdit)
      #{
      #    boolean allowEditEmplAccount_RU;
      #    purchTable_ds.allowEdit    (_allowEdit);
      #    purchTable_ds.allowDelete  (_allowEdit && _allowDelete);
      #    purchLine_ds.allowEdit     (_allowEdit);
      #    purchLine_ds.allowCreate   (_allowEdit);
      #    purchLine_ds.allowDelete   (_allowEdit && _allowDelete);
      #    if (advanceHoldersEnabled)
      #    {
      #        allowEditEmplAccount_RU = PaymTerm::isEmplAccountUsed_RU(purchTable.Payment);
      #        purchTable_W_ds.object(fieldNum(PurchTable_W, EmplAccount_RU)).allowEdit(allowEditEmplAccount_RU);
      #        purchTable_ds.object(fieldNum(PurchTable, CashDisc)).allowEdit(!allowEditEmplAccount_RU);
      #    }
      #}
    ENDSOURCE
    SOURCE #enableAdvanceAction
      #/// <summary>
      #/// Enables advance action button on header when <c>PurchaseType</c> field of <c>PurchTable</c> table has <c>PurchaseType::Purch</c> enum value .
      #/// </summary>
      #[SysObsoleteAttribute('Prepay elements are controlled by the PurchTableInteraction class', true)]
      #public void enableAdvanceAction()
      #{
      #
      #}
    ENDSOURCE
    SOURCE #enableAgreementButtons
      #protected void enableAgreementButtons()
      #{
      #    boolean agreementLineEnabled, createLinkEnabled, removeLinkEnabled;
      #
      #    [agreementLineEnabled, createLinkEnabled, removeLinkEnabled] = purchTableForm.getEnabledAgreementButtons(purchTable, purchLine);
      #
      #    agreementLine.enabled(agreementLineEnabled);
      #    createLink.enabled(createLinkEnabled);
      #    removeLink.enabled(removeLinkEnabled);
      #
      #    buttonPurchAgreement.enabled(purchTable.MatchingAgreement);
      #}
    ENDSOURCE
    SOURCE #enableApplyDEPB_IN
      #boolean enableApplyDEPB_IN()
      #{
      #    boolean ret;
      #    if (eximPurchLine_IN.EximIncentiveSchemeGroup)
      #    {
      #        ret = EximSetOffRulesTable_IN::checkUtilizedDEPBLicense(eximPurchLine_IN.EximIncentiveSchemeGroup);
      #    }
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #enableContractNumber_SA
      #public void enableContractNumber_SA()
      #{
      #    purchTable_ContractNum_SA.enabled(VendInfoZakat_SA::findByVendAccount(purchTable.OrderAccount).IsSubcontractor);
      #}
    ENDSOURCE
    SOURCE #enableDepreciationStartDate
      #//
      #// This method enables/disables depreciation start date control
      #//
      #void enableDepreciationStartDate(boolean _setDate = true)
      #{
      #    AssetBook assetBook;
      #
      #    assetBook = AssetBook::find(purchLine.AssetId, purchLine.AssetBookId);
      #    if (assetBook && (purchLine.AssetTransTypePurch == AssetTransTypePurch::Acquisition || purchLine.AssetTransTypePurch == AssetTransTypePurch::AcquisitionAdj) &&
      #    !assetBook.depreciationStarted() && assetBook.DepreciationConvention == AssetDepreciationConvention::None)
      #    {
      #        if (!depreciationStartDate.enabled())
      #        {
      #            depreciationStartDate.enabled(true);
      #            purchLine.setDepreciationStartDate(_setDate);
      #        }
      #    }
      #    else
      #    {
      #        purchLine.setDepreciationStartDate(true);
      #        depreciationStartDate.enabled(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #enabledVATTaxAgent_RU
      #void enabledVATTaxAgent_RU()
      #{
      #    vatTaxAgent_RU.allowEdit(! PurchLine::exist(purchTable.PurchId));
      #}
    ENDSOURCE
    SOURCE #enableFieldsActive_IN
      #public void enableFieldsActive_IN()
      #{
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, DirectSettlement_IN)).enabled(purchLine_IN.ExciseType_IN == ExciseType_IN::Manufacturer);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, cenvatCreditAvailed_IN)).enabled(purchLine_IN.ExciseRecordType_IN == ExciseRecordType_IN::RG23C    &&
      #                                                                             purchLine_IN.DirectSettlement_IN == DirectSettlement_IN::PLA      &&
      #                                                                             purchLine.PurchQty < 0                                         &&
      #                                                                             taxParameters.Excise_IN);
      #    customsImportAssessableValue_IN.enabled(purchTable_W.CustomsImportOrder_IN == NoYes::Yes    &&
      #                                            taxParameters.Customs_IN == NoYes::Yes);
      #    purchLine_CustomsMaxRetailPrice_IN.visible(purchTable_W.CustomsImportOrder_IN == NoYes::Yes &&
      #                                               taxParameters.Customs_IN == NoYes::Yes);
      #    purchLine_MaximumRetailPrice_IN.enabled(purchTable_W.CustomsImportOrder_IN == NoYes::No);
      #    element.setEximFieldsAccess_IN();
      #}
    ENDSOURCE
    SOURCE #enableForeignTrade_RU
      #void enableForeignTrade_RU()
      #{
      #    purchLine_W_ds.object(fieldNum(PurchLine_W, InvoiceGTDId_RU)).enabled(
      #        purchLine_W_ds.object(fieldNum(PurchLine_W, CountryRegionName_RU)).enabled(
      #            purchLine.isCategoryBased()));
      #}
    ENDSOURCE
    SOURCE #enableInvoice4PaymButtons
      #public void enableInvoice4PaymButtons()
      #{
      #    purchTableForm.enableInvoice4PaymButton_RU(buttonUpdateInvoice4Paym_RU);
      #    buttonProformaInvoice4Paym_RU.enabled(buttonUpdateInvoice4Paym_RU.enabled());
      #}
    ENDSOURCE
    SOURCE #enableLedgerDimensionDefaultAccount
      #public void enableLedgerDimensionDefaultAccount()
      #{
      #    if (purchLine.canEditLedgerDimensionDefaultAccount())
      #    {
      #        purchLine_LedgerDimension.allowEdit(true
      #            && (! isRU || this.allowEditLedgerAccount_RU())
      #        );
      #
      #    }
      #    else
      #    {
      #        if (purchLine.IsFinalized == NoYes::No)
      #        {
      #            if (!isRU || purchLine_W.MarkupCode_RU)
      #            {
      #                purchLine.LedgerDimension = 0;
      #            }
      #        }
      #        purchLine_LedgerDimension.allowEdit(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #enableLinePBAActions
      #public void enableLinePBAActions()
      #{
      #    boolean isPBAExecuteButtonEnabled;
      #    isPBAExecuteButtonEnabled = purchTableForm.isPBAExecuteButtonEnabled(purchLine);
      #
      #    pbaExecute.enabled(isPBAExecuteButtonEnabled);
      #}
    ENDSOURCE
    SOURCE #enableMarkupCode_RU
      #public void enableMarkupCode_RU()
      #{
      #    if (isRU)
      #    {
      #        purchLine_W_ds.object(fieldNum(PurchLine_W, MarkupCode_RU))
      #            .enabled(purchLine.isMarkupCodeEnabled_RU());
      #    }
      #}
    ENDSOURCE
    SOURCE #enableProjSalesPrice
      #public void enableProjSalesPrice()
      #{
      #    boolean mustDefaultCostPriceAsSalesPrice;
      #    boolean isTiedToItemReq;
      #
      #    if (purchLine.ProjId)
      #    {
      #        if (!purchLine.ItemId && ProjParameters::find().DefaultCostPriceAsSalesPrice)
      #        {
      #            mustDefaultCostPriceAsSalesPrice = true;
      #        }
      #
      #        if(purchTable.isProjectSalesItemReqPO())
      #        {
      #            isTiedToItemReq = true;
      #        }
      #
      #        if (ProjInvoiceTable::isSalesCurrencyLocked(ProjTable::find(purchLine.ProjId).ProjInvoiceProjId))
      #        {
      #            purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).allowEdit(false);
      #            purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).skip(true);
      #        }
      #        else
      #        {
      #            purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).allowEdit(!mustDefaultCostPriceAsSalesPrice);
      #            purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).skip(mustDefaultCostPriceAsSalesPrice);
      #        }
      #
      #        purchLine_ds.object(fieldNum(PurchLine, ProjSalesPrice)).allowEdit(!mustDefaultCostPriceAsSalesPrice && !isTiedToItemReq);
      #    }
      #}
    ENDSOURCE
    SOURCE #enableRetentionProject
      #void enableRetentionProject()
      #{
      #    if(isConfigurationkeyEnabled(configurationKeyNum(PSAAPRetainage)))
      #    {
      #        if(purchLine.ProjId)
      #        {
      #            purchLine_PSARetainScheduleId.visible(true);
      #        }
      #        else
      #        {
      #            purchLine_PSARetainScheduleId.visible(false);
      #        }
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #enableServiceFields_BR
      #public void enableServiceFields_BR()
      #{
      #    InventTable inventTable;
      #    boolean     enable;
      #
      #    select firstonly ItemType from inventTable where inventTable.ItemId == purchLine.ItemId;
      #
      #    enable = inventTable.ItemType == ItemType::Service;
      #
      #    purchLine_ds.object(fieldNum(PurchLine, TaxServiceCode_BR)).allowEdit(enable);
      #}
    ENDSOURCE
    SOURCE #enableTMSFields
      #public void enableTMSFields()
      #{
      #    TMSTransportationTemplateId transTempId;
      #    TMSCarrierCode              carrierCode;
      #    TMSCarrierGroupCode         carrierGroupCode;
      #    TMSModeCode                 modeCode;
      #    boolean                     modeCodeEnabled;
      #
      #    transTempId         = tmsPurchTable.TransportationTemplateId;
      #    carrierCode         = tmsPurchTable.CarrierCode;
      #    carrierGroupCode    = tmsPurchTable.CarrierGroupCode;
      #    modeCode            = tmsPurchTable.ModeCode;
      #    modeCodeEnabled     = tmsPurchTable.ModeCode != '' && tmsPurchTable.CarrierCode == '';
      #
      #    tmsPurchTable_ds.object(fieldNum(TMSPurchTable, ModeCode)).allowEdit(!(carrierCode || transTempId || carrierGroupCode));
      #    tmsPurchTable_ds.object(fieldNum(TMSPurchTable, CarrierCode)).allowEdit(!(transTempId ||carrierGroupCode || modeCodeEnabled));
      #    tmsPurchTable_ds.object(fieldNum(TMSPurchTable, CarrierServiceCode)).allowEdit(!(transTempId || carrierGroupCode || modeCodeEnabled));
      #    tmsPurchTable_ds.object(fieldNum(TMSPurchTable, CarrierGroupCode)).allowEdit(!(transTempId || carrierCode || modeCode));
      #    tmsPurchTable_ds.object(fieldNum(TMSPurchTable, TransportationTemplateId)).allowEdit(!(carrierCode || carrierGroupCode || modeCode));
      #}
    ENDSOURCE
    SOURCE #endDiscount
      #public void endDiscount()
      #{
      #    purchTable.updateFinalDisc();
      #    purchtable_ds.refresh();
      #
      #}
    ENDSOURCE
    SOURCE #filenameLookupFilename
      #str filenameLookupFilename()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #filenameLookupFilter
      #FilenameFilter filenameLookupFilter()
      #{
      #    return ["@SYS54806",'*.*',"@SYS98008",'*.jpg', "@MCR33266",'*.gif', "@SYS98008",'*.jpg',"@MCR33267",'*.tif',"@MCR33268",'*.bmp'];
      #}
    ENDSOURCE
    SOURCE #filenameLookupInitialPath
      #str filenameLookupInitialPath()
      #{
      #    return filePath;
      #}
    ENDSOURCE
    SOURCE #filenameLookupTitle
      #str filenameLookupTitle()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #filePathLookupTitle
      #str filePathLookupTitle()
      #{
      #    return '';
      #}
    ENDSOURCE
    SOURCE #fillPackageTree
      #/// <summary>
      #/// Fill Package Tree
      #/// </summary>
      #void fillPackageTree()
      #{
      #    ImageRes    imageRes    = imageListAppl_PurchTableForm.image(#imageFolder);
      #
      #    TreeItemIdx     purchIdx,packageIdx,packageLineIdx;
      #    PurchLine       purchLineSearch;
      #    RetailPackagePurch packagePurch;
      #    ;
      #    packageTree.deleteAll();
      #
      #    purchIdx = SysFormTreeControl::addTreeItem(packageTree,
      #                                               "@RET4405" + purchTable.PurchId,
      #                                               FormTreeAdd::Root,
      #                                               "@SYS15812",
      #                                               imageRes,
      #                                               true);
      #
      #
      #    while select packagePurch
      #    where packagePurch.PurchId == purchTable.PurchId
      #    {
      #        packageIdx = SysFormTreeControl::addTreeItem(packageTree,
      #                                                     "@RET4406" + packagePurch.PackageId + '  ' +
      #                                                     RetailPackageTable::find(packagePurch.PackageId).PackageName +
      #                                                     '  ' + "@RET4407" + num2str(packagePurch.Qty,2,2,0,0),
      #                                                     purchIdx,
      #                                                     packagePurch,
      #                                                     imageRes,
      #                                                     true);
      #
      #        while select ItemId, PurchQty from purchLineSearch
      #        where purchLineSearch.PurchId           == purchTable.PurchId &&
      #              purchLineSearch.RetailPackageId   == packagePurch.PackageId &&
      #              purchLineSearch.rboPackageLineNum == packagePurch.LineNum
      #        {
      #            packageLineIdx = SysFormTreeControl::addTreeItem(packageTree,
      #                                                             purchLineSearch.ItemId + '  ' +
      #                                                             InventTable::find(purchLineSearch.ItemId).defaultProductName() +
      #                                                             '  ' + "@RET4407" + num2str(purchLineSearch.PurchQty,2,2,0,0),
      #                                                             packageIdx,
      #                                                             "@SYS7407",
      #                                                             imageRes,
      #                                                             false);
      #        }
      #
      #    }
      #
      #    SysFormTreeControl::expandTree(packageTree, packageTree.getRoot(), 1);
      #
      #
      #}
    ENDSOURCE
    SOURCE #formBOEJournalClosed_IN
      #/// <summary>
      #/// BOE Journal form close event handler
      #/// </summary>
      #public void formBOEJournalClosed_IN()
      #{
      #    purchTable_ds.research(true);
      #}
    ENDSOURCE
    SOURCE #formControlIsDataBound
      #private boolean  formControlIsDataBound(Object  _formControl)
      #{
      #    FormControlType formControlType = SysFormRun::controlType(classIdGet(_formControl));
      #    boolean         ret             = false;
      #
      #    if (formControlType == FormControlType::CheckBox
      #    ||  formControlType == FormControlType::ComboBox
      #    ||  formControlType == FormControlType::ListBox
      #    ||  formControlType == FormControlType::RadioButton
      #    ||  formControlType == FormControlType::String
      #    ||  formControlType == FormControlType::StaticText
      #    ||  formControlType == FormControlType::Date
      #    ||  formControlType == FormControlType::Integer
      #    ||  formControlType == FormControlType::Real
      #    ||  formControlType == FormControlType::Time
      #    ||  formControlType == FormControlType::Image
      #    ||  formControlType == FormControlType::Grid
      #    ||  formControlType == FormControlType::TabPage)
      #    {
      #        ret = true;
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #handleSecurity
      #void handleSecurity(FormDataSource _fds, boolean _hasAccess)
      #{
      #    if (_fds && !_fds.allowCheck() && !_hasAccess)
      #    {
      #        _fds.query().dataSourceNo(1).enabled(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #hasTableAccess
      #boolean hasTableAccess(TableId _tableId, AccessType _neededAccessLevel = AccessType::View)
      #{
      #    DictTable dictTable = new DictTable(_tableId);
      #
      #    if (dictTable)
      #    {
      #        return dictTable.rights() >= _neededAccessLevel;
      #    }
      #    return false;
      #}
    ENDSOURCE
    SOURCE #hideQualityManagement
      #void hideQualityManagement()
      #{
      #    status_qualityOrderStatusDisplay.visible(false);
      #    statusLine_qualityOrderStatusDisplay.visible(false);
      #    purchTable_qualityOrderStatusDisplay.visible(false);
      #    purchLine_qualityOrderStatusDisplay.visible(false);
      #
      #    lineStripProductQualitySeparator.visible(false);
      #    inventNonConformanceTableTableHeader.visible(false);
      #    inventQualityOrderTableTableHeader.visible(false);
      #    inventNonConformanceTableLine.visible(false);
      #    inventQualityOrderTableLine.visible(false);
      #}
    ENDSOURCE
    SOURCE #init
      #public void  init()
      #{
      #    Object              caller;
      #    boolean             wasCalledFromPurchLineBackOrderListPage = this.isCalledFromPurchLineBackOrderListPage();
      #    boolean             isFrenchRegulatoryEnabled = PublicSectorUtils::isFrenchRegulatoryEnabled();
      #
      #    imageListAppl_PurchTableForm = ImageListAppl_PurchTableForm::construct();
      #
      #    #ISOCountryRegionCodes
      #
      #    isPurchLine_INEnabled   = PurchLine_IN::isExtensionEnabled();
      #    isPurchLine_WEnabled    = PurchLine_W::isExtensionEnabled();
      #    isPurchTableEnabled_W   = PurchTable_W::isExtensionEnabled();
      #    isPurchTableEnabled_BR   = PurchTable_BR::isExtensionEnabled();
      #    isPurchTableEnabled_RU   = PurchTable_RU::isExtensionEnabled();
      #
      #    isCalledFromLP = TradeFormHelper::isCalledFromForm(element.args(), formStr(PurchTableListPage));
      #
      #    if (element.args())
      #    {
      #        if (!element.args().record() && element.args().lookupRecord())
      #        {
      #            //Called from EP
      #            element.args().record(element.args().lookupRecord());
      #            element.args().lookupRecord(null);
      #        }
      #    }
      #
      #    if (element.args() && !isCalledFromLP)
      #    {
      #        element.args().copyCallerQuery(CopyCallerQuery::No);
      #    }
      #
      #    zakatParameterEnabled = LedgerParameters::find().IsZakatEnabled_SA;
      #    // </GSA
      #    this.initCalledFromVendorSearch();
      #    super();
      #    isDocuActionTemplate = DocuActionForTemplate::createTemplateOnMenuButton(mbTemplatesButton, purchTable.TableId);
      #    FormSecurity::setFormDataSourceMaxAccessRight(this);
      #
      #    if (isConfigurationkeyEnabled(configurationKeyNum(RAsset)))
      #    {
      #        itemTypeCache = new Map(Types::String, Types::Enum);
      #    }
      #
      #    isRU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #
      #    if (isRU)
      #    {
      #        itemInventDimSetupCache = new Map(Types::String, Types::Enum);
      #    }
      #
      #    advanceHoldersEnabled = EmplParameters_RU::enableAdvanceHolders();
      #
      #    purchTableBudgetCheckResult.imageList(imageListAppl_PurchTableForm.imageList());
      #    purchLineBudgetCheckResult.imageList(imageListAppl_PurchTableForm.imageList());
      #
      #    dimensionDefaultingControllerHeader = DimensionDefaultingController::constructInGroupWithValues(false, true, true, 0, this, groupFinancialDimensionHeader , "@SYS101181");
      #    dimensionDefaultingControllerHeader.parmAttributeValueSetDataSource(purchTable_ds, fieldStr(PurchTable, DefaultDimension));
      #
      #    DimensionDefaultingController::initContainerId(groupFinancialDimensionLine, 2);
      #    dimensionDefaultingControllerLine = DimensionDefaultingController::constructInGroupWithValues(false, true, true, 0, this, groupFinancialDimensionLine , "@SYS101181");
      #    dimensionDefaultingControllerLine.parmAttributeValueSetDataSource(purchLine_ds, fieldStr(PurchLine, DefaultDimension));
      #
      #    ledgerDefaultAccountControllerLine = LedgerDimensionDefaultAccountController::construct(purchLine_ds, fieldStr(PurchLine, LedgerDimension));
      #    ledgerDefaultAccountControllerLine.parmControl(purchLine_LedgerDimension);
      #
      #    // Initialization specifically for projects
      #    // Only show purchase orders associated to projects if form is called from the project main menu
      #    if (element.args().parmEnumType() == enumNum(PurchTableFormId) && element.args().parmEnum() == PurchTableFormId::Project)
      #    {
      #        if (! element.args().record()) // called from menu
      #        {
      #            purchTable_ds.query().dataSourceTable(tableNum(PurchTable)).addRange(fieldNum(PurchTable, ProjId)).value(SysQuery::valueNotEmptyString());
      #        }
      #
      #        isProjectForm = true;
      #    }
      #
      #    // Initialization for call from PuchLineBackOrderListForm
      #    if (wasCalledFromPurchLineBackOrderListPage)
      #    {
      #        this.applyBackOrderLinesSelection();
      #        purchTableForm = PurchTableForm::construct(PurchTableFormId::None, element.args().record());
      #    }
      #    else
      #    {
      #        purchTableForm = PurchTableForm::constructFromArgs(this.args());
      #    }
      #
      #    purchTableForm.parmPurchTableFormRun(element);
      #    purchTableForm.parmDimensionDefaultingControllerHeader(dimensionDefaultingControllerHeader);
      #
      #    TaxVATNumTable::enableLookupVATNum(vatNum);
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #    lineSpec.visibleColsValue(8+conLen(inventDimFormSetup.dimFieldsActive(inventDimFormSetup.parmDimParmVisibleGrid())));
      #
      #    purchTable_ds.object(fieldNum(PurchTable, PurchaseType)).allowEdit(purchTableForm.editPurchaseType());
      #    purchTable_ds.query(purchTableForm.queryPurchTable(purchTable_ds.query()));
      #    purchLine_ds.query(purchTableForm.queryPurchLine(purchLine_ds.query()));
      #
      #    groupNotificationToTheCentralBank.visible(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]));
      #
      #    if (!TaxParameters::find().CashDiscOnInvoice)
      #    {
      #        purchTable_ds.object(fieldNum(PurchTable, CashDiscPercent)).allowEdit(false);
      #    }
      #
      #    interCompanySalesCache = new Map(typeName2Type(extendedTypeStr(RecId)), Types::Container);
      #
      #    if (!InventParameters::find().UseQualityManagement)
      #    {
      #        element.hideQualityManagement();
      #    }
      #
      #    //Hide 1099 Tab if neither 1099G or 1099S keys are enabled
      #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector))
      #            && !(isConfigurationkeyEnabled(configurationKeyNum(Tax1099G)) || isConfigurationkeyEnabled(configurationKeyNum(Tax1099S))))
      #    {
      #        tabLineTax1099.visible(false);
      #    }
      #
      #    // Hide the Environment tab
      #    environment.visible(false);
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
      #    {
      #        taxWithholdParameters   = TaxWithholdParameters_IN::find();
      #        taxParameters           = TaxParameters::find();
      #        eximParameters          = EximParameters_IN::find();
      #
      #        taxExciseTypeController = TaxExciseTypeController_IN::construct(exciseNone_IN,
      #                                                                        exciseManufacture_IN,
      #                                                                        exciseTraders_IN,
      #                                                                        taxInformation_IN_ECCNumber,
      #                                                                        taxInformation_IN_ManECCRegistrationNumberTable,
      #                                                                        taxInformation_IN_TraderECCRegistrationNumberTable,
      #                                                                        purchLine_IN_DS);
      #        taxExciseTypeController.parmFieldNumDirectSettlement(fieldNum(PurchLine_IN, DirectSettlement_IN));
      #        taxExciseTypeController.parmFieldNumDSA(fieldNum(PurchLine_IN, dsa_in));
      #
      #        element.setVisible_IN();
      #        element.updateDesign_IN();
      #        element.setTaxWithholdVisible_IN();
      #    }
      #
      #    if (LedgerParameters::find().IsEncumbranceProcessEnabled == NoYes::No)
      #    {
      #        buttonSubLedgerJournalLines.visible(false);
      #        encumbranceSummary.visible(false);
      #        ledgerTransact.visible(false);
      #    }
      #    else
      #    {
      #        buttonSubLedgerJournalLines.visible(true);
      #        encumbranceSummary.visible(true);
      #        ledgerTransact.visible(true);
      #    }
      #
      #    purchParameters = PurchParameters::find();
      #    if (purchParameters.ChangeRequestEnabled == NoYes::No &&
      #        purchParameters.ChangeRequestAllowOverride == NoYes::No)
      #    {
      #        workflowEnabled = false;
      #    }
      #    else
      #    {
      #        workflowEnabled = true;
      #    }
      #
      #    element.design().workflowEnabled(workflowEnabled);
      #
      #    bankLGFeatureChecker    = BankLGFeatureChecker::construct();
      #    enableLGFeature         = bankLGFeatureChecker.checkFeatureEnabled();
      #    bankLGRequestForm.visible(enableLGFeature);
      #
      #    bankLCImportFeatureChecker = BankLCImportFeatureChecker::construct();
      #    enableLCFeature            = bankLCImportFeatureChecker.checkFeatureEnabled();
      #    purchTable_DS.object(fieldNum(PurchTable, BankDocumentType)).visible(enableLCFeature || enableLGFeature);
      #    buttonCreateBankLCImport.visible(enableLCFeature);
      #
      #    zakat_SA.visible(zakatParameterEnabled);
      #
      #    headerForeignTrade_ListCode.visible(IntrastatParameters::find().euSalesListTransferPurchases);
      #
      #    lineDeliveryType.imageList(imageListAppl_PurchTableForm.imageList());
      #
      #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
      #    {
      #        packageTree.setImagelist(imageListAppl_PurchTableForm.imageList());
      #        packageTree.setStateImagelist(imageListAppl_PurchTableForm.imageList());
      #    }
      #
      #    // Needed to check validity of address
      #    logisticsPostalAddressHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    logisticsPostalAddressHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    logisticsPostalAddressLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #
      #
      #    //if the Purchase Requisition control is enabled, then disable it if the commitments feature is enabled.
      #    if (purchReq_PurchReqId.enabled())
      #    {
      #        purchReq_PurchReqId.enabled(!isFrenchRegulatoryEnabled);
      #    }
      #
      #    //Make the commitments fields mandatory and visible if the feature is enabled, otherwise hide them and make them non-mandatory.
      #    purchCommitmentLineLookup_PSN.visible(isFrenchRegulatoryEnabled);
      #    purchCommitmentLineLookup_PSN.mandatory(isFrenchRegulatoryEnabled);
      #
      #
      #    purchCommitmentLineLookup2_PSN.visible(isFrenchRegulatoryEnabled);
      #    purchCommitmentLineLookup2_PSN.mandatory(isFrenchRegulatoryEnabled);
      #
      #    commitment_PSN.visible(isFrenchRegulatoryEnabled);
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoJP]))
      #    {
      #        element.disableConsInvoiceControl_JP();
      #    }
      #
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesPurchOperationTypeController_BR = new SalesPurchOperationTypeController_BR(this.name());
      #        purchTable_BR_DS.object(fieldNum(PurchTable_BR, cfpsId_BR)).visible(BrazilParameters::isCFPSEnabled_BR());
      #    }
      #
      #    if (VendAdvanceInvoice::isDeactivated())
      #    {
      #        prepayPurchTableHeading.visible(false);
      #        buttonRemovePurchPrepayTable.visible(false);
      #        buttonUpdatePrepayInvoice.visible(false);
      #    }
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
      #    {
      #        purchTable_DS.object(fieldNum(PurchTable, StatProcId)).visible(false);
      #        purchLine_DS.object( fieldNum(PurchLine,  StatProcId)).visible(false);
      #    }
      #
      #    if (element.args().parmEnumType() == enumNum(FormOpenMode))
      #    {
      #        caller = element.args().caller();
      #        if (caller && caller is SysSetupFormRun)
      #        {
      #            skipLinkActive = element.args().parmEnum() == FormOpenMode::ForNew;
      #        }
      #    }
      #
      #    if (RetailSMB::IsRetailSMBEnabled())
      #    {
      #        RetailSMB::SetVisible(element);
      #    }
      #    MCRPriceHistory.visible(purchParameters.MCREnablePriceDetails);
      #}
      #
      #
      #
    ENDSOURCE
    SOURCE #initCalledFromVendorSearch
      #private void initCalledFromVendorSearch()
      #{
      #    Object                      myCaller;
      #    VendTmpCurrentVendorResult  vendTmpCurrentVendorResult;
      #
      #    wasCalledFromVendorSearch = false;
      #
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #        if (myCaller && myCaller is FormRun)
      #        {
      #            if (element.args().caller().name() == formStr(VendSearchResults))
      #            {
      #                wasCalledFromVendorSearch   = true;
      #                vendTmpCurrentVendorResult  = element.args().record();
      #                vendAccountSearch           = vendTmpCurrentVendorResult.VendorAccountNum;
      #            }
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #interCompanyIsPriceDiscSearchNeeded
      #RecId interCompanyIsPriceDiscSearchNeeded()
      #{
      #    return interCompanyIsPriceDiscSearchNeeded;
      #}
    ENDSOURCE
    SOURCE #interCompanyRefreshCache
      #void interCompanyRefreshCache()
      #{
      #    interCompanySalesCache = new Map(typeName2Type(extendedTypeStr(RecId)), Types::Container);
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
    ENDSOURCE
    SOURCE #invoiceMatchingAccess
      #public void invoiceMatchingAccess()
      #{
      #    invoiceMatching.visible(VendParameters::find().editUseInvoiceMatching());
      #}
    ENDSOURCE
    SOURCE #IS_writeTmpFrmVirtual
      #// IS HVP.IMP0425 12.01.2015 K.Iliev HV_06027 Create Purchase Order ->
      #void IS_writeTmpFrmVirtual(TmpFrmVirtual _tmpFrmVirtual, TableId _tableId, RecId _recId, Num _id, LineNum _lineNum = 0, TransDate _transDate = systemDateGet(), Qty _qty = 0)
      #{
      #    _tmpFrmVirtual.clear();
      #
      #    _tmpFrmVirtual.tableNum     = _tableid;
      #    _tmpFrmVirtual.recordNo     = _recId;
      #    _tmpFrmVirtual.id           = _id;
      #    _tmpFrmVirtual.num          = _lineNum;
      #    _tmpFrmVirtual.transDate    = _transDate;
      #    _tmpFrmVirtual.qty          = _qty;
      #
      #    _tmpFrmVirtual.write();
      #}
      #// <-
    ENDSOURCE
    SOURCE #isCalledFromPurchLineBackOrderListPage
      #private boolean isCalledFromPurchLineBackOrderListPage()
      #{
      #    return TradeFormHelper::isCalledFromForm(element.args(), formStr(PurchLineBackOrderListPage));
      #}
    ENDSOURCE
    SOURCE #lineTaxTransSource
      #public void lineTaxTransSource()
      #{
      #    element.automaticTotalDiscount();
      #
      #    PurchTotals::showTaxLine(menuitemDisplayStr(TaxTmpWorkPurchOrder), purchTable,purchLine);
      #}
    ENDSOURCE
    SOURCE #markupTransFormClosed
      #public void markupTransFormClosed()
      #{
      #    // Update budget check result for changes from edit
      #    purchLine_ds.updateBudgetCheckResultDisplay();
      #
      #    if (isPurchLine_INEnabled)
      #    {
      #        purchLine_IN_ds.reread();
      #        purchLine_IN_ds.refresh();
      #    }
      #    if (isPurchLine_WEnabled)
      #    {
      #        purchLine_W_ds.reread();
      #        purchLine_W_ds.refresh();
      #    }
      #
      #    if(purchTable.MCRDropShipment)
      #    {
      #        purchLine_ds.research();
      #    }
      #
      #    purchTable_ds.reread();
      #    purchTable_ds.refresh();
      #    purchTable_ds.selectionChanged();
      #}
    ENDSOURCE
    SOURCE #multiLineDiscount
      #/// <summary>
      #/// Calculates multi line discounts.
      #/// </summary>
      #public void multiLineDiscount()
      #{
      #    element.automaticTotalDiscount();
      #
      #    if (purchTable.updateMultiLineDisc())
      #    {
      #        purchLine_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #nextGroup
      #void  nextGroup()
      #{
      #    if (!PurchLine::exist(purchTable.PurchId))
      #    {
      #        purchLine_ds.create();
      #    }
      #
      #    purchLine_ItemId.setFocus();
      #}
    ENDSOURCE
    SOURCE #numberSeqFormHandler
      #NumberSeqFormHandler numberSeqFormHandler()
      #{
      #    // Activate number sequence handler
      #    if (!numberSeqFormHandler)
      #    {
      #        numberSeqFormHandler = NumberSeqFormHandler::newForm(EMSParameter::numRefFlowId().NumberSequenceId,
      #                                                         element,
      #                                                         emsPurchOrderFlowRelation_ds,
      #                                                         fieldNum(EMSPurchOrderFlowRelation, FlowId));
      #    }
      #    return numberSeqFormHandler;
      #}
    ENDSOURCE
    SOURCE #packageAllowEdit
      #/// <summary>
      #/// Package Allow Edit
      #/// </summary>
      #/// <param name="allowEdit">
      #/// True to allow Edit, False otherwise
      #/// </param>
      #void packageAllowEdit(boolean allowEdit)
      #{
      #    purchLine_ds.object(fieldNum(PurchLine, ItemId)).allowEdit(allowEdit && purchLine_ds.object(fieldNum(PurchLine, ItemId)).allowEdit());
      #    purchLine_ds.object(fieldNum(PurchLine, VariantId)).allowEdit(allowEdit);
      #    if (!pdsIsCWItem(purchLine.ItemId))
      #    {
      #        purchLine_ds.object(fieldNum(PurchLine, PurchQty)).allowEdit(allowEdit && purchLine_ds.object(fieldNum(PurchLine, PurchQty)).allowEdit());
      #    }
      #    purchLine_ds.object(fieldNum(PurchLine, PurchUnit)).allowEdit(allowEdit && purchLine_ds.object(fieldNum(PurchLine, PurchUnit)).allowEdit());
      #    inventDim_ds.allowEdit(allowEdit && inventDim_ds.allowEdit());
      #    retailPackagePurch_ds.object(fieldNum(RetailPackagePurch, Qty)).allowEdit(allowEdit);
      #
      #}
    ENDSOURCE
    SOURCE #parmPostalAddressLocation
      #public LogisticsLocationRecId parmPostalAddressLocation(LogisticsLocationRecId _postalAddressLocation = 0)
      #{
      #    if (!_postalAddressLocation)
      #    {
      #        // Set location by active datasource
      #        if (element.dataSource().name() == purchLine_ds.name())
      #        {
      #            _postalAddressLocation = purchLine.deliveryLocation();
      #        }
      #        else
      #        {
      #            _postalAddressLocation = purchTable.deliveryLocation();
      #        }
      #    }
      #
      #    postalAddressLocation = _postalAddressLocation;
      #    return postalAddressLocation;
      #}
    ENDSOURCE
    SOURCE #pbaConfigureLine
      #void pbaConfigureLine()
      #{
      #    PBATablePBAInstance   pbaTablePBAInstance;
      #
      #    purchLine_DS.write();
      #
      #    if (PCRuntimeLibrary::isConstraintBasedConfigurable(purchLine.ItemId))
      #    {
      #        PCExecuteVariantConfiguration::execute(purchLine, purchLine.ItemId, inventDim.ConfigId);
      #    }
      #    else
      #    {
      #        if (!autoConfig )
      #        {
      #            PBAExecute::execute(purchLine,pbaTablePBAInstance, '');
      #        }
      #
      #        autoConfig = false;
      #    }
      #
      #    purchline_ds.research(true);
      #}
    ENDSOURCE
    SOURCE #PrintManagement
      #/// <summary>
      #/// Launch the print management setup form.
      #/// </summary>
      #public void PrintManagement()
      #{
      #    PrintMgmtSetupContext setupContext = new PrintMgmtSetupContext();
      #
      #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Purch, PrintMgmtNodeType::PurchTable);
      #    setupContext.parmCaller(element);
      #    setupContext.parmReferencedTableBuffer(purchTable_ds.cursor());
      #    setupContext.parmCountryRegionId(LogisticsPostalAddress::findRecId(purchTable.DeliveryPostalAddress).CountryRegionId);
      #    PrintMgmt::launchSetup(setupContext);
      #}
    ENDSOURCE
    SOURCE #purchLineResearch
      #void purchLineResearch()
      #{
      #    purchLine_ds.research();
      #}
    ENDSOURCE
    SOURCE #purchTable
      #PurchTable purchTable()
      #{
      #    return purchTable;
      #}
    ENDSOURCE
    SOURCE #refreshPurchLine_IN
      #public void refreshPurchLine_IN()
      #{
      #    purchLine_ds.reread();
      #    purchLine_ds.refresh();
      #    purchLine_IN_ds.reread();
      #    purchLine_IN_ds.refresh();
      #    purchLine_W_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #removeAgreementLink
      #public void removeAgreementLink()
      #{
      #    PurchTableForm_DlvScheduleSyncEnabled purchTableFormDlvSchedule;
      #    PurchLine       origPurchLine = purchLine.orig().data();
      #    boolean doNotAsk;
      #
      #
      #    if (purchLine.unLinkAgreementLinePrompt())
      #    {
      #        // When the user manually removes a link to an agreement line, then also prevent automatic (re)linking of agreement lines
      #        purchLine.AgreementSkipAutoLink = NoYes::Yes;
      #
      #        if (purchLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            purchTableFormDlvSchedule = purchTableForm as PurchTableForm_DlvScheduleSyncEnabled;
      #            purchTableFormDlvSchedule.parmOrderLineOrig(origPurchLine);
      #            if (purchTableFormDlvSchedule.deliveryLinesSync(purchLine, doNotAsk))
      #            {
      #                // Need to update delivery lines on grid.
      #                purchLine_DS.executeQuery();
      #            }
      #        }
      #        purchLine_DS.research(true);
      #        this.enableAgreementButtons();
      #    }
      #}
    ENDSOURCE
    SOURCE #resetAssetContainers
      #/// <summary>
      #///     Resets the asset containers to empty.
      #/// </summary>
      #public void resetAssetContainers()
      #{
      #    assetRules              = conNull();
      #    assetQualifierList      = new List(Types::Container);
      #    selectedAssetQualifier  = '';
      #}
    ENDSOURCE
    SOURCE #run
      #public void run()
      #{
      #    super();
      #    docuActionTemplateUndefined.visible(!isDocuActionTemplate);
      #
      #    if (RetailSMB::IsRetailSMBEnabled())
      #    {
      #        RetailUtils::HidePart(element, identifierStr(PurchEncumbranceSummaryPart));
      #    }
      #}
    ENDSOURCE
    SOURCE #selectControl
      #public boolean selectControl(FormControl _control)
      #{
      #    boolean  ok;
      #
      #    ok = super(_control);
      #
      #    if (ok  &&  workflowEnabled && _control  &&  element.formControlIsDataBound(_control))
      #    {
      #        element.toggleWorkflow_ds(_control);
      #    }
      #
      #    return ok;
      #}
    ENDSOURCE
    SOURCE #setAccountingDistributionView
      #public void setAccountingDistributionView(AccountingDistributionView    _accountingDistributionView)
      #{
      #    purchTableForm.subscribeToAccDistViewEvents(_accountingDistributionView);
      #}
    ENDSOURCE
    SOURCE #setAllowEdit1099GFields
      #/// <summary>
      #/// Sets the 1099G fields to be editable if G-2 is selected
      #/// </summary>
      #/// <remarks>
      #/// When G-2 is selected, the fields are set as editable, when it is not selected they are uneditable
      #/// </remarks>
      #void setAllowEdit1099GFields()
      #{
      #    boolean     canEdit;
      #    boolean     canEditTax1099;
      #    #Tax1099
      #
      #    canEditTax1099 = purchLine.allowEditTax1099();
      #
      #    canEdit = purchTableForm.can1099GFieldsBeEdited(purchLine) && canEditTax1099;
      #
      #    tax1099GFields.allowEdit(canEdit);
      #
      #    canEdit = purchTableForm.can1099G1FieldsBeEdited(purchLine) && canEditTax1099;
      #
      #    tax1099G1Fields.allowEdit(canEdit);
      #}
    ENDSOURCE
    SOURCE #setAllowEdit1099SFields
      #/// <summary>
      #/// Sets the editable state of S-2 fields based on the value of S-2
      #/// </summary>
      #/// <remarks>
      #/// When S-2 is selected the fields are editable, when it is not selected they are not editable.
      #/// </remarks>
      #void setAllowEdit1099SFields()
      #{
      #    boolean canEdit;
      #
      #    #Tax1099
      #
      #    canEdit = purchTableForm.can1099SFieldsBeEdited(purchLine) && purchLine.allowEditTax1099();
      #
      #    tax1099SFields.allowEdit(canEdit);
      #}
    ENDSOURCE
    SOURCE #setAllowEditTax1099
      #/// <summary>
      #/// Sets the editable status of tax1099Amount and tax1099StateAmount based upon the invoice status
      #/// </summary>
      #/// <remarks>
      #/// If the record is marked as Invoiced then the fields are not editable.
      #/// </remarks>
      #void setAllowEditTax1099()
      #{
      #    boolean canEdit;
      #    Tax1099Fields tax1099Fields;
      #    #Tax1099
      #
      #    canEdit = purchLine.allowEditTax1099();
      #
      #    purchLine_ds.object(fieldNum(PurchLine, Tax1099Fields)).allowEdit(canEdit);
      #    purchLine_ds.object(fieldNum(PurchLine, Tax1099Amount)).allowEdit(canEdit);
      #    purchLine_ds.object(fieldNum(PurchLine, Tax1099State)).allowEdit(canEdit);
      #    purchLine_ds.object(fieldNum(PurchLine, Tax1099StateAmount)).allowEdit(canEdit);
      #
      #    //Amounts on setup tab are not editable for 1099-S
      #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
      #    {
      #        tax1099Fields = Tax1099Fields::find(purchLine.Tax1099Fields);
      #
      #        if (canEdit && (tax1099Fields.Tax1099Box == #S_2))
      #        {
      #            line1099Fields_Tax1099Amount.allowEdit(false);
      #            line1099Fields_Tax1099StateAmount.allowEdit(false);
      #        }
      #        else
      #        {
      #            line1099Fields_Tax1099Amount.allowEdit(true);
      #            line1099Fields_Tax1099StateAmount.allowEdit(true);
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #setCFOP_BR
      #public RefRecId setCFOP_BR(boolean _userInteraction = false)
      #{
      #    CFOPValidation_BR           cfopValidation;
      #    RefRecId                    cfopTableRecId;
      #
      #    cfopValidation  = CFOPValidation_BR::construct(purchTable);
      #
      #    cfopTableRecId = cfopValidation.getDefaultCFOP(_userInteraction);
      #
      #    return cfopTableRecId;
      #}
      #
    ENDSOURCE
    SOURCE #setControls
      #void setControls()
      #{
      #    // Disable the Substance and Destination Process fields if the Source Process is not setup yet
      #    flow_SubstanceId.enabled(emsFlow.SourceProcessId ? true : false);
      #    flow_DestinationProcessId.enabled(emsFlow.SourceProcessId ? true : false);
      #}
    ENDSOURCE
    SOURCE #setEditCommitmentLineAllowed
      #/// <summary>
      #/// Enables or disables editability of the commitment line field.
      #/// </summary>
      #/// <param name="_allowEdit">
      #/// Whether to enable editing.
      #/// </param>
      #void setEditCommitmentLineAllowed(boolean _allowEdit)
      #{
      #    if (PublicSectorUtils::isFrenchRegulatoryEnabled())
      #    {
      #        purchLine_ds.object(fieldNum(PurchLine, PurchCommitmentLine_PSN)).allowEdit(_allowEdit);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #setEditItemCategoryAllowed
      #/// <summary>
      #/// Enables or disables editing of the item and procurement category fields.
      #/// </summary>
      #/// <param name="allowEdit">
      #/// Whether to enable editing.
      #/// </param>
      #void setEditItemCategoryAllowed(boolean allowEdit)
      #{
      #    purchLine_ds.object(fieldNum(PurchLine, ItemId)).allowEdit(allowEdit);
      #
      #    if (BrazilParameters::isEnabled())
      #    {
      #        purchLine_ds.object(fieldNum(PurchLine, ProcurementCategory)).allowEdit(false);
      #    }
      #    else
      #    {
      #        purchLine_ds.object(fieldNum(PurchLine, ProcurementCategory)).allowEdit(allowEdit);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #setEditLinenumberAllowed
      #/// <summary>
      #/// Enables or disables editing of the line number field.
      #/// </summary>
      #/// <param name="_allowEdit">
      #/// A bolean specifying whether editing is allowed.
      #/// </param>
      #void setEditLinenumberAllowed(boolean _allowEdit)
      #{
      #    purchLine_ds.object(fieldNum(PurchLine, LineNumber)).allowEdit(_allowEdit);
      #}
    ENDSOURCE
    SOURCE #setEximFieldsAccess_IN
      #public void setEximFieldsAccess_IN()
      #{
      #    boolean           isVisible;
      #    boolean           isInvoice;
      #
      #    isVisible = (taxParameters.EximIncentiveSchemes_IN && purchTable_W.CustomsImportOrder_IN);
      #    isInvoice = (purchLine.PurchQty > 0);
      #
      #    exim_IN.visible(isVisible);
      #    eximPurchLine_IN_ApplyDEPB.visible(isVisible && eximParameters.ActivateEPCG);
      #    incentiveSchemeGroup_IN.visible(isVisible);
      #
      #    exim_IN.allowEdit(isInvoice);
      #    eximPurchLine_IN_ApplyDEPB.allowEdit(isInvoice);
      #    incentiveSchemeGroup_IN.enabled(isInvoice);
      #}
    ENDSOURCE
    SOURCE #setIsPwpField
      #public void setIsPwpField()
      #{
      #    if (!isConfigurationkeyEnabled(configurationKeyNum(Project3)))
      #    {
      #        return;
      #    }
      #
      #    if (ProjLineProperty::find(purchline.ProjLinePropertyId).ToBeInvoiced)
      #    {
      #        purchline_ds.object(fieldNum(PurchLine, IsPwp)).allowEdit(true);
      #    }
      #    else
      #    {
      #        purchline_ds.object(fieldNum(PurchLine, IsPwp)).allowEdit(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #setLineDefaults
      #/// <summary>
      #/// Sets default values to be used when creating an order line.
      #/// </summary>
      #public void setLineDefaults()
      #{
      #    Object      callerFormObject;
      #
      #    // Make sure this was called via a form.
      #    if (element.args().caller() && element.args().caller() is FormRun)
      #    {
      #        if (element.args().caller().name() == formStr(ReqSupplyDemandSchedule))
      #        {
      #            callerFormObject = element.args().caller();
      #
      #            if (formHasMethod(callerFormObject, identifierStr(parmItemId)))
      #            {
      #                defaultItemId = callerFormObject.parmItemId();
      #            }
      #
      #            if (formHasMethod(callerFormObject, identifierStr(defaultInventDim)))
      #            {
      #                defaultInventDim = callerFormObject.defaultInventDim();
      #            }
      #
      #            if (formHasMethod(callerFormObject, identifierStr(getFromDate)))
      #            {
      #                defaultDate = callerFormObject.getFromDate();
      #            }
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #void setTaxWithholdEnabled_IN()
      #{
      #
      #    purchTable_W_ds.object(fieldNum(PurchTable_W, tcsGroup_IN)).enabled(!purchTable_W.tdsGroup_IN &&
      #                                                                    taxWithholdParameters.tcsActivate);
      #    purchTable_W_ds.object(fieldNum(PurchTable_W, tdsGroup_IN)).enabled(!purchTable_W.tcsGroup_IN &&
      #                                                                    taxWithholdParameters.tdsActivate);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, tcsGroup_IN)).enabled(!purchLine_IN.tdsGroup_IN    &&
      #                                                                   taxWithholdParameters.tcsActivate);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, tdsGroup_IN)).enabled(!purchLine_IN.tcsGroup_IN    &&
      #                                                                   taxWithholdParameters.tdsActivate);
      #    buttonWithholdTax_IN.enabled((purchLine_IN.tdsGroup_IN || purchLine_IN.tcsGroup_IN) &&
      #                                 (taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate));
      #    if (purchLine.InventRefId && purchLine.InventRefTransId && !purchTable.isInterCompanyOrder())
      #    {
      #        purchTable_W_ds.object(fieldNum(PurchTable_W, tcsGroup_IN)).enabled(!purchLine.InventRefId      &&
      #                                                                        !purchLine.InventRefTransId &&
      #                                                                         taxWithholdParameters.tcsActivate);
      #        purchTable_W_ds.object(fieldNum(PurchTable_W, tdsGroup_IN)).enabled(!purchLine.InventRefId      &&
      #                                                                        !purchLine.InventRefTransId &&
      #                                                                         taxWithholdParameters.tdsActivate);
      #        purchLine_IN_ds.object(fieldNum(PurchLine_IN, tcsGroup_IN)).enabled(!purchLine.InventRefId        &&
      #                                                                      !purchLine.InventRefTransId   &&
      #                                                                       taxWithholdParameters.tcsActivate);
      #        purchLine_IN_ds.object(fieldNum(PurchLine_IN, tdsGroup_IN)).enabled(!purchLine.InventRefId        &&
      #                                                                      !purchLine.InventRefTransId   &&
      #                                                                       taxWithholdParameters.tdsActivate);
      #    }
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, SoftwareDeclReceived_IN)).enabled((purchLine_IN.tdsGroup_IN != ''));
      #}
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #void setTaxWithholdVisible_IN()
      #{
      #    purchTable_W_ds.object(fieldNum(PurchTable_W, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    purchTable_W_ds.object(fieldNum(PurchTable_W, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    buttonWithholdTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    withholdingTax.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #}
    ENDSOURCE
    SOURCE #setTitleText
      #public void setTitleText()
      #{
      #    headerTitle.text(strFmt('%1 : %2 - %3', purchTable.PurchId,
      #                                            purchTable.InvoiceAccount,
      #                                            purchTable.vendTable_InvoiceAccount().name()));
      #}
    ENDSOURCE
    SOURCE #setupAsset
      #/// <summary>
      #///     Sets asset group on the line based on asset rules defined.
      #/// </summary>
      #/// <param name = "_purchLine">
      #///     A <c>Purchline</c> buffer based on which asset rules needs to be looked up.
      #/// </param>
      #/// <returns>
      #///     true if an asset group can be set and if no user selection is required; otherwise, false.
      #/// </returns>
      #boolean setupAsset(PurchLine _purchLine)
      #{
      #    container       optionContainer;
      #    container       assetQualifierContainer;
      #    int             i;
      #    boolean         ret;
      #    str             temp;
      #    ListEnumerator  valueList;
      #
      #    ret = true;
      #
      #    //Find asset information only for lines which are being created or lines which already have asset information set
      #    //For purchase lines where asset information was not set when created, there should not be any re-evaluation for asset rules.
      #    if (_purchLine.ProcurementCategory
      #        && purchTable.PurchaseType == PurchaseType::Purch
      #        && (!purchLine.RecId || purchLine.CreateFixedAsset)
      #        && !assetRules)
      #    {
      #        if (AssetParameters::canAssetBeAutoCreated())
      #        {
      #            assetRules = PurchTableForm::setupAssetGroup(_purchLine);
      #        }
      #
      #        //Load assetQualifierList
      #        if (conLen(assetRules) > 0)
      #        {
      #            optionContainer = conPeek(assetRules, #AssetOptionContainerPosition);
      #
      #            if (conLen(optionContainer) != 0)
      #            {
      #                //Load asset qualifier options
      #                if (!_purchLine.AssetGroup)
      #                {
      #                    //Asset group does not exist but qualifiers exist; User needs to select a qualifier
      #                    ret = checkFailed("@SYS136416");
      #                }
      #
      #                assetQualifierList = new List(Types::Container);
      #                for (i = 1; i < conLen(optionContainer); i += 3)
      #                {
      #                    assetQualifierContainer = [conPeek(optionContainer, i), conPeek(optionContainer, i+1)];
      #                    assetQualifierList.addEnd(assetQualifierContainer);
      #
      #                    valueList = assetQualifierList.getEnumerator();
      #
      #                    temp = conPeek(assetQualifierContainer, #AssetOptionContainerGroupPosition);
      #
      #                    if (_purchLine.AssetGroup == temp)
      #                    {
      #                        selectedAssetQualifier = conPeek(assetQualifierContainer, #AssetOptionContainerTextPosition);
      #                    }
      #                }
      #            }
      #        }
      #    }
      #
      #    if (assetQualifierList && !assetQualifierList.empty())
      #    {
      #        //Qualifier options exist, so load asset info controls
      #        element.design().controlName(#grpAssetQualifier).visible(true);
      #        txtAssetQualifierQuestion.text(conPeek(assetRules, #AssetQualifierTextPosition));
      #        editAssetQualifier.text(selectedAssetQualifier);
      #        editAssetQualifier.mandatory(true);
      #    }
      #    else
      #    {
      #        element.design().controlName(#grpAssetQualifier).visible(false);
      #        editAssetQualifier.mandatory(false);
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #setupEnvironmentalTab
      #/// <summary>
      #/// Set the environmetal tab visibility and the enabled state.
      #/// </summary>
      #/// <remarks>
      #/// Environmental tab is visible for selected vendor and items. Environmental tab is enabled when a <c>PurchLine</c> record exists in the form.
      #/// </remarks>
      #public void setupEnvironmentalTab()
      #{
      #    // Environment tab is only shown for selected vendor and items
      #    environment.visible(isConfigurationkeyEnabled(configurationKeyNum(EMS)) &&
      #                         EMSActivation::isActive(purchTable.OrderAccount , purchLine.ItemId , purchLine.InventDimId));
      #
      #    environment.enabled(purchLine.RecId != 0);
      #    environmentActionPane.enabled(purchLine.RecId != 0);
      #
      #    if (isConfigurationkeyEnabled(configurationKeyNum(psaPwp)))
      #    {
      #        if (ProjTable::setFieldPwpThresholdPercent(ProjTable::find(purchLine.ProjId)))
      #        {
      #            purchLine_IsPwp.visible(true);
      #            psaPwpPercent.visible(true);
      #        }
      #        else
      #        {
      #            purchLine_IsPwp.visible(false);
      #            psaPwpPercent.visible(false);
      #        }
      #
      #        element.setIsPwpField();
      #
      #        if (purchLine.IsPwp)
      #        {
      #            buttonSubledgerdistribution.enabled(false);
      #            buttonSourceDocumentDistributionHeader.enabled(false);
      #        }
      #        else
      #        {
      #            buttonSubledgerdistribution.enabled(true);
      #            buttonSourceDocumentDistributionHeader.enabled(true);
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #setVisible_IN
      #private void setVisible_IN()
      #{
      #    TaxParameters       taxParametersLoc = TaxParameters::find();
      #    boolean             isTaxParametersMarked   = TaxParameters::checkTaxParameters_IN();
      #
      #    exciseNone_IN.visible(true);
      #    exciseTraders_IN.visible(false);
      #    exciseManufacture_IN.visible(false);
      #    purchTable_W_ds.object(fieldNum(PurchTable_W, CustomsImportOrder_IN)).visible(taxParametersLoc.Customs_IN);
      #
      #    companyInformation.visible(isTaxParametersMarked);
      #    tabTaxInformation_IN.visible(isTaxParametersMarked || TaxWithholdParameters_IN::checkTaxParameters());
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, AssessableValue_IN)).visible(isTaxParametersMarked);
      #    purchLine_IN_ds.object(fieldNum(PurchLine_IN, MaximumRetailPrice_IN)).visible(isTaxParametersMarked);
      #    excise_IN.visible(taxParametersLoc.Excise_IN);
      #    customs_IN.visible(taxParametersLoc.Customs_IN);
      #    exim_IN.visible(taxParametersLoc.Customs_IN && taxParametersLoc.EximIncentiveSchemes_IN);
      #    serviceTax_IN.visible(taxParametersLoc.ServiceTax_IN);
      #    indiaSalesTax.visible(taxParametersLoc.SalesTax_IN);
      #    indiaVAT.visible(taxParametersLoc.vat_in);
      #}
    ENDSOURCE
    SOURCE #setWidthHeight
      #void setWidthHeight()
      #{
      #    element.design(1).width(element.design(1).widthValue());
      #    element.design(1).height(element.design(1).heightValue());
      #}
    ENDSOURCE
    SOURCE #shouldHeaderChangeRequestsBeEnabled
      #protected boolean shouldHeaderChangeRequestsBeEnabled()
      #{
      #    return purchTable.ChangeRequestRequired;
      #}
    ENDSOURCE
    SOURCE #shouldHeaderInterCompanyBeEnabled
      #protected boolean shouldHeaderInterCompanyBeEnabled()
      #{
      #    return purchTable.isInterCompanyOrder();
      #}
    ENDSOURCE
    SOURCE #shouldLineInterCompanyBeEnabled
      #protected boolean shouldLineInterCompanyBeEnabled()
      #{
      #    return purchTable.isInterCompanyOrder() && !purchLine.isCategoryBased();
      #}
    ENDSOURCE
    SOURCE #showDeliveryAddressFiscalInformation_BR
      #/// <summary>
      #/// Shows or hides Address fiscal information depending on the Purchase type.
      #/// The fields should not be showed if the Purchase type is ReturnItem
      #/// </summary>
      #public void showDeliveryAddressFiscalInformation_BR()
      #{
      #    if(purchTable.PurchaseType == PurchaseType::ReturnItem)
      #    {
      #        headerDlvAddressFiscalInformation_BR.visible(true);
      #        lineDlvAddressFiscalInformation_BR.visible(true);
      #    }
      #    else
      #    {
      #        headerDlvAddressFiscalInformation_BR.visible(false);
      #        lineDlvAddressFiscalInformation_BR.visible(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #showInactiveAddressBar
      #public void showInactiveAddressBar()
      #{
      #    LogisticsLocationEntity::showHideEffectiveAddressMessageBar(element, logisticsPostalAddressHeader, logisticsPostalAddressLine);
      #}
    ENDSOURCE
    SOURCE #tmsSetCarrierFieldsFromDlvMode
      #public void tmsSetCarrierFieldsFromDlvMode(DlvModeId   _dlvModeId)
      #{
      #    TMSCarrierService carrierService;
      #
      #    carrierService = TMSCarrierService::findByDlvModeId(_dlvModeId);
      #
      #    tmsPurchTable.CarrierCode           = carrierService.CarrierCode;
      #    tmsPurchTable.CarrierServiceCode    = carrierService.CarrierServiceCode;
      #    tmsPurchTable.ModeCode              = TMSCarrier::find(carrierService.CarrierCode).ModeCode;
      #
      #    tmsPurchTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #tmsUpdatePurchTable
      #/// <summary>
      #/// Updates purchase order when transportation fields are updated
      #/// </summary>
      #public void tmsUpdatePurchTable()
      #{
      #    purchTable.DlvMode = TMSCarrierService::findDlvModeId(tmsPurchTable.CarrierCode, tmsPurchTable.CarrierServiceCode);
      #
      #    purchTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #toggleWorkflow_ds
      #private void  toggleWorkflow_ds(Object  _formControl)
      #{
      #    Object  parentControl;
      #
      #    int     dataSourceId;
      #    int     oldWorkflow_ds;
      #
      #    // The reference fields does not point to a datasource in the design,
      #    // but the reference group (parent control) does
      #    parentControl = _formControl.parentControl();
      #    if (parentControl  &&  parentControl is FormReferenceGroupControl)
      #    {
      #        dataSourceId = parentControl.dataSource();
      #    }
      #    else
      #    {
      #        dataSourceId = _formControl.dataSource();
      #    }
      #
      #    oldWorkflow_ds = element.design().workflowDatasource();
      #
      #    // Return if the form datasource isn't changed or it is empty
      #    if (!dataSourceId || dataSourceId == oldWorkflow_ds)
      #    {
      #        return;
      #    }
      #
      #    // Distinguish between header and line-item workflow
      #    if (dataSourceId == purchLine_ds.id()
      #    ||  dataSourceId == purchLineForeignTradeCategory_ds.id()
      #    ||  dataSourceId == inventDim_ds.id()
      #    ||  dataSourceId == emsPurchOrderFlowRelation_ds.id()
      #    ||  dataSourceId == emsFlow_ds.id())
      #    {
      #        // Return if the workflow datasource isn't changed
      #        if (oldWorkflow_ds == purchLine_ds.id())
      #        {
      #            return;
      #        }
      #
      #        // Only enable "line-items" when the header already has been submitted
      #        if (!element.canSubmitToWorkflow())
      #        {
      #            element.design().workflowDatasource(purchLine_ds.id());
      #            element.design().workflowType(workFlowTypeStr(PurchLineTemplate));
      #
      #            element.updateWorkflowControls();
      #        }
      #    }
      #    else
      #    {
      #        // Return if the workflow datasource isn't changed
      #        if (oldWorkflow_ds == purchTable_ds.id())
      #        {
      #            return;
      #        }
      #
      #        element.design().workflowDatasource(purchTable_ds.id());
      #        element.design().workflowType(workFlowTypeStr(PurchTableTemplate));
      #
      #        element.updateWorkflowControls();
      #    }
      #}
    ENDSOURCE
    SOURCE #updateControlsForFrenchConfirmedPO
      #/// <summary>
      #/// Enables or disables specific controls for purchase orders that have been confirmed at some point in the past.
      #/// </summary>
      #/// <remarks>
      #/// This is only used for the French regulatory feature.
      #/// </remarks>
      #public void updateControlsForFrenchConfirmedPO()
      #{
      #    boolean canEnable;
      #
      #    if (PublicSectorUtils::isFrenchRegulatoryEnabled())
      #    {
      #        canEnable = purchTable.canModifyPurchaseOrder();
      #
      #        purchLine_ds.allowDelete(canEnable);
      #        purchLine_ds.allowCreate(canEnable);
      #
      #        // Header buttons
      #        buttonPurchCancel.enabled(canEnable);
      #        purchaseCalculate.enabled(canEnable);
      #        purchOrderMiscCharges.enabled(canEnable);
      #
      #        // Grid buttons
      #        lineStripNew.enabled(canEnable);
      #        buttonLineQuickQuote.enabled(canEnable);
      #        lineStripDelete.enabled(canEnable);
      #        buttonLineExpandBOM.enabled(canEnable);
      #        markupTrans_LinePurchTable.enabled(canEnable);
      #
      #        // Grid fields
      #        purchLine_PurchQtyGrid.allowEdit(canEnable);
      #        purchLine_PurchPriceGrid.allowEdit(canEnable);
      #        purchLine_LineDiscGrid.allowEdit(canEnable);
      #        purchLine_LinePercentGrid.allowEdit(canEnable);
      #        purchLine_LineAmountGrid.allowEdit(canEnable);
      #        purchLine_PurchUnitGrid.allowEdit(canEnable);
      #        purchCommitmentLineLookup_PSN.allowEdit(canEnable);
      #
      #        // Line details tab fields
      #        lineSalesTax_TaxItemGroup.allowEdit(canEnable);
      #        lineSalesTax_TaxGroup.allowEdit(canEnable);
      #        lineDisc.allowEdit(canEnable);
      #        linePercent.allowEdit(canEnable);
      #        multiLnDisc.allowEdit(canEnable);
      #        multiLnPercent.allowEdit(canEnable);
      #        purchLine_PriceUnit.allowEdit(canEnable);
      #        purchLine_PurchMarkup.allowEdit(canEnable);
      #        projectCostPrice_PurchQty.allowEdit(canEnable);
      #        projectCostPrice_PurchPrice.allowEdit(canEnable);
      #        projectCostPrice_LineAmount.allowEdit(canEnable);
      #        purchCommitmentLineLookup2_PSN.allowEdit(canEnable);
      #    }
      #}
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode)
      #{
      #    InventMovement movement = InventMovement::construct(purchLine);
      #    Set            validInventDimDSset;
      #    InventDimControlIdCollection inventDimControlIdCollection;
      #    boolean emptyLine;
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init:
      #            if (!inventDimFormSetup)
      #            {
      #                validInventDimDSset = new Set(Types::String);
      #                validInventDimDSset.add(inventDim_ds.name());
      #                inventDimControlIdCollection = InventDimControlIdCollection::construct();
      #                inventDimControlIdCollection.add(storageDimensionsLine.id(), false);
      #                inventDimControlIdCollection.add(trackingDimesions.id(), false);
      #                inventDimControlIdCollection.add(productDimensions.id(), false);
      #                inventDimControlIdCollection.add(inventoryDimensionsGrid.id(), true);
      #                inventDimFormSetup = InventDimCtrl_Frm_Mov_OrderLine::newFromFormMovement(element, movement, validInventDimDSset
      #                , inventDimControlIdCollection
      #                );
      #
      #            }
      #        case InventDimFormDesignUpdate::Active,
      #             InventDimFormDesignUpdate::FieldChange:
      #            emptyLine = purchLine.ItemId == '' && purchLine.ProcurementCategory == 0;
      #            storageDimensionsLine.allowEdit(!emptyLine);
      #            trackingDimesions.allowEdit(!emptyLine);
      #            productDimensions.allowEdit(!emptyLine);
      #            inventoryDimensionsGrid.allowEdit(!emptyLine);
      #            if (!emptyLine)
      #            {//For performance reasons, only call the inventDimFormSetup if the order line has an item ID or Category ID.
      #                inventDimFormSetup.formActiveSetup(movement.inventDimGroupSetup(), movement);
      #                inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            }
      #            break;
      #
      #        default : throw error(strFmt("@SYS54195",funcName()));
      #    }
      #
      #    purchLine_DS.updateDesignForProject();
      #}
    ENDSOURCE
    SOURCE #updateDesign_IN
      #public void updateDesign_IN()
      #{
      #    if(!taxParameters)
      #    {
      #        taxParameters = TaxParameters::find();
      #    }
      #    if (taxParameters.ServiceTax_IN)
      #    {
      #        taxItemGroupHeadingRev = TaxItemGroupHeading::find(purchLine.TaxItemGroup);
      #    }
      #    if (purchTable_W.CustomsImportOrder_IN)
      #    {
      #        if (TaxParameters::find().ServiceTax_IN)
      #        {
      #            purchLine_IN_ds.object(fieldNum(PurchLine_IN, IsRecoverableServiceTax_IN)).visible(true);
      #        }
      #        else
      #        {
      #            purchLine_IN_ds.object(fieldNum(PurchLine_IN, IsRecoverableServiceTax_IN)).visible(false);
      #        }
      #
      #    }
      #    else
      #    {
      #        if (taxParameters.ServiceTax_IN)
      #        {
      #            if (taxItemGroupHeadingRev.ServiceTaxBasis_IN == ServiceTaxBasis_IN::CashBasis)
      #            {
      #                purchLine_IN_ds.object(fieldNum(PurchLine_IN, IsRecoverableServiceTax_IN)).visible(false);// Legacy Cash behaviour kept intact.
      #            }
      #            else if (taxItemGroupHeadingRev.ReverseChargePercentage_IN != 0) // POTBasis
      #            {
      #                purchLine_IN_ds.object(fieldNum(PurchLine_IN, IsRecoverableServiceTax_IN)).visible(true);
      #            }
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #updateFormState
      #public void updateFormState(SourceDocumentLineRecId _sourceDocumentLineRecId)
      #{
      #    // Accounting distribution form has closed - update budget check result for changes from edit
      #    purchLine_ds.updateBudgetCheckResultDisplay();
      #}
    ENDSOURCE
    SOURCE #updateRFIDTagging
      #void  updateRFIDTagging()
      #{
      #    RFIDItemTaggingLevel    taggingLevel;
      #    boolean                 itemTagging;
      #    boolean                 caseTagging;
      #    boolean                 palletTagging;
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().InventSerialIdFlag)
      #    {
      #        itemTagging = true;
      #        caseTagging = true;
      #    }
      #    else
      #    {
      #        itemTagging = false;
      #        caseTagging = false;
      #    }
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().wmsPalletIdFlag
      #        &&  purchLine.inventTable().PalletTagging)
      #    {
      #        palletTagging = true;
      #    }
      #    else
      #    {
      #        palletTagging = false;
      #    }
      #
      #    if (itemTagging  ||  caseTagging)
      #    {
      #        taggingLevel = purchLine.inventTable().ItemTaggingLevel;
      #
      #        switch (taggingLevel)
      #        {
      #            case RFIDItemTaggingLevel::None :
      #                itemTagging = false;
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::ItemLevel :
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::CaseLevel :
      #                itemTagging = false;
      #                break;
      #        }
      #    }
      #
      #    purchLine_ds.object(fieldNum(PurchLine, ItemTagging)).allowEdit     ( itemTagging);
      #    purchLine_ds.object(fieldNum(PurchLine, ItemTagging)).skip          (!itemTagging);
      #    purchLine_ds.object(fieldNum(PurchLine, CaseTagging)).allowEdit     ( caseTagging);
      #    purchLine_ds.object(fieldNum(PurchLine, CaseTagging)).skip          (!caseTagging);
      #    purchLine_ds.object(fieldNum(PurchLine, PalletTagging)).allowEdit   ( palletTagging);
      #    purchLine_ds.object(fieldNum(PurchLine, PalletTagging)).skip        (!palletTagging);
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable
          Table               #PurchTable
          Index               #PurchIdx
          StartPosition       #Last
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PurchId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OrderAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine_ds.reread();
                #    purchLine_ds.refresh();
                #    purchTable_ds.rereadReferenceDataSources();
                #    if (isPurchTableEnabled_W)
                #    {
                #        purchTable_W_ds.refresh();
                #    }
                #    dimensionDefaultingControllerHeader.activated();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        purchTable.enableDataSourceFields_BR();
                #        purchTable_BR_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InvoiceAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    //IMP0321_HV_06002 A.Krastev 28.11.2014 ->
                #    purchTable.setTaxGroup(purchTable.getSalesTaxGroup());
                #    purchTable.setVendVATNumber();
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Email
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    LogisticsElectronicAddressLookup lookup = LogisticsElectronicAddressLookup::newParameters(_formControl);
                #
                #    lookup.addParty(purchTable.contactPerson().Party);
                #    lookup.addParty(purchTable.vendTable_OrderAccount().Party);
                #
                #    lookup.parmMethodType(LogisticsElectronicAddressMethodType::Email);
                #    lookup.performFormLookup();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    if (TaxParameters::isCustomsEnable_IN())
                #    {
                #        if (PurchTable::find(purchLine.PurchId).purchTable_W().CustomsImportOrder_IN == NoYes::Yes)
                #        {
                #            //When user changes the currency code. MRP defaulted from item is converted using Customs exchange rate for Export orders.
                #            purchLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(purchLine_IN.CustomsMaxRetailPrice_IN, purchTable.CurrencyCode, Direction_IN::Import, systemDateGet(), false);
                #        }
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    boolean allowEditEmplAccount_RU;
                #
                #    super();
                #
                #    if (advanceHoldersEnabled)
                #    {
                #        allowEditEmplAccount_RU = PaymTerm::isEmplAccountUsed_RU(purchTable.Payment);
                #        purchTable_W_ds.object(fieldNum(PurchTable_W, EmplAccount_RU)).allowEdit(allowEditEmplAccount_RU);
                #        purchTable_ds.object(fieldNum(PurchTable, CashDisc)).allowEdit(!allowEditEmplAccount_RU);
                #    }
                #
                #    //<--B.Idesman 02.12.2014 imp0310
                #         purchTable.calcDue_BG();
                #    //-->
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CashDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    CashDisc    cashDisc;
                #
                #    super();
                #
                #    cashDisc = CashDisc::find(purchTable.CashDisc);
                #    purchTable.CashDiscPercent = cashDisc.Percent;
                #
                #    purchTable.dataSource().refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VendGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerHeader.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.tmsSetCarrierFieldsFromDlvMode(purchTable.DlvMode);
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchaseType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Modifies the purchase lines when the purchase type is changed.
                #/// </summary>
                #/// <remarks>
                #/// This method calls the <c>modifyPurchaseType</c> method of the <c>PurchTableType</c> class to
                #/// so that the fixed asset information is cleared if necessary. The purchase line data source
                #/// is refreshed as the information may have been modified.
                #/// </remarks>
                #public void modified()
                #{
                #    super();
                #
                #    purchTableType = purchTable.type();
                #    purchTableType.modifyPurchaseType();
                #    element.configBankDocumentControls();
                #    purchLine_ds.refresh();
                #    element.enableAdvanceAction();
                #    if (BrazilParameters::isEnabled())
                #    {
                #        purchTable.enableDataSourceFields_BR();
                #        purchTable_ds.rereadReferenceDataSources();
                #        element.showDeliveryAddressFiscalInformation_BR();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD URL
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    LogisticsElectronicAddressLookup lookup = LogisticsElectronicAddressLookup::newParameters(_formControl);
                #
                #    lookup.addParty(purchTable.contactPerson().Party);
                #    lookup.addParty(purchTable.vendTable_OrderAccount().Party);
                #
                #    lookup.parmMethodType(LogisticsElectronicAddressMethodType::URL);
                #    lookup.performFormLookup();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymentSched
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    if (purchTable.PaymentSched)
                #    {
                #        buttonPaymentSchedule.enabled(true);
                #    }
                #    else
                #    {
                #        buttonPaymentSchedule.enabled(false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContactPersonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    purchTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchTable_ds.refresh();
                #
                #    //IMP0321_HV_06002 A.Krastev 28.11.2014 ->
                #    purchTable.setTaxGroup(purchTable.getSalesTaxGroup());
                #        //HUVEPHARMA_AX_IMPL IMP0354 B.FILIPOV 09.12.2014 ->
                #    //purchTable.setVendVATNumber();
                #    PurchTable.setCompanyVATNumber();
                #        //<-
                #    // <--
                #
                #
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (purchTable.InventSiteId)
                #    {
                #        InventLocation::lookupBySiteIdAllTypes(_formControl, purchTable.InventSiteId);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerHeader.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VATNum
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #        TaxVATNumTable::jumpRefVATNum(purchTable, element);
                #    else
                #        super();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #        TaxVATNumTable::lookupVATNum(vatNum,purchTable);
                #    else
                #        super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FixedDueDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    PaymCalendarAdjustedDate        paymCalendarAdjustedDate;
                #
                #    super();
                #
                #    // perform the payment calendar work only for the required countries
                #    if (SysCountryRegionCode::isLegalEntityInConsolidatedCountryRegion())
                #    {
                #        paymCalendarAdjustedDate = PaymCalendarSourcePurchaseOrder::getAdjustedDate(purchTable);
                #
                #        purchTable.FixedDueDate = PaymCalendarProcessor::getAdjustedDueDate(purchTable.FixedDueDate, priorDueDate, paymCalendarAdjustedDate);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContractNum_SA
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(
                #    FormControl _formControl,
                #    str         _filterStr)
                #{
                #    VendContractZakat_SA::lookupContracts(_formControl, purchTable.OrderAccount);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        purchTable_ds.cacheCalculateMethod(tableMethodStr(PurchTable, deliveryCNPJCPFNUM_BR));
                #        purchTable_ds.cacheCalculateMethod(tableMethodStr(PurchTable, deliveryIENum_BR));
                #    }
                #
                #    purchTable_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #
                #    //IMP0321_HV_06002 A.Krastev 28.11.2014 ->
                #    purchTable.setTaxGroup(purchTable.getSalesTaxGroup());
                #    purchTable.setVendVATNumber();
                #    // <--
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    LogisticsLocationSelectionLookup_Purch lookup;
                #
                #    lookup = LogisticsLocationSelectionLookup_Purch::newParameters(_formReferenceControl);
                #
                #    lookup.parmInventSiteId(purchTable.InventSiteId);
                #    lookup.parmInventLocationId(purchTable.InventLocationId);
                #
                #    lookup.addRoleByType(LogisticsLocationRoleType::Delivery);
                #    lookup.parmReturnLocation(false);
                #
                #    ret = lookup.performFormLookup();
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD BankDocumentType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.configBankDocumentControls();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AccountingDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = true;
                #
                #    if(!purchTable.checkAccountingDateFiscalYear())
                #    {
                #        purchTable.AccountingDate = purchTable.orig().AccountingDate;
                #        ret = false;
                #        Box::warning("@SYS335906");
                #    }
                #    else
                #    {
                #        ret = super();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    dimensionDefaultingControllerHeader.setNonActiveValueTolerance(ErrorTolerance::Warning, purchTable.AccountingDate);
                #    dimensionDefaultingControllerLine.setNonActiveValueTolerance(ErrorTolerance::Warning, purchTable.AccountingDate);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #reread_BR
          #public void reread_BR()
          #{
          #    purchTable_BR_ds.reread();
          #    purchTable_BR_ds.rereadReferenceDataSources();
          #    purchtable_BR_ds.refresh();
          #}
        ENDSOURCE
        SOURCE #enableJournalButtons
          #/// <summary>
          #///     Enables journal buttons.
          #/// </summary>
          #public void enableJournalButtons()
          #{
          #    #ISOCountryRegionCodes
          #
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
          #    {
          #        purchTableForm.parmButtonUpdateInvoiceRegistration_IN(buttonUpdateInvoiceRegistration_IN);
          #        purchTableForm.parmButtonUpdateBillOfEntry_IN(buttonUpdateBillOfEntry_IN);
          #        purchTableForm.parmButtonJournalBillOfEntry_IN(buttonJournalBillOfEntry_IN);
          #    }
          #
          #    // Enable journal buttons
          #    purchTableForm.enableUpdateJournalButtons(purchTable,
          #                                              buttonUpdatePurchaseOrder,
          #                                              buttonUpdateReceiptsList,
          #                                              buttonUpdatePackingSlip,
          #                                              buttonUpdateInvoice,
          #                                              buttonProformaPurchaseOrder,
          #                                              buttonProformaReceiptsList,
          #                                              buttonProformaPackingSlip,
          #                                              buttonProformaInvoice
          #                                              ,buttonUpdateInvoice4Paym_RU,
          #                                              buttonUpdateFacture_RU,
          #                                              factureEditLinesVend_RU,
          #                                              buttonProformaInvoice4Paym_RU,
          #                                              buttonProformaFacture_RU,
          #                                              factureEditLinesVend_Proforma_RU
          #                                              , buttonConfirmationRequest,
          #                                              mcrButtonDeliverMenuItemButton,
          #                                              mcrButtonReleaseMenuItemButton,
          #                                              mcrButtonProformaDeliver,
          #                                              mcrButtonProformaRelease);
          #    // Re-enable journal buttons when multiple orders are selected.
          #    buttonConfirm.enabled(buttonUpdatePurchaseOrder.enabled());
          #}
        ENDSOURCE
        SOURCE #enableDistributionTemplate
          #/// <summary>
          #/// Enables the <c>AccountingDistributionTemplate</c> field based on the purchase order header state.
          #/// </summary>
          #public void enableDistributionTemplate()
          #{
          #    distributionTemplateHeader.allowEdit(purchTable.canApplyAllocationOrDistributionTemplate());
          #}
          #
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    logisticsPostalAddressHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(), DateTimeUtil::maxValue());
          #    super();
          #}
        ENDSOURCE
        SOURCE #updateBudgetCheckResultDisplay
          #/// <summary>
          #/// Updates budget check result display cache.
          #/// </summary>
          #public void updateBudgetCheckResultDisplay()
          #{
          #    if (this.cacheCalculateMethod(tableMethodStr(PurchTable, displayBudgetCheckResult)))
          #    {
          #        purchTable_ds.refresh();
          #        // Must refresh form cache for ALL purchase order lines.
          #        purchLine_ds.research(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    Query  query;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(CostControlTransCommittedCost):
          #            purchTable_ds.autoQuery(false);
          #
          #            query   = new Query();
          #            queryBuildRangeProj = query.addDataSource(tableNum(PurchTable)).addRange(fieldNum(PurchTable, PurchId));
          #            purchTable_ds.query(query);
          #            break;
          #    }
          #
          #    super();
          #
          #    if ((TradeFormHelper::isCalledFromForm(element.args(), formStr(VendTable))
          #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(VendTableListPage)))
          #        && element.args().record().TableId == tableNum(VendTable))
          #    {
          #        this.query().dataSourceTable(tableNum(PurchTable)).clearDynalinks();
          #    }
          #
          #    if(InventParameters::find().UseQualityManagement)
          #    {
          #        purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, qualityOrderStatusDisplay), false);
          #    }
          #    purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, displayBudgetCheckResult), false);
          #    purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, displayDocumentStatus));
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
          #    {
          #        purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, agreementDocumentTitle_RU), true);
          #    }
          #
          #    if (BrazilParameters::isEnabled())
          #    {
          #        purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, deliveryCNPJCPFNUM_BR));
          #        purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, deliveryIENum_BR));
          #    }
          #    purchTable_ds.cacheAddMethod(tableMethodStr(PurchTable, editReasonComment));
          #
          #    //HUVEPHARMA_AX_IMPL IMP0354 B.FILIPOV 09.12.2014 ->
          #    //PurchTable.setCompanyVATNumber();
          #    //PurchTable.setTaxGroup(purchTable.getSalesTaxGroup());
          #    //PurchTable.setVendVATNumber();
          #    //<-
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #    List                    purchTable2LineUpdateFields;
          #    ListEnumerator          purchTable2LineUpdateFieldsEnumerator;
          #    PurchTable2LineField    purchTable2LineField;
          #
          #    ret = super();
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && purchTable.TaxGroup != purchTable.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(purchTable.TableId, purchTable.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #    if (ret)
          #    {
          #        purchTable2LineUpdatePrompt = PurchTable2LineUpdatePrompt::newExecuteExtendedPrompt(purchTable, copyTaxGroupToMarkupTrans);
          #        // If the purchTable2LineUpdatePrompt object is null no fields are to be updated.
          #        if(purchTable2LineUpdatePrompt)
          #        {
          #            ret = purchTable2LineUpdatePrompt.parmExtendedPromptReturnValue();
          #        }
          #    }
          #
          #    if (isRU
          #        && ret
          #        && purchTable2LineUpdatePrompt)
          #    {
          #        purchTable2LineUpdateFields = List::create(purchTable2LineUpdatePrompt.packedSalesPurchTableToLineUpdateFields());
          #
          #        purchTable2LineUpdateFieldsEnumerator = purchTable2LineUpdateFields.getEnumerator();
          #
          #        while (purchTable2LineUpdateFieldsEnumerator.moveNext())
          #        {
          #            purchTable2LineField = purchTable2LineUpdateFieldsEnumerator.current();
          #            if (purchTable2LineField.parmFieldId()          == PurchTable::fieldIdToInternalFieldId_W(fieldNum(PurchTable_RU, InventProfileId_RU), tableNum(PurchTable_RU))
          #                && purchTable2LineField.parmUpdateLines()   == NoYes::No)
          #            {
          #                // must be checked for possible inconsistence if user did not select to propagate inventProfileId to the order lines
          #                // otherwise it will be checked on sales order validateWrite() method
          #                ret = purchTable.checkInventProfile_RU(true);
          #            }
          #        }
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    DialogButton            copyAddress     = DialogButton::No;
          #    boolean                 convertCurrency = false;
          #    boolean                 rollBackCurrencyChange;
          #    TradeCurencyConversion  tradeCurrencyConversion;
          #    LogisticsPostalAddressRecId originalDeliveryPostalAddress;
          #    boolean                     mustReread;
          #    TMSPurchTable           newTMSPurchTable;
          #
          #    if (purchTable.checkUpdate())
          #    {
          #        if (PurchLine::exist(purchTable.PurchId) || MarkupTrans::exist(purchTable.TableId, purchTable.RecId))
          #        {
          #            if (purchTable.CurrencyCode != purchTable.orig().CurrencyCode)
          #            {
          #                [convertCurrency, tradeCurrencyConversion] = PurchTable::promptConvertCurrencyCode(purchTable);
          #                rollBackCurrencyChange = !convertCurrency;
          #            }
          #        }
          #
          #        if (PurchLine::exist(purchTable.PurchId))
          #        {
          #            if (purchTable.DeliveryPostalAddress != purchTable.orig().DeliveryPostalAddress)
          #            {
          #                copyAddress = PurchTable::promptCopyDeliveryAddress();
          #                originalDeliveryPostalAddress = purchTable.orig().DeliveryPostalAddress;
          #            }
          #        }
          #
          #        ttsbegin;
          #
          #        if (convertCurrency)
          #        {
          #            if (isConfigurationkeyEnabled(configurationKeyNum(LedgerAdv2BudgetCtrl)))
          #            {
          #                purchTable.convertCurrencyCode(purchTable.CurrencyCode, tradeCurrencyConversion, purchTable.AccountingDate);
          #            }
          #            else
          #            {
          #                purchTable.convertCurrencyCode(purchTable.CurrencyCode, tradeCurrencyConversion);
          #            }
          #        }
          #        else
          #        {
          #            if (rollBackCurrencyChange)
          #            {
          #                // Cancel has been choosen in the dialogue:
          #                // Currency code should not be recalculated, in fact all changes in currency code should be
          #                // rolled back...
          #                purchTable.CurrencyCode = purchTable.orig().CurrencyCode;
          #            }
          #        }
          #
          #        dimensionDefaultingControllerHeader.writing();
          #
          #        if (TaxThaiGovCertificationFeatureChecker::isTaxBranchEnabled())
          #        {
          #            purchTable_W.TaxBranch = TaxBranchType::getTaxBranchRecIdByDefaultDimension(purchTable.DefaultDimension);
          #        }
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(purchTable.TableId, purchTable.RecId, purchTable.TaxGroup, purchTable.orig().TaxGroup, copyTaxGroupToMarkupTrans,
          #                purchTable.isInvoiceMatched());
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        super();
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(PurchTable_Intrastat)))
          #        {
          #           purchtable_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchTable);
          #        }
          #        if (isPurchTableEnabled_W)
          #        {
          #            purchTable_W.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchTable);
          #        }
          #        if (isPurchTableEnabled_RU)
          #        {
          #            purchTable_RU.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchTable);
          #        }
          #        if (isPurchTableEnabled_BR)
          #        {
          #            purchTable_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchTable);
          #        }
          #
          #        if (copyAddress != DialogButton::Cancel  &&  copyAddress != DialogButton::No)
          #        {
          #            purchTable.copyAddressToLine(copyAddress, originalDeliveryPostalAddress);
          #        }
          #
          #        if (purchTable2LineUpdatePrompt)
          #        {
          #            purchTable2LineUpdatePrompt.run();
          #            purchTable2LineUpdatePrompt = null;
          #            mustReread = true;
          #        }
          #
          #        if (!tmsPurchTable.isTmp()) // No need to query for TMSPurchTable if it is disabled
          #        {
          #            newTMSPurchTable = TMSPurchTable::find(purchTable.PurchId);
          #
          #            tmsPurchTable.data(newTMSPurchTable);
          #            tmsPurchTable.reread();
          #        }
          #
          #        ttscommit;
          #
          #        if (mustReread)
          #        {
          #            purchLine_ds.research();
          #        }
          #        if (BrazilParameters::isEnabled())
          #        {
          #            purchLine_ds.research(true);
          #        }
          #    }
          #    defaultPurchLine.clear();
          #    purchTable_ds.reread();
          #    purchTable_ds.refresh();
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    if (purchTable.checkDelete())
          #    {
          #        if (purchTableType)
          #        {
          #            purchTableType.formMethodDataSourceDelete(element, purchTable_ds);
          #        }
          #
          #        super();
          #
          #        dimensionDefaultingControllerHeader.deleted();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    PurchTable      newPurchTable;
          #    TMSPurchTable   newTMSPurchTable;
          #    boolean         purchTableFormCreate;
          #    QueryBuildDataSource    purchTableDS;
          #
          #    //IMP0306_HV_06047_NumberSequences ->
          #    NumberSeqFormHandler    numberSeqFormHandlerPurchId;
          #    NumberSequenceTable     NumberSequenceTable;
          #    Args                    args;
          #    FormRun                 FormRun;
          #
          #    if (PurchParameters::find().NumberSequenceSelect==NoYes::Yes)
          #    {
          #
          #        args = new args();
          #        args.name(formStr(IS_NumSequence));
          #        args.parmEnum(numberSequenceType_HV::PurchaseOrder);
          #
          #        FormRun = ClassFactory.formRunClass(args);
          #        FormRun.init();
          #        FormRun.run();
          #        FormRun.wait();
          #
          #        if(FormRun.closedOk())
          #        {
          #            NumberSequenceTable = FormRun.args().record();
          #
          #            numberSeqFormHandlerPurchId = NumberSeqFormHandler::newForm(NumberSequenceTable.RecId,
          #                                                                        element,
          #                                                                        purchTable_ds,
          #                                                                        fieldNum(PurchTable, PurchId)
          #                                                                        );
          #
          #            purchTableForm.parmNumberSeqFormHandlerPurchId(numberSeqFormHandlerPurchId);
          #        }
          #    }
          #
          #    //<-
          #
          #    element.editPurch(true);
          #
          #
          #
          #    if (wasCalledFromVendorSearch)
          #    {
          #        purchTableFormCreate = purchTableForm.createFromVendorSearch(vendAccountSearch);
          #    }
          #    else
          #    {
          #        purchTableFormCreate = purchTableForm.create();
          #    }
          #    if (purchTableFormCreate)
          #    {
          #        if(skipLinkActive)
          #        {
          #            skipLinkActive = false;
          #            if (!linkActiveHeaderExecuted)
          #            {
          #                this.linkActive();
          #            }
          #        }
          #        newPurchTable = purchTableForm.purchTable();
          #        if (newPurchTable.ProjId && element.args().dataset() == tableNum(ProjTable))
          #        {
          #            purchTableDS = purchTable_ds.queryRun().query().dataSourceTable(tableNum(PurchTable));
          #            purchTableDS.addRange(fieldNum(PurchTable, PurchId)).value(newPurchTable.PurchId);
          #        }
          #        element.setLineDefaults();
          #
          #        if (newPurchTable)
          #        {
          #            dimensionDefaultingControllerHeader.activated();
          #            if (purchTable.AccountingDate)
          #            {
          #                dimensionDefaultingControllerHeader.setNonActiveValueTolerance(ErrorTolerance::Warning, purchTable.AccountingDate);
          #            }
          #
          #            super(append);
          #            purchTable.data(newPurchTable);
          #            if (isPurchTableEnabled_W || isPurchTableEnabled_RU || isPurchTableEnabled_BR)
          #            {
          #                purchTable.SysExtensionSerializerMap::unpackAll();
          #            }
          #            purchTable_ds.rereadReferenceDataSources();
          #
          #            lineViewTab.setFocus();
          #
          #            if (!tmsPurchTable.isTmp()) // No need to query for TMSPurchTable if it is disabled
          #            {
          #                newTMSPurchTable = TMSPurchTable::find(purchTable.PurchId);
          #
          #                tmsPurchTable.data(newTMSPurchTable);
          #                tmsPurchTable.reread();
          #            }
          #        }
          #        else
          #        {
          #            element.editPurch(purchTableForm.editHeaderAllowed(), purchTableForm.deleteHeaderAllowed());
          #        }
          #    }
          #    else
          #    {
          #        if(TradeFormHelper::isCalledFromForm(element.args()))
          #        {
          #            element.close();
          #        }
          #        else
          #        {
          #            this.editPurch();
          #        }
          #    }
          #
          #    skipLinkActive = false;
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int                                 ret;
          #    PurchTotals                         purchTotals;
          #    boolean                             editHeaderAllowed;
          #    boolean                             deleteHeaderAllowed;
          #    boolean                             allowEditDeliveryPostalAddress;
          #
          #    purchTableForm.purchTable(purchTable);
          #
          #    editHeaderAllowed   = purchTableForm.editHeaderAllowed();
          #    deleteHeaderAllowed = purchTableForm.deleteHeaderAllowed();
          #
          #    element.editPurch(editHeaderAllowed, deleteHeaderAllowed);
          #
          #    ret = super();
          #
          #    dimensionDefaultingControllerHeader.activated();
          #
          #    if (purchTable.AccountingDate)
          #    {
          #        dimensionDefaultingControllerHeader.setNonActiveValueTolerance(ErrorTolerance::Warning, purchTable.AccountingDate);
          #    }
          #
          #    if (purchTable.RecId)
          #    {
          #        purchTable_ds.enableDistributionTemplate();
          #    }
          #
          #    interCompanyAllowIndirectCreationOrig.visible(purchTable.interCompanyAllowIndirectCreationOrig() ? true : false);
          #
          #    purchTableForm.setHeaderAccess();
          #    allowEditDeliveryPostalAddress = purchTable_ds.object(fieldNum(PurchTable, DeliveryPostalAddress)).allowEdit();
          #    logisticsLocationSelectHeader.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewHeader.enabled(allowEditDeliveryPostalAddress);
          #
          #    if (isRU)
          #    {
          #        purchTable_ds.object(fieldNum(PurchTable, PostingProfile)).allowEdit(! purchTable_W.EmplAccount_RU);
          #    }
          #
          #    if (tmpPurchTableTaxTransForm && !tmpPurchTableTaxTransForm.closed())
          #    {
          #        purchTotals = PurchTotals::newPurchTable(purchTable);
          #        purchTotals.calc();
          #        tmpPurchTableTaxTransForm.pushTaxObject(purchTotals.tax());
          #    }
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        if ( tmpPurchTableTaxWithholdTransForm && !tmpPurchTableTaxWithholdTransForm.closed())
          #        {
          #            purchTotals = PurchTotals::newPurchTable(purchTable);
          #            purchTotals.calc();
          #            tmpPurchTableTaxWithholdTransForm.pushTaxObject(purchTotals.taxWithhold_IN());
          #        }
          #    }
          #
          #    element.interCompanyRefreshCache();
          #
          #    if (isRU)
          #    {
          #        element.enabledVATTaxAgent_RU();
          #    }
          #
          #    purchTable_ds.object(fieldNum(PurchTable,ProjId)).allowEdit(purchTable.ProjId ? true : false);
          #    if (purchTable.ProjId && !purchTable.isProjectSalesItemReqPO())
          #    {
          #        headerInquiry_CostControlCommittedCost.enabled(true);
          #
          #        if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
          #        {
          #            if ((purchTable.PurchStatus == PurchStatus::Received) ||
          #                (purchTable.PurchStatus == PurchStatus::Invoiced))
          #            {
          #                purchTable_ds.object(fieldNum(PurchTable,ProjId)).allowEdit(false);
          #            }
          #            else
          #            {
          #                purchTable_ds.object(fieldNum(PurchTable,ProjId)).allowEdit(true);
          #            }
          #        }
          #    }
          #    else
          #    {
          #        headerInquiry_CostControlCommittedCost.enabled(false);
          #    }
          #
          #    element.configBankDocumentControls();
          #    element.setTitleText();
          #    element.showInactiveAddressBar();
          #
          #    if (zakatParameterEnabled)
          #    {
          #        element.enableContractNumber_SA();
          #    }
          #
          #    buttonSourceDocumentDistributionHeader.enabled(purchTable.SourceDocumentLine ? true : false);
          #
          #    element.updateControlsForFrenchConfirmedPO();
          #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
          #    {
          #        retailAddItemMenuItem.enabled(editPurchOrder.enabled()
          #            && !purchTable.MCRDropShipment);
          #
          #        retailSumLines_ds.executeQuery();
          #
          #        if (rboItemPackage.isActivePage() && treeView.value())  //Only fills the package tree when package tab is chosen and user has selected tree view
          #            element.fillPackageTree();
          #
          #    }
          #
          #    if (BrazilParameters::isEnabled())
          #    {
          #        purchTableForm.activate_BR();
          #        element.showDeliveryAddressFiscalInformation_BR();
          #    }
          #
          #    if (TaxParameters::isCustomsEnable_IN())
          #    {
          #        customsImportAssessableValue_IN.enabled(purchTable_W.CustomsImportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        purchLine_CustomsMaxRetailPrice_IN.visible(PurchTable::find(purchTable.PurchId).purchTable_W().CustomsImportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        purchLine_MaximumRetailPrice_IN.enabled(PurchTable::find(purchLine.PurchId).purchTable_W().CustomsImportOrder_IN == NoYes::No);
          #    }
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        element.setTaxWithholdEnabled_IN();
          #    }
          #
          #    purchTable_ds.enableJournalButtons();
          #
          #    element.enableTMSFields();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ProjTable                       projTableLink;
          #    ProjTable                       projTableLinkQuery;
          #    ProjInvoiceTable                projInvoiceTableLink;
          #    QueryBuildRange                 projIdPurchTable;
          #    ProjWIPTable                    projWIPTable;
          #    CostControlTransCommittedCost   costControlTransCommittedCost;
          #    PurchLine                       purchLineLink;
          #    QueryBuildDataSource            purchTableDS;
          #    QueryBuildDataSource            queryBuildDataSource;
          #    InterCompanyPurchSalesReference interCompanyPurchReference;
          #
          #    if (skipLinkActive)
          #    {
          #        return;
          #    }
          #
          #    // Initialize QueryBuildDataSource as table PurchTable.
          #    purchTableDS = purchTable_ds.query().dataSourceTable(tableNum(PurchTable));
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(InterCompanyPurchSalesReference):
          #            // Clear dynalinks, since multiple order can be shown
          #            purchTableDS.clearDynalinks();
          #            // Show all orders referenced from the original order
          #            interCompanyPurchReference  = element.args().record() as InterCompanyPurchSalesReference;
          #            queryBuildDataSource        = purchTableDS.addDataSource(tableNum(InterCompanyPurchSalesReference));
          #            queryBuildDataSource.relations(true);
          #            queryBuildDataSource.joinMode(JoinMode::ExistsJoin);
          #            queryBuildDataSource.addRange(fieldNum(InterCompanyPurchSalesReference, SalesId)).value(interCompanyPurchReference.SalesId);
          #            break;
          #
          #        case tableNum(CostControlTransCommittedCost):
          #            costControlTransCommittedCost = element.args().record();
          #            queryBuildRangeProj.value(queryValue(costControlTransCommittedCost.RefId));
          #            break;
          #
          #
          #        case tableNum(ProjTable):
          #            // Clear any range on field ProjId of table PurchTable
          #            projIdPurchTable    = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            while (projIdPurchTable)
          #            {
          #                purchTableDS.clearRange(fieldNum(PurchTable,ProjId));
          #                projIdPurchTable  = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            }
          #
          #            projTableLink = element.args().record();
          #
          #            // Find all records in PurchLine that matches the Project Id.
          #            while select PurchId from purchLineLink group by PurchId
          #                where purchLineLink.ProjId  == projTableLink.ProjId
          #                  && !purchLineLink.IsDeleted
          #            {
          #                purchTableDS.addRange(fieldNum(PurchTable,PurchId)).value(purchLineLink.PurchId);
          #            }
          #
          #            // Find all records in PurchLine that matches the sub-projects of the Project Id.
          #            while select ProjId from projTableLinkQuery
          #                where projTableLinkQuery.ParentId == projTableLink.ProjId
          #                join PurchId from purchLineLink group by PurchId
          #                    where purchLineLink.ProjId == projTableLinkQuery.ProjId
          #                        && !purchLineLink.IsDeleted
          #            {
          #                purchTableDS.addRange(fieldNum(PurchTable,PurchId)).value(purchLineLink.PurchId);
          #            }
          #
          #            // Clear the dynalinks to remove the dynalink range by Project Id in PurchTable.
          #            if (purchTableDS.findRange(fieldNum(PurchTable,PurchId)))
          #            {
          #                purchTableDS.clearDynalinks();
          #            }
          #
          #            break;
          #
          #        case tableNum(ProjInvoiceTable):
          #            // Clear any range on field ProjId of table PurchTable
          #            projIdPurchTable    = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            while (projIdPurchTable)
          #            {
          #                purchTableDS.clearRange(fieldNum(PurchTable,ProjId));
          #                projIdPurchTable  = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            }
          #
          #            projInvoiceTableLink   = element.args().record();
          #
          #            // Find all records in PurchLine that matches the Project Ids related to a Project Contract.
          #            while select ProjId from projTableLink
          #                where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #                join PurchId from purchLineLink
          #                    where purchLineLink.ProjId == projTableLink.ProjId
          #                      && !purchLineLink.IsDeleted
          #            {
          #                purchTableDS.addRange(fieldNum(PurchTable,PurchId)).value(purchLineLink.PurchId);
          #            }
          #
          #            // If no matching records foung in PurchLine, look for records in PurchTable.
          #            if (!purchTableDS.findRange(fieldNum(PurchTable, PurchId)))
          #            {
          #                while select ProjId from projTableLink
          #                    where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #                {
          #                    purchTable_ds.query().dataSourceTable(tableNum(PurchTable)).addRange(fieldNum(PurchTable,ProjId)).value(projTableLink.ProjId);
          #                }
          #            }
          #            break;
          #
          #        case tableNum(ProjWIPTable)     :
          #            // Clear any range on field ProjId of table PurchTable
          #            projIdPurchTable    = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            while (projIdPurchTable)
          #            {
          #                purchTableDS.clearRange(fieldNum(PurchTable,ProjId));
          #                projIdPurchTable  = purchTableDS.findRange(fieldNum(PurchTable,ProjId));
          #            }
          #
          #            projWIPTable   =   element.args().record();
          #
          #            // Find all records in PurchLine that matches the Project Ids related to an estimate project.
          #            while select ProjId from projTableLink
          #                where projTableLink.wipProject  == projWIPTable.ProjId
          #                join PurchId from purchLineLink
          #                    where purchLineLink.ProjId == projTableLink.ProjId
          #                      && !purchLineLink.IsDeleted
          #            {
          #                purchTableDS.addRange(fieldNum(PurchTable,PurchId)).value(purchLineLink.PurchId);
          #            }
          #
          #            // If no matching records foung in PurchLine, look for records in PurchTable.
          #            if (!purchTableDS.findRange(fieldNum(PurchTable, PurchId)))
          #            {
          #                while select ProjId from projTableLink
          #                    where projTableLink.wipProject  == projWIPTable.ProjId
          #                {
          #                    purchTable_ds.query().dataSourceTable(tableNum(PurchTable)).addRange(fieldNum(PurchTable,ProjId)).value(projTableLink.ProjId);
          #
          #                }
          #            }
          #            break;
          #    }
          #
          #    if (purchTableForm.linkActive())
          #    {
          #        purchTableForm.purchTable(element.args().record());
          #        purchTable_ds.query(purchTableForm.queryPurchTable(purchTable_ds.query()));
          #    }
          #
          #    if (purchTableType)
          #    {
          #        purchTableType.formMethodDataSourceLinkActive(element, purchTable_ds);
          #    }
          #
          #    super();
          #    linkActiveHeaderExecuted = true;
          #}
        ENDSOURCE
        SOURCE #editPurch
          #void  editPurch()
          #{
          #    purchTableForm.purchTable(purchTable);
          #
          #    element.editPurch(purchTableForm.editHeaderAllowed(), purchTableForm.deleteHeaderAllowed());
          #
          #    if (isRU)
          #    {
          #        element.enableInvoice4PaymButtons();
          #    }
          #}
        ENDSOURCE
        SOURCE #editHeader
          #void editHeader()
          #{
          #    this.editPurch();
          #}
        ENDSOURCE
        SOURCE #reReadLines
          #void  reReadLines()
          #{
          #    purchLine_ds.executeQuery();
          #    this.editPurch();
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    // PBA begin
          #    if( ! purchLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #    // PBA end
          #
          #    return super();
          #}
        ENDSOURCE
        SOURCE #setTouched
          #/// <summary>
          #/// Reset some informtaion when the current record is updated.
          #/// </summary>
          #void setTouched()
          #{
          #    purchIdTouched = purchTable.PurchId;
          #}
        ENDSOURCE
        SOURCE #reReadPackages
          #/// <summary>
          #/// Re-Read Packages
          #/// </summary>
          #void  reReadPackages()
          #{
          #    retailPackagePurch_ds.executeQuery();
          #}
        ENDSOURCE
        SOURCE #onSummaryRecordsInvalid
          #/// <summary>
          #///     Refreshes the summary factboxes to show updated record
          #/// </summary>
          #/// <param name="_tableId">
          #///     Table id of the table whose record became invalid
          #/// </param>
          #public void onSummaryRecordsInvalid(TableId _tableId)
          #{
          #    PartList                partList;
          #    FormRun                 formPart;
          #    str                     formName;
          #    int                     counter;
          #    PurchTotalsSummary      purchTotalsSummary;
          #    PurchEncumbranceSummary purchEncumbranceSummary;
          #
          #    if (purchParameters.AutomaticFactBoxUpdateOnPO_PSN && isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
          #    {
          #        switch(_tableId)
          #        {
          #            case tableNum(PurchTotalsSummary):
          #                purchTotalsSummary = PurchTotalsSummary::findByPurchId(purchTable.PurchId);
          #                formName = formStr(PurchTotalsSummaryPart);
          #                break;
          #
          #            case tableNum(PurchEncumbranceSummary):
          #                purchEncumbranceSummary = PurchEncumbranceSummary::findByPurchId(purchTable.PurchId);
          #                formName = formStr(PurchEncumbranceSummaryPart);
          #                break;
          #        }
          #
          #        if ((purchTotalsSummary && purchTotalsSummary.IsValid) || (purchEncumbranceSummary && !purchEncumbranceSummary.IsValid))
          #        {
          #            partList = new PartList(element);
          #            for(counter = 1; counter <= partList.partCount(); counter++)
          #            {
          #                if(partList.getPartById(counter).name() == formName)
          #                {
          #                    formPart = partList.getPartById(counter);
          #                    formPart.dataSource().reread();
          #                    formPart.dataSource().refresh();
          #                    break;
          #                }
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchLine
          Table               #PurchLine
          Index               #PurchLineIdx
          JoinSource          #PurchTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventLookup lookup;
                #
                #    lookup = new InventLookup(_formControl, new Query(), formStr(InventItemIdLookupPurchase));
                #    lookup.run();
                #}
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    ItemId                  itemId;
                #    LedgerDimensionAccount  ledgerDimension;
                #    RefRecId                sourceDocumentLine;
                #    InventTable     inventTableLoc;
                #
                #    super();
                #
                #    itemId              = purchLine.ItemId;
                #    ledgerDimension     = purchLine.LedgerDimension;
                #    sourceDocumentLine  = purchLine.SourceDocumentLine;
                #
                #    purchTableForm.resetPurchLine(purchLine);
                #
                #    purchLine.ItemId    = itemId;
                #    purchLine.LedgerDimension = ledgerDimension;
                #    purchLine.SourceDocumentLine = sourceDocumentLine;
                #
                #    purchLine_ds.itemIdModified();
                #
                #    element.enableLinePBAActions();
                #
                #    purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #    purchLine_ds.enableDistributionTemplate();
                #
                #    element.enableProjSalesPrice();
                #
                #    element.setEditCommitmentLineAllowed(purchLine.ItemId || purchLine.ProcurementCategory);
                #
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        inventTableLoc                  = InventTable::find(purchLine.ItemId);
                #        inventTableLoc                      = InventTable::find(purchLine.ItemId);
                #        purchLine_IN.ExciseTariffCodes_IN      = inventTableLoc.ExciseTariffCodes_IN;
                #        purchLine_IN.CustomsTariffCodeTable_IN = inventTableLoc.CustomsImportTariffCodeTable_IN;
                #        purchLine_IN.ServiceCodeTable_IN       = inventTableLoc.ServiceCodeTable_IN;
                #        if (PurchTable::find(purchLine.PurchId).purchTable_W().CustomsImportOrder_IN == NoYes::Yes)
                #        {
                #            //MRP defaulted from item is converted using Customs exchange rate for Import orders.
                #            purchLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(purchLine_IN.CustomsMaxRetailPrice_IN, purchTable.CurrencyCode, Direction_IN::Import, systemDateGet(), false);
                #        }
                #        purchLine_IN_DS.enableExciseFields_IN();
                #        purchLine_ds.rereadReferenceDataSources();
                #    }
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        if (purchLine.inventTable().ItemType != ItemType::Service)
                #        {
                #            purchLine.LedgerDimension = SalesPurchOperationType_BR::find(purchTable_BR.SalesPurchOperationType_BR).LedgerDimension;
                #        }
                #
                #        purchLine.setCFOP_BR();
                #
                #        element.enableServiceFields_BR();
                #    }
                #
                #    // IS_HV_06003 -->
                #    purchLine.ConvertFactorKGA_HV = InventTable::find(purchLine.ItemId).ConvertFactorKGA_HV;
                #    //purchLine.QtyKGA_HV = UnitConvert::qty(purchLine.PurchQty, purchLine.PurchUnit, purchLine.inventTable().inventUnitId(), purchLine.ItemId) * purchLine.ConvertFactorKGA_HV;
                #    purchLine.QtyKGA_HV = UnitOfMeasureConverter::convert(purchLine.PurchQty,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*purchLine.ConvertFactorKGA_HV;
                #
                #    //FIX
                #    purchLine.QtyKGA_HV = decRound(purchLine.QtyKGA_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit)));
                #
                #
                #    if (purchLine.ConvertFactorKGA_HV)
                #    {
                #        //AX2012
                #        //purchLine.PurchPriceKGA_HV = UnitOfMeasureConversion::valueConvert_HV(purchLine.PurchPrice, purchLine.PurchUnit, purchLine.inventTable().inventUnitId(), purchLine.ItemId) / purchLine.ConvertFactorKGA_HV;
                #
                #        //AX2012 FIX
                #        purchLine.PurchPriceKGA_HV = UnitOfMeasureConverter::convert(purchLine.PurchPrice,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #        purchLine.PurchPriceKGA_HV = purchLine.PurchPriceKGA_HV/purchLine.ConvertFactorKGA_HV;
                #    }
                #    else
                #    {
                #        purchLine.PurchPriceKGA_HV = 0;
                #    }
                #
                #    purchLine.IS_ProducerCode = EcoResProduct::find(purchLine.inventTable().Product).IS_ProducerCode;
                #    // <--
                #
                #    //IMP0177 T.Goshev 23.10.2014 ->
                #    //salesLine.PackingText_HV = InventTable::find(salesLine.ItemId).PackingText_HV;
                #    //<-
                #
                #    //TODO IS Review code
                #
                #    //IMPO266-->
                #    //salesLine.setTaxItemGroup(purchLine_ds.purchTaxItemGroupId());
                #    // <--
                #}
                #
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    // Do not default Name from category when modified.
                #    keepName = true;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchReceivedNow
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.PurchReceiveNowAI_HV = UnitOfMeasureConverter::convert(purchLine.PurchReceivedNow,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*purchLine.ConvertFactorKGA_HV;
                #
                #    //FIX
                #    purchLine.QtyKGA_HV = decRound(purchLine.PurchReceiveNowAI_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit)));
                #
                #    //FIX
                #    purchLine.QtyKGA_HV = decRound(purchLine.QtyKGA_HV, 6);
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #
                #    purchLine_ds.refresh();
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #
                #    // IS_HV_06003 -->
                #
                #    //AX2009
                #    //purchLine.PurchPriceKGA_HV = UnitConvert::valueConvert_HV(purchLine.PurchPrice, purchLine.PurchUnit, purchLine.inventTable().inventUnitId(), purchLine.ItemId) / purchLine.ConvertFactorKGA_HV;
                #
                #    //AX2012
                #    /*
                #    purchLine.PurchPriceKGA_HV = UnitOfMeasureConversion::valueConvert_HV(purchLine.PurchPrice,
                #                                                                          purchLine.PurchUnit,
                #                                                                          purchLine.inventTable().inventUnitId(),
                #                                                                          purchLine.ItemId) / purchLine.ConvertFactorKGA_HV;
                #    */
                #
                #    //AX2012 FIX
                #    purchLine.PurchPriceKGA_HV = UnitOfMeasureConverter::convert(purchLine.PurchPrice,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    purchLine.PurchPriceKGA_HV = purchLine.PurchPriceKGA_HV/purchLine.ConvertFactorKGA_HV;
                #
                #
                #    purchLine.lineAmount = purchLine.calcLineAmountForced();
                #    // <--
                #
                #    purchLine_ds.refresh();
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LinePercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #
                #    purchLine_ds.active();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    PurchLine::modifyPurchQty(purchLine, inventDim, !purchLine.MatchingAgreementLine);
                #    interCompanyIsPriceDiscSearchNeeded = purchLine.RecId;
                #
                #    // IS_HV_06003 -->
                #    purchLine.calcPackingUnitQty(inventDim);
                #    purchLine.modifyKGAQty_HV(purchLine, inventDim);
                #    purchLine.modifyReceiveNowAI_HV(purchLine, inventdim);
                #    // <--
                #
                #
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VendAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
                #    {
                #        purchLine_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    TaxParameters   taxParametersLoc = TaxParameters::find();
                #    boolean         isCustomsEnabled = TaxParameters::isCustomsEnable_IN();
                #    boolean         isExciseEnabled  = TaxParameters::isExciseEnable_IN();
                #    ;
                #    super();
                #
                #    purchLine.purchQtyModifiedInteraction(inventDim);
                #
                #    purchLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #    purchLine.modifyWMSLocation(inventDim, false);
                #
                #    interCompanyIsPriceDiscSearchNeeded = purchLine.RecId;
                #
                #    element.checkCreditNoteLine();
                #
                #    if (isCustomsEnabled || isExciseEnabled)
                #    {
                #        if (taxParametersLoc.Excise_IN)
                #        {
                #            if (purchLine.PurchQty >= 0)
                #            {
                #                purchLine_IN.cenvatCreditAvailed_IN = NoYes::No;
                #            }
                #        }
                #        element.enableFieldsActive_IN();
                #
                #        purchLine_IN_DS.enableExciseFields_IN();
                #
                #        if (TaxParameters::find().EximIncentiveSchemes_IN
                #            && purchLine.PurchQty < 0)
                #        {
                #            eximPurchLine_IN.EximPorts                  = 0;
                #            eximPurchLine_IN.EximIncentiveSchemeGroup   = 0;
                #            eximPurchLine_IN.EximProductGroupTable      = 0;
                #            eximPurchLine_IN.ApplyDEPB            = NoYes::No;
                #            eximPurchLine_IN_ds.refresh();
                #        }
                #
                #        element.setEximFieldsAccess_IN();
                #    }
                #
                #    // IS_HV_06003 -->
                #    //purchLine.QtyKGA_HV = UnitConvert::qty(purchLine.PurchQty, purchLine.PurchUnit, purchLine.inventTable().inventUnitId(), purchLine.ItemId) * purchLine.ConvertFactorKGA_HV;
                #    purchLine.QtyKGA_HV = UnitOfMeasureConverter::convert(purchLine.PurchQty,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true)*purchLine.ConvertFactorKGA_HV;
                #
                #    //FIX
                #    purchLine.QtyKGA_HV = decRound(purchLine.QtyKGA_HV, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit)));
                #
                #    //FIX
                #    purchLine.QtyKGA_HV = decRound(purchLine.QtyKGA_HV, 6);
                #
                #    if  (purchLine.PackingUnitQty_HV &&
                #                            InventPackMaterialParmCode::exist(purchLine.PurchId, purchLine.InventTransId))
                #         InventPackMaterialParmCode::updatePackingQty(purchLine.PurchId, purchLine.InventTransId, purchLine.PackingUnitQty_HV);
                #    // <--
                #
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchMarkup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnPercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxItemGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRU)
                #    {
                #        inventDim_ds.setRecord(purchLine.inventDimProfileRAsset_RU(inventDim));
                #    }
                #    if(TaxItemGroupHeading::find(purchLine.TaxItemGroup).ReverseChargePercentage_IN)
                #    {
                #        purchLine_ds.object(fieldNum(PurchLine_IN, IsRecoverableServiceTax_IN)).visible(true);
                #    }
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Tax1099Amount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)) && ret && purchLine.Tax1099Amount == 0.0 && tax1099BoxDetail.Tax1099PropertyOrServices == NoYes::No)
                #    {
                #        ret = checkFailed(strFmt("@SPS1165","@SYS23907", "@SPS1100"));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjTransId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ProjItemTrans::jumpRefTransId(purchLine, element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnActionId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #    purchLine.returnActionChanged(inventDim);
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjCategoryId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    purchLine_DS.updateDesignForProject();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (ProjInvoiceTable::isSalesCurrencyLocked(ProjTable::find(purchLine.ProjId).ProjInvoiceProjId))
                #    {
                #        purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).allowEdit(false);
                #        purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).skip(true);
                #    }
                #    else
                #    {
                #        purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).allowEdit(!purchLine.isInvoiceMatched());
                #        purchLine_ds.object(fieldNum(PurchLine, ProjSalesCurrencyId)).skip(purchLine.isInvoiceMatched());
                #    }
                #
                #    purchLine_ds.enableDistributionTemplate();
                #
                #    element.enableLedgerDimensionDefaultAccount();
                #
                #    dimensionDefaultingControllerLine.activated();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AssetId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Modifies the <c>AssetId</c> field value on the <c>PurchLine</c> table buffer.
                #/// </summary>
                #/// <remarks>
                #/// This method calls the
                #/// <c>setAllowEditAssetFields</c> method of the <c>purchTableForm</c> class to correctly
                #/// set the <c>allowEdit</c> property of the fixed asset fields.
                #/// </remarks>
                #public void modified()
                #{
                #    super();
                #
                #    purchLine_ds.refresh();
                #
                #    purchLine.setDepreciationStartDate();
                #    element.enableDepreciationStartDate();
                #
                #    purchTableForm.setAllowEditAssetFields(purchTable, purchLine, purchLine_ds);
                #    if (AssetDocumentUtility_JP::isAssetDocumentEnabled())
                #    {
                #        purchTableForm.setAllowVisibleReductionEntryFields_JP(purchTable, purchLine, reductionEntry_JP);
                #    }
                #
                #    purchline_ds.enableDistributionTemplate();
                #
                #    element.enableLedgerDimensionDefaultAccount();
                #
                #    dimensionDefaultingControllerLine.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AssetTransTypePurch
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.enableDepreciationStartDate();
                #}
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AssetBookId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (AssetDocumentUtility_JP::isAssetDocumentEnabled())
                #    {
                #        purchTableForm.setAllowVisibleReductionEntryFields_JP(purchTable, purchLine, reductionEntry_JP);
                #    }
                #
                #    purchLine.setDepreciationStartDate();
                #    element.enableDepreciationStartDate();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CaseTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ActivityNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    HierarchyTreeTable::lookupHierarchyTree(_formControl, ProjTable::find(purchLine.ProjId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CreateFixedAsset
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Modifies the <c>CreateFixedAssetField</c> field value on the <c>PurchLine</c> table buffer.
                #/// </summary>
                #/// <remarks>
                #/// This method broadcasts the change in value of the <c>CreateFixedAssetField</c> field by
                #/// calling <c>createFixedAssetModified</c> on the data source. Then it calls the
                #/// <c>setAllowEditAssetFields</c> method of the <c>purchTableForm</c> class to correctly
                #/// set the <c>allowEdit</c> property of the fixed asset fields.
                #/// </remarks>
                #public void modified()
                #{
                #    super();
                #
                #    purchLine_ds.createFixedAssetModified();
                #    purchTableForm.setAllowEditAssetFields(purchTable, purchLine, purchLine_ds);
                #    if (AssetDocumentUtility_JP::isAssetDocumentEnabled())
                #    {
                #        purchTableForm.setAllowVisibleReductionEntryFields_JP(purchTable, purchLine, reductionEntry_JP);
                #    }
                #    purchLine_ds.enableDistributionTemplate();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AssetGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.enableLedgerDimensionDefaultAccount();
                #
                #    dimensionDefaultingControllerLine.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ProcurementCategory
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::resolveCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Procurement);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)) && purchTable.MatchingAgreement)
                #    {
                #        return EcoResCategory::lookupCategoryHierarchyRole(
                #            _formReferenceControl,
                #            EcoResCategoryNamedHierarchyRole::Procurement,
                #            false, true, true, null, 0, 0, 0, purchTable.MatchingAgreement);
                #    }
                #    else
                #    {
                #        return EcoResCategory::lookupCategoryHierarchyRole(
                #            _formReferenceControl,
                #            EcoResCategoryNamedHierarchyRole::Procurement);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    PurchCategory               procurementCategory;
                #    ItemFreeTxt                 name;
                #    LedgerDimensionAccount      ledgerDimension;
                #
                #    name                = purchLine.Name;
                #
                #    procurementCategory = purchLine.ProcurementCategory;
                #    ledgerDimension     = purchLine.LedgerDimension;
                #
                #    purchTableForm.resetPurchLine(purchLine);
                #
                #    purchLine.ProcurementCategory       = procurementCategory;
                #    purchLine.LedgerDimension           = ledgerDimension;
                #
                #    super();
                #
                #    // Name is defaulted from category in super(). So we revert to saved value, if needed.
                #    if (keepName)
                #    {
                #        purchLine.Name  = name;
                #    }
                #
                #    // Enabled/disable fields
                #    purchLine_ds.changedInventoriedStatus();
                #
                #    element.enableLinePBAActions();
                #    element.enableForeignTrade_RU();
                #
                #    if (purchLine.isCategoryBased())
                #    {
                #        if (purchTable.MatchingAgreement)
                #        {
                #            purchLine.SalesPurchLine::autoMatchAgreementLine(purchTable.MatchingAgreement);
                #        }
                #
                #        if (purchLineForeignTradeCategory.PurchLineDataAreaId == '')
                #        {//Only create a new record if no one exist
                #            purchLineForeignTradeCategory_ds.allowCreate(true);
                #            purchLineForeignTradeCategory_ds.create();
                #            purchLineForeignTradeCategory_ds.allowEdit(true);
                #            purchLineForeignTradeCategory_ds.allowCreate(false);
                #        }
                #    }
                #    else
                #    {
                #        purchLineForeignTradeCategory.clearFormFields();
                #        purchLineForeignTradeCategory_ds.allowEdit(false);
                #        purchLineForeignTradeCategory_ds.refresh();
                #    }
                #
                #    purchLine_ds.enableDistributionTemplate();
                #
                #    dimensionDefaultingControllerLine.activated();
                #
                #    element.enableProjSalesPrice();
                #
                #    element.setEditCommitmentLineAllowed(purchLine.ItemId || purchLine.ProcurementCategory);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #    EcoResCategory  ecoResCategory;
                #    EcoResCategory  ecoResCategoryChildren;
                #    AgreementLine   agreementLineLocal;
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)) && purchTable.MatchingAgreement)
                #    {
                #        select RecId from ecoResCategory
                #            where ecoResCategory.RecId == purchLine.ProcurementCategory
                #                join Category from agreementLineLocal
                #                where ecoResCategory.RecId == agreementLineLocal.Category
                #                && agreementLineLocal.Agreement == purchTable.MatchingAgreement;
                #
                #        if (!ecoResCategory.RecId)
                #        {
                #            select RecId from ecoResCategory
                #                join Category from agreementLineLocal
                #                where ecoResCategory.RecId == agreementLineLocal.Category
                #                && agreementLineLocal.Agreement == purchTable.MatchingAgreement
                #                    exists join ParentCategory, RecId from ecoResCategoryChildren
                #                    where ecoResCategoryChildren.CategoryHierarchy == ecoResCategory.CategoryHierarchy
                #                    && (ecoResCategoryChildren.NestedSetLeft >= ecoResCategory.NestedSetLeft
                #                    && ecoResCategoryChildren.NestedSetRight <= ecoResCategory.NestedSetRight)
                #                    && (ecoResCategory.RecId == purchLine.ProcurementCategory || ecoResCategoryChildren.RecId == purchLine.ProcurementCategory);
                #        }
                #
                #        if (ecoResCategory.RecId || ecoResCategoryChildren.RecId)
                #        {
                #            ret = super();
                #        }
                #        else
                #        {
                #            ret = false;
                #        }
                #    }
                #    else
                #    {
                #        ret = super();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return ledgerDefaultAccountControllerLine.resolveReference();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD Tax1099Fields
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)) && purchLine.Tax1099Amount != 0.0 && !purchLine.Tax1099Fields)
                #    {
                #        ret = checkFailed(strFmt("@SYS86315", "@SYS23885"));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
                #    {
                #        element.setAllowEdit1099GFields();
                #        element.setAllowEdit1099SFields();
                #
                #        Tax1099BoxDetail::deleteOrClear1099Detail(Tax1099Fields::find(purchLine.Tax1099Fields).Tax1099Box, tax1099BoxDetail.RecId);
                #        tax1099BoxDetail_ds.executeQuery();
                #        element.redraw();
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    LogisticsLocationSelectionLookup_Purch lookup;
                #
                #    lookup = LogisticsLocationSelectionLookup_Purch::newParameters(_formReferenceControl);
                #
                #    lookup.parmInventSiteId(inventDim.InventSiteId);
                #    lookup.parmInventLocationId(inventDim.InventLocationId);
                #
                #    lookup.addRoleByType(LogisticsLocationRoleType::Delivery);
                #    lookup.parmReturnLocation(false);
                #
                #    ret = lookup.performFormLookup();
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD itemPBAId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PBAVersion::lookupPBAId(_formControl, purchLine.ItemId);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxServiceCode_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    NoYes                   serviceCodeOnDlvAddress;
                #    LogisticsPostalAddress  logisticsPostalAddress;
                #
                #    serviceCodeOnDlvAddress = purchTable_BR.ServiceCodeOnDlvAddress_BR;
                #    logisticsPostalAddress = LogisticsLocationEntity::location2PostalAddress(purchLine.deliveryLocation());
                #
                #    TaxServiceCode_BR::lookup(_formControl, serviceCodeOnDlvAddress,
                #                              logisticsPostalAddress.CountryRegionId,
                #                              logisticsPostalAddress.State,
                #                              logisticsPostalAddress.City);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD CFOPTable_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common                      ret;
                #    CFOPAttributesDeterminer_BR cfopAttributes;
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        cfopAttributes     = CFOPAttributesDeterminer_BR::construct(purchLine);
                #
                #        ret = CFOPTable_BR::lookupCFOPTable(_formReferenceControl, cfopAttributes);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD VariantId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #/// <summary>
                #/// Variant ID - Jump Ref
                #/// </summary>
                #public void jumpRef()
                #{
                #    Args args = new Args();
                #
                #    args.caller(element);
                #    args.record(InventTable::find(purchLine.ItemId));
                #    args.lookupRecord(EcoResDistinctProductVariant::find(InventDimCombination::findVariantId(purchLine.VariantId).DistinctProductVariant));
                #
                #    new MenuFunction(menuitemDisplayStr(EcoResProductVariantsAction), MenuItemType::Display).run(args);
                #}
              ENDSOURCE
              SOURCE #modified
                #/// <summary>
                #/// Variant ID - Modified
                #/// </summary>
                #public void modified()
                #{
                #    InventDim               combInventDim;
                #    InventDim               inventDimOrig;
                #    List                    dimProductFields;
                #    ListEnumerator          enumerator;
                #    FieldId                 inventDimFieldId;
                #    InventDimGroupSetup     inventDimGroupSetup;
                #    boolean                 priceDiscSearchNeeded = false;
                #
                #    super();
                #
                #    combInventDim = InventDimCombination::findVariantId(purchLine.VariantId).inventDim();
                #
                #    if (combInventDim)
                #    {
                #        inventDimOrig.data(inventDim);
                #
                #        inventDim.InventSizeId  = combInventDim.InventSizeId;
                #        inventDim.InventColorId = combInventDim.InventColorId;
                #        inventDim.InventStyleId = combInventDim.InventStyleId;
                #        inventDim.ConfigId      = combInventDim.ConfigId;
                #
                #        // set Name according to VariantId
                #        purchLine.InventDimId    = InventDim::findOrCreate(inventDim).InventDimId;
                #        purchLine.initFromProductDimensions(inventDim);
                #        // Get the active dimension fields from the item's product dimension group and loop over them
                #        inventDimGroupSetup = InventDimGroupSetup::newItemId(purchLine.ItemId);
                #        dimProductFields = inventDimGroupSetup.ecoResProductDimGroupSetup().activeDimensionFields();
                #        enumerator = dimProductFields.getEnumerator();
                #
                #        if (enumerator)
                #        {
                #            while (enumerator.moveNext() && !priceDiscSearchNeeded)
                #            {
                #                inventDimFieldId = enumerator.current();
                #
                #                // If a dimension was changed
                #                if (inventDimOrig.(inventDimFieldId) != inventDim.(inventDimFieldId))
                #                {
                #                    // and it is active for price search
                #                    if (InventDim::mustUseFieldPurchPriceDisc(inventDimFieldId, inventDimGroupSetup))
                #                    {
                #                        priceDiscSearchNeeded = true;
                #                    }
                #                }
                #            }
                #
                #            // then trigger price recalculation
                #            if (priceDiscSearchNeeded)
                #            {
                #                purchLine.modifyInventDim(inventDim, inventDimFieldId, !purchLine.MatchingAgreementLine);
                #            }
                #
                #            // Update item name
                #            purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #        }
                #    }
                #}
              ENDSOURCE
              SOURCE #lookup
                #/// <summary>
                #/// Variant ID - Lookup
                #/// </summary>
                #/// <param name="_formControl">
                #/// Form String Control
                #/// </param>
                #/// <param name="_filterStr">
                #/// Filter String
                #/// </param>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PurchLine::lookupRetailVariantId(_formControl, purchLine.ItemId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MCRDropShipment
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MCRDropShipComment
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MCRDropShipStatus
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchPriceKGA_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #
                #    //AX2009
                #    //purchLine.PurchPrice = UnitConvert::valueConvert_HV(purchLine.PurchPriceKGA_HV * purchLine.ConvertFactorKGA_HV, purchLine.inventTable().inventUnitId(), purchLine.PurchUnit, purchLine.ItemId);
                #
                #    //AX2012
                #    /*
                #    purchLine.PurchPrice = UnitOfMeasureConversion::valueConvert_HV((purchLine.PurchPriceKGA_HV * purchLine.ConvertFactorKGA_HV),
                #                                                                          purchLine.inventTable().inventUnitId(),
                #                                                                          purchLine.PurchUnit,
                #                                                                          purchLine.ItemId);
                #    */
                #
                #    //AX2012 FIX
                #    purchLine.PurchPrice = purchLine.PurchPriceKGA_HV*purchLine.ConvertFactorKGA_HV;
                #
                #    purchLine.PurchPrice = UnitOfMeasureConverter::convert(purchLine.PurchPrice,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    purchLine.lineAmount = purchLine.calcLineAmountForced();
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD QtyKGA_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #    //purchLine.PurchQty = UnitConvert::qty((purchLine.QtyKGA_HV / purchLine.ConvertFactorKGA_HV), purchLine.inventTable().inventUnitId(), purchLine.PurchUnit, purchLine.ItemId);
                #    purchLine.PurchQty = UnitOfMeasureConverter::convert(purchLine.QtyKGA_HV/purchLine.ConvertFactorKGA_HV,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    //FIX
                #    purchLine.PurchQty = decRound(purchLine.PurchQty, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit)));
                #
                #    // <--
                #
                #    //FIX
                #    purchLine.PurchQty = decRound(purchLine.PurchQty, 6);
                #
                #    PurchLine::modifyPurchQty(purchLine, purchLine.inventDim());
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OfferingType_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    PurchLine.setPriceDisc(inventDim);
                #    PurchLine.IS_calcPrices();  //IS S.Shk SUPP0462
                #    // IS_HV_06003 -->
                #    switch (purchLine.OfferingType_HV)
                #    {
                #        case OfferingType_HV::QtyPriceEach          :
                #            PurchLine_PurchQtyGrid.allowEdit(true);
                #            PurchLine_QtyKGA_HV.allowEdit(false);
                #            PurchLine_PurchPriceGrid.allowEdit(true);
                #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
                #            break;
                #
                #        case OfferingType_HV::QtyPriceEachKGA       :
                #            PurchLine_PurchQtyGrid.allowEdit(true);
                #            PurchLine_QtyKGA_HV.allowEdit(false);
                #            PurchLine_PurchPriceGrid.allowEdit(false);
                #            PurchLine_PurchPriceKGA_HV.allowEdit(true);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
                #
                #            //PurchLine.PurchPrice = 0;
                #
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEach       :
                #            PurchLine_PurchQtyGrid.allowEdit(false);
                #            PurchLine_QtyKGA_HV.allowEdit(true);
                #            PurchLine_PurchPriceGrid.allowEdit(true);
                #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(false);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(true);
                #            break;
                #
                #        case OfferingType_HV::QtyKGAPriceEachKGA    :
                #            PurchLine_PurchQtyGrid.allowEdit(false);
                #            PurchLine_QtyKGA_HV.allowEdit(true);
                #            PurchLine_PurchPriceGrid.allowEdit(false);
                #            PurchLine_PurchPriceKGA_HV.allowEdit(true);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(false);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(true);
                #
                #            //PurchLine.PurchPrice = 0;
                #
                #            break;
                #
                #        default :
                #            PurchLine_PurchQtyGrid.allowEdit(true);
                #            PurchLine_QtyKGA_HV.allowEdit(false);
                #            PurchLine_PurchPriceGrid.allowEdit(true);
                #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
                #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
                #            break;
                #
                #    }
                #
                #
                #    // <--
                #     purchTable_ds.reFresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PackingUnit_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified() //IMP0180_HV_06013
                #{
                #    super();
                #    purchLine.calcPackingUnitQty();
                #    purchLine.CreatePackingMaterials();
                #
                #    purchLine.PackingMaterDescr_HV =  InventPackMaterialParmCode::PackMaterDescr(purchLine.PurchId,  purchLine.InventTransId);
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventRefTransId_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #//IMP0411 T.Goshev 23.02.2015
                #public void modified()
                #{
                #    SalesTable      salesTable;
                #    SalesLine       salesLineLocal;
                #
                #    super();
                #    if (purchTable.InterCompanyOrder)
                #    {
                #        changeCompany(purchTable.InterCompanyCompanyId)
                #        {
                #            salesTable = purchTable.interCompanySalesTable();
                #
                #            select firstonly salesLineLocal
                #                where  salesLineLocal.salesId == salesTable.salesId &&
                #                       salesLineLocal.InventRefTransId_HV ==  PurchLine.InventRefTransId_HV;
                #
                #            if (salesLineLocal)
                #
                #            PurchLine.InventRefId_HV = salesLineLocal.InventRefId_HV;
                #
                #        }
                #    }
                #    PurchLine.InventRefId_HV =  PurchLine.purchTable().SalesIdOrig_HV;
                #    PurchLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #lookup
                #//IMP0411 T.Goshev 23.02.2015
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(PurchLine), _formControl);
                #    Query                   query = new Query();
                #    QueryBuildDataSource    queryBuildDataSource;
                #    QueryBuildRange         queryBuildRange;
                #    ;
                #
                #    sysTableLookup.addLookupfield(fieldNum(PurchLine, InventRefTransId_HV));
                #    sysTableLookup.addLookupfield(fieldNum(PurchLine, ItemId));
                #
                #
                #    queryBuildDataSource = query.addDataSource(tablenum(PurchLine));
                #
                #
                #
                #    queryBuildRange = queryBuildDataSource.addRange(fieldnum(PurchLine, purchId));
                #    queryBuildRange.value(queryValue(PurchLine.PurchId));
                #
                #
                #    queryBuildDataSource.addSortField(fieldNum(PurchLine, InventRefTransId_HV));
                #    queryBuildDataSource.addSortField(fieldNum(PurchLine, ItemId));
                #
                #    queryBuildDataSource.orderMode(orderMode::GroupBy);
                #
                #    sysTableLookup.parmQuery(query);
                #    sysTableLookup.performFormLookup();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchReceiveNowAI_HV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // IS_HV_06003 -->
                #    //purchLine.PurchReceivedNow = UnitConvert::qty((purchLine.PurchReceiveNowAI_HV / purchLine.ConvertFactorKGA_HV), purchLine.inventTable().inventUnitId(), purchLine.PurchUnit, purchLine.ItemId);
                #    purchLine.PurchReceivedNow = UnitOfMeasureConverter::convert(purchLine.PurchReceiveNowAI_HV/purchLine.ConvertFactorKGA_HV,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.inventTable().inventUnitId()).RecId,
                #                                                          UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId,
                #                                                          false,
                #                                                          purchLine.inventTable().Product,
                #                                                          false,
                #                                                          true);
                #
                #    //FIX
                #    purchLine.PurchReceivedNow = decRound(purchLine.PurchReceivedNow, UnitOfMeasure::unitOfMeasureDecimalPrecision(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit)));
                #
                #    //FIX
                #    purchLine.PurchReceivedNow = decRound(purchLine.PurchReceivedNow, 6);
                #
                #    purchLine.setInventReceivedNow();
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PDSCalculationId
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ProjWorker
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    HcmWorkerLookup workerLookup;
                #    ProjParameters  projParameters = ProjParameters::find();
                #    boolean         includeTerminated = true;
                #
                #    if (projParameters.ShowInactiveEmployees == NoYes::No)
                #    {
                #        includeTerminated = false;
                #    }
                #    workerLookup = HcmWorkerLookup::newCustomOptions(
                #        false, // includeEmployees
                #        true, // includeContractors
                #        true, // includeActive
                #        false, // includePending
                #        includeTerminated, // includeTerminated
                #        true, // includeOnlyCurrentLegalEntity
                #        true, // lock workerTypeFilters
                #        true, // lock workerStatusFilters
                #        true); // lock legalEntityFilters
                #
                #    return workerLookup.lookupWorker(_formReferenceControl);
                #}
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD PurchCommitmentLine_PSN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #/// <summary>
                #/// Adds the 'View details' link to the commitment context menu.
                #/// </summary>
                #public void jumpRef()
                #{
                #    PurchCommitmentHeader_PSN::jumpRefPurchCommitment(purchLine.PurchCommitmentLine_PSN);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common commitmentLookupTableBuffer;
                #
                #    PurchCommitmentLineLookup_PSN   purchCommitmentLineLookupClass = PurchCommitmentLineLookup_PSN::construct(_formReferenceControl, purchLine);
                #
                #    commitmentLookupTableBuffer = purchCommitmentLineLookupClass.performFormLookup();
                #
                #    return commitmentLookupTableBuffer;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #purchTaxItemGroupId
          #//IMPO266
          #TaxItemGroup purchTaxItemGroupId()
          #{
          #    ItemSalesTaxCodeByCountry_BG         itemSalesTaxGroup;
          #
          #    itemSalesTaxGroup = ItemSalesTaxCodeByCountry_BG::findByCountry(purchLine.ItemId,
          #                                                          SalesTaxModuleType_BG::Purchase,
          #                                                          purchLine.purchCountry());
          #                                                          //salesLine.salesTable().salesCountry());
          #
          #    if (itemSalesTaxGroup)
          #        return itemSalesTaxGroup.ItemSalesTaxGroup;
          #    else
          #        return purchLine.inventTable().purchTaxItemGroupId();
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reread()
          #{
          #    // Current price references may need to be deleted.
          #    purchLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #updateDesignForProject
          #public void updateDesignForProject()
          #{
          #    if (purchLine.ProjId == '' || purchLine.isProjItemBased())
          #    {
          #        purchLine_DS.object(fieldNum(PurchLine, ProjWorker)).allowEdit(false);
          #    }
          #    else
          #    {
          #        purchLine_DS.object(fieldNum(PurchLine, ProjWorker)).allowEdit(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #deleteMarked
          # public void deleteMarked()
          #{
          #    purchTableForm.parmInPurchlineDeleteMarked(true);
          #
          #    super();
          #
          #    purchTable.type().updateDistribution();
          #
          #    purchTableForm.parmInPurchlineDeleteMarked(false);
          #}
        ENDSOURCE
        SOURCE #ICMSCreditInstallments_BR
          #//BP Deviation documented
          #display ICMSCreditInstallments_BR ICMSCreditInstallments_BR(PurchLine _purchLine)
          #{
          #    if (!BrazilParameters::isEnabled() || (!_purchLine.AssetId && !_purchLine.AssetGroup))
          #        return false;
          #
          #    if (!_purchLine.CreateFixedAsset)
          #        return AssetTable::find(_purchLine.AssetId).ICMSCreditInstallments_BR;
          #    else
          #        return AssetGroup::find(_purchLine.AssetGroup).ICMSCreditInstallments_BR;
          #}
          #
        ENDSOURCE
        SOURCE #PISCOFINSReceivableLongTerm_BR
          #//BP Deviation documented
          #display NoYes PISCOFINSReceivableLongTerm_BR(PurchLine _purchLine)
          #{
          #    return _purchLine.PISCOFINSReceivableLongTerm_BR();
          #}
          #
        ENDSOURCE
        SOURCE #ICMSReceivableLongTerm_BR
          #//BP Deviation documented
          #display NoYes ICMSReceivableLongTerm_BR(PurchLine _purchLine)
          #{
          #    return _purchLine.ICMSReceivableLongTerm_BR();
          #}
          #
        ENDSOURCE
        SOURCE #active
          #/// <summary>
          #/// Activates the <c>PurchLine</c> datasource.
          #/// </summary>
          #/// <returns>
          #/// An integer value indicating if the method is successful. It always returns 1.
          #/// </returns>
          #/// <remarks>
          #/// This method calls the <c>setAllowEditAssetFields</c> method of the <c>PurchTableForm</c> class
          #/// to ensure that the fixed asset fields are available to be edited.
          #/// </remarks>
          #int  active()
          #{
          #    int     ret;
          #    boolean allowEdit;
          #    boolean allowEditDeliveryPostalAddress;
          #
          #    // IS_HV_06003 ->
          #    boolean     allowEdit_HV = true, allowEditDlv_HV = true;
          #    SalesTable  salesTable;
          #    // <--
          #
          #    #ISOCountryRegionCodes
          #
          #    ret = super();
          #    dimensionDefaultingControllerLine.activated();
          #    dimensionDefaultingControllerLine.setEditability(!purchLine.IsInvoiceMatched);
          #    if (purchTable.AccountingDate)
          #    {
          #        dimensionDefaultingControllerLine.setNonActiveValueTolerance(ErrorTolerance::Warning, purchTable.AccountingDate);
          #    }
          #
          #    purchTableForm.purchTable(purchTable);
          #
          #    element.setEditItemCategoryAllowed(purchLine.RecId == 0);
          #    element.setEditLinenumberAllowed(purchTableForm.editLineNumberAllowed(purchLine));
          #    element.showInactiveAddressBar();
          #
          #    allowEdit = purchTableForm.editLineAllowed(purchLine) || purchLine.editableInWorkflow();
          #
          #    purchLine_ds.allowCreate(purchTableForm.createLineAllowed(purchLine));
          #    purchLine_ds.allowEdit  (allowEdit);
          #    purchLine_ds.allowDelete(purchTableForm.deleteLineAllowed(purchLine));
          #
          #    inventDim_ds.allowEdit  (allowEdit);
          #
          #    element.checkCreditNoteLine();
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #
          #    purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(purchLine.purchReceivedNowAllowEdit());
          #
          #    element.setAllowEditTax1099();
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
          #    {
          #        element.setAllowEdit1099GFields();
          #        element.setAllowEdit1099SFields();
          #        element.setEditCommitmentLineAllowed(purchLine.ItemId || purchLine.ProcurementCategory);
          #    }
          #    element.updateRFIDTagging();
          #
          #    if (isRU)
          #    {
          #        element.enabledVATTaxAgent_RU();
          #        element.enableMarkupCode_RU();
          #        element.enableForeignTrade_RU();
          #    }
          #
          #    purchTableForm.interCompanySetLineAccess(purchLine);
          #    purchTableForm.directDeliverySetLineAccess(purchLine);
          #    allowEditDeliveryPostalAddress = purchLine_ds.object(fieldNum(PurchLine, DeliveryPostalAddress)).allowEdit();
          #    logisticsLocationSelectLine.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewLine.enabled(allowEditDeliveryPostalAddress);
          #
          #    if (purchLine.ProjId)
          #    {
          #        if (purchLine.purchTable().isProjectSalesItemReqPO() ||
          #            purchLine.getProjCreditNoteSource().purchTable().isProjectSalesItemReqPO())
          #        {
          #            lineInquiry_CostControlCommittedCost.enabled(false);
          #        }
          #        else
          #        {
          #            lineInquiry_CostControlCommittedCost.enabled(true);
          #        }
          #    }
          #    else
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(false);
          #    }
          #
          #    element.resetAssetContainers();
          #
          #    if(tabLineFixedAsset.isActivePage())
          #    {
          #        element.setupAsset(purchLine);
          #    }
          #    else
          #    {
          #        element.design().controlName(#grpAssetQualifier).visible(false);
          #    }
          #
          #    purchTableForm.setAllowEditAssetFields(purchTable, purchLine, purchLine_ds);
          #    if (AssetDocumentUtility_JP::isAssetDocumentEnabled())
          #    {
          #        purchTableForm.setAllowVisibleReductionEntryFields_JP(purchTable, purchLine, reductionEntry_JP);
          #    }
          #
          #    // If the date is not set
          #    if(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIT]))
          #    {
          #        if(!purchLine.DepreciationStartDate)
          #        {
          #            purchLine.setDepreciationStartDate();
          #        }
          #        element.enableDepreciationStartDate(false);
          #    }
          #
          #    if (purchLine.RecId)
          #    {
          #        purchLine_ds.enableDistributionTemplate();
          #    }
          #
          #    element.setupEnvironmentalTab();
          #
          #    element.enableLedgerDimensionDefaultAccount();
          #
          #    element.enableRetentionProject();
          #
          #    element.enableProjSalesPrice();
          #
          #    element.updateControlsForFrenchConfirmedPO();
          #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
          #    {
          #        allowEdit = allowEdit && (!purchLine.RetailPackageId);    //User may not be allowed to edit purchase order lines that belong to a package
          #        element.packageAllowEdit(allowEdit);
          #    }
          #
          #    if (ret && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
          #    {
          #        element.enableFieldsActive_IN();
          #        element.updateDesign_IN();
          #        if (taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate)
          #        {
          #            element.setTaxWithholdEnabled_IN();
          #        }
          #        purchLine_IN_ds.enableExciseFields_IN();
          #    }
          #
          #
          #    isWHSPurchLineEnabled = WHSPurchLine::isExtensionRecordNeeded(purchLine);
          #    crossDock.enabled(isWHSPurchLineEnabled);
          #
          #    if (BrazilParameters::isEnabled())
          #    {
          #        element.enableServiceFields_BR();
          #    }
          #
          #    // IS_HV_06003 ->
          #    switch (purchLine.OfferingType_HV)
          #    {
          #        case OfferingType_HV::QtyPriceEach          :
          #            PurchLine_PurchQtyGrid.allowEdit(true);
          #            PurchLine_QtyKGA_HV.allowEdit(false);
          #            PurchLine_PurchPriceGrid.allowEdit(true);
          #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
          #            break;
          #
          #        case OfferingType_HV::QtyPriceEachKGA       :
          #            PurchLine_PurchQtyGrid.allowEdit(true);
          #            PurchLine_QtyKGA_HV.allowEdit(false);
          #            PurchLine_PurchPriceGrid.allowEdit(false);
          #            PurchLine_PurchPriceKGA_HV.allowEdit(true);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
          #            break;
          #
          #        case OfferingType_HV::QtyKGAPriceEach       :
          #            PurchLine_PurchQtyGrid.allowEdit(false);
          #            PurchLine_QtyKGA_HV.allowEdit(true);
          #            PurchLine_PurchPriceGrid.allowEdit(true);
          #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(false);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(true);
          #            break;
          #
          #        case OfferingType_HV::QtyKGAPriceEachKGA    :
          #            PurchLine_PurchQtyGrid.allowEdit(false);
          #            PurchLine_QtyKGA_HV.allowEdit(true);
          #            PurchLine_PurchPriceGrid.allowEdit(false);
          #            PurchLine_PurchPriceKGA_HV.allowEdit(true);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(false);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(true);
          #            break;
          #
          #        default :
          #            PurchLine_PurchQtyGrid.allowEdit(true);
          #            PurchLine_QtyKGA_HV.allowEdit(false);
          #            PurchLine_PurchPriceGrid.allowEdit(true);
          #            PurchLine_PurchPriceKGA_HV.allowEdit(false);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(true);
          #            purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(false);
          #            break;
          #
          #    }
          #
          #    if (purchTable.isInterCompanyOrder())
          #    {
          #        changeCompany(purchTable.InterCompanyCompanyId)
          #        {
          #            salesTable = SalesTable::find(purchTable.InterCompanySalesId);
          #
          #            if (salesTable.isReadyForExport_HV() || salesTable.isExported_HV() || salesTable.isReadyForShipment_HV())
          #                allowEdit_HV = false;
          #
          #            if (salesTable.isReadyForShipment_HV())
          #                allowEditDlv_HV = false;
          #        }
          #    }
          #
          #    purchLine_ds.object(fieldNum(PurchLine, Name)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PurchUnit)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PurchQty)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, QtyKGA_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PurchPrice)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PurchPriceKGA_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, QualityConfirm_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, QualityText_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, AddText_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, MarkingText_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PackingText_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PalletizingText_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, EstimatedShipmentDate_HV)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, ConfirmedDlv)).allowEdit(allowEdit_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, OfferingType_HV)).allowEdit(allowEdit_HV);
          #
          #    //purchLine_ds.allowCreate    (allowEdit_HV);
          #    //purchLine_ds.allowDelete    (allowEdit_HV);
          #
          #    purchLine_ds.object(fieldNum(PurchLine, PackingUnit_HV)).allowEdit(allowEditDlv_HV);
          #    purchLine_ds.object(fieldNum(PurchLine, PackingUnitQty_HV)).allowEdit(allowEditDlv_HV);
          #    //purchLine_ds.object(fieldNum(PurchLine, PurchReceivedNow)).allowEdit(allowEditDlv_HV);
          #    //purchLine_ds.object(fieldNum(PurchLine, PurchReceiveNowAI_HV)).allowEdit(allowEditDlv_HV);
          #
          #    //HUVEPHARMA_AX_IMPL IMP0288 V.Karaivanov 19.12.2014 -->
          #    //inventDim_ds.object(fieldNum(InventDim, InventBatchId)).allowEdit(allowEdit_HV);
          #    // <--
          #
          #    return ret;
          #}
          #
          #
        ENDSOURCE
        SOURCE #initInventDim
          #/// <summary>
          #/// Updates <c>InventDim</c> with new data which has been set due to modification of <c>PurchLine</c>.
          #/// </summary>
          #private void initInventDim()
          #{
          #    inventDim.data(InventDim::find(purchLine.InventDimId));
          #
          #    // Override the initial value if a default is provided.
          #    if (defaultInventDim && purchLine.ItemId == defaultItemId)
          #    {
          #        inventDim.initFromInventDim(defaultInventDim);
          #    }
          #}
        ENDSOURCE
        SOURCE #lineDeliveryTypeImage
          #//BP Deviation documented
          #display LineDeliveryTypeImage lineDeliveryTypeImage(PurchLine _purchLine)
          #{
          #    return imageListAppl_PurchTableForm.image(_purchLine.lineDeliveryImageRessNo());
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    logisticsPostalAddressLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(), DateTimeUtil::maxValue());
          #
          #    super();
          #
          #    if (isCalledFromLP)
          #    {
          #        isCalledFromLP = false;
          #        if (purchTable && TradeFormHelper::isEditableNotGridView(element.args()))
          #        {
          #            purchLine_PurchQtyGrid.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #updateBudgetCheckResultDisplay
          #/// <summary>
          #/// Updates budget check result display cache.
          #/// </summary>
          #public void updateBudgetCheckResultDisplay()
          #{
          #    if (Ledger::isLedgerBudgetControlEnabled())
          #    {
          #        if (this.cacheCalculateMethod(tableMethodStr(PurchLine, displayBudgetCheckResult)))
          #        {
          #            purchLine_ds.refresh();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableBudgetControlLineInquiry
          #/// <summary>
          #/// Eanbles the <c>BudgetControlLine</c> inquiry button.
          #/// </summary>
          #private void enableBudgetControlLineInquiry()
          #{
          #    budgetControlLine.enabled(budgetControlLine.visible() && purchLine.IsModified);
          #}
        ENDSOURCE
        SOURCE #editAssetQualifier
          #// BP deviation documented
          #edit AssetRuleAssetQualifier editAssetQualifier(boolean set, AssetRuleAssetQualifier _qualifier)
          #{
          #    if(set)
          #    {
          #        if(AssetRuleTmpAssetQualifierLookup::getAssetGroupFromQualifier(_qualifier, assetQualifierList) != '')
          #        {
          #            selectedAssetQualifier = _qualifier;
          #        }
          #    }
          #    return  selectedAssetQualifier;
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean ret = true;
          #    str warning = purchLine.type(purchTable).getDeleteWarning();
          #
          #    if (warning != "")
          #    {
          #        ret = (Box::yesNo(warning, DialogButton::No) == DialogButton::Yes)
          #            && purchLine.validateDelete();
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #itemIdModified
          #void itemIdModified()
          #{
          #    purchLine.itemIdChanged(purchTable.MatchingAgreement);
          #
          #    this.changedInventoriedStatus();
          #    isWHSPurchLineEnabled = WHSPurchLine::isExtensionRecordNeeded(purchLine);
          #    crossDock.enabled(isWHSPurchLineEnabled);
          #
          #    // Reread ReferenceGroup controls, e.g. to show the category name.
          #    purchLine_ds.rereadReferenceDataSources();
          #
          #    element.enableLedgerDimensionDefaultAccount();
          #
          #    dimensionDefaultingControllerLine.activated();
          #    element.enableMarkupCode_RU();
          #    element.enableForeignTrade_RU();
          #}
        ENDSOURCE
        SOURCE #changedInventoriedStatus
          #/// <summary>
          #/// Updates the form to reflect the current inventoried status inventoried status, i.e. after a change to the itemid, category, or inventoried field.
          #/// </summary>
          #void changedInventoriedStatus()
          #{
          #    // Update inventDim with new data which has been set due to modification
          #    this.initInventDim();
          #    purchLine.modifyInventDim(inventDim, fieldNum(InventDim,InventLocationId), !purchLine.MatchingAgreementLine);
          #
          #    InventMovement::bufferSetTransQtyUnit(purchLine);
          #    // Update inventdim fields
          #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
          #    // Update tagging fields based on dimension settings.
          #    element.updateRFIDTagging();
          #
          #    // Disable category editing if itemid is selected
          #    purchLine_ds.object(fieldNum(PurchLine, ProcurementCategory)).allowEdit(purchLine.ItemId == '');
          #    // Disable itemid editing if only a category is selected
          #    purchLine_ds.object(fieldNum(PurchLine, ItemId)).allowEdit(!purchLine.isCategoryBased());
          #
          #    // Update allow edit for scrap
          #    element.checkCreditNoteLine();
          #    // Update allow edit for inventory fields
          #    purchTableForm.interCompanySetLineAccess(purchLine);
          #    purchTableForm.directDeliverySetLineAccess(purchLine);
          #
          #    purchTableForm.setAllowEditAssetFields(purchTable, purchLine, purchLine_ds);
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean append = true)
          #{
          #    element.setEditItemCategoryAllowed(true);
          #    distributionTemplateLine.allowEdit(true);
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    if (!purchTableForm.canNewLineBeAppended(purchLine))
          #    {
          #        append = false;
          #    }
          #
          #    purchTableForm.purchLine_CreatePreSuper(purchLine);
          #
          #    if (purchTable.checkUpdate())
          #    {
          #        super(append);
          #    }
          #
          #    if (purchTable && tabPageDetails.isActivePage())
          #    {
          #        purchLine_ItemId.setFocus();
          #    }
          #
          #    // Invoke postSuper to store an initialized purchLine used for further creation. Only store it if an item
          #    // has not been defined or we have a default item.
          #    if ((!purchLine.ItemId && !purchLine.ProcurementCategory)
          #        || (defaultItemId && defaultItemId == purchLine.ItemId))
          #    {
          #        purchTableForm.purchLine_CreatePostSuper(purchLine);
          #    }
          #
          #    // filter exists on ItemId
          #    if (purchLine.ItemId)
          #    {
          #        this.itemIdModified();
          #    }
          #
          #    // filter exists on ProcurementCategory
          #    if (purchLine.ProcurementCategory)
          #    {
          #        this.changedInventoriedStatus();
          #    }
          #
          #    this.createFixedAssetModified();
          #}
        ENDSOURCE
        SOURCE #createFixedAssetModified
          #/// <summary>
          #/// Broadcasts that the <c>CreateFixedAsset</c> field value has changed to the <c>purchLine</c> table buffer.
          #/// </summary>
          #void createFixedAssetModified()
          #{
          #    purchLine.modifyCreateFixedAsset();
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    PurchId purchId;
          #    boolean mustFormResearchAfterDelete = purchTableForm.mustFormResearchAfterDelete(purchLine);
          #
          #    if (purchLine.checkDelete(true, purchTable))
          #    {
          #        purchId = purchLine.PurchId;
          #
          #        ttsbegin;
          #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
          #        {
          #            purchLine.type(purchTable).deleteRetailSumLinesFromPurch();
          #        }
          #
          #        //This is a performance optimization. Indicates we can skip updating the purchTable
          #        //header distribution on this line because we are in a multiselect delete of lines.
          #        //Update will be done at the end in PurchLine_ds.deleteMarked()
          #        if (purchTableForm.parmInPurchlineDeleteMarked())
          #        {
          #            purchLine.SkipDistributionUpdate = NoYes::Yes;
          #        }
          #
          #        // Current price references may need to be deleted.
          #        purchLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #        super();
          #        purchTable_ds.onSummaryRecordsInvalid(tableNum(PurchTotalsSummary));
          #
          #        ttscommit;
          #
          #        dimensionDefaultingControllerLine.deleted();
          #
          #        if ( mustFormResearchAfterDelete )
          #        {
          #            purchLine_ds.research(true);
          #        }
          #
          #        if (purchId && PurchTable::exist(purchId))
          #        {
          #            purchTable_ds.reread();
          #            purchTable_ds.refresh();
          #        }
          #
          #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
          #        {
          #            retailSumLines_ds.research();
          #        }
          #        element.setupEnvironmentalTab();
          #    }
          #}
        ENDSOURCE
        SOURCE #enableDistributionTemplate
          #/// <summary>
          #/// Enables the <c>AccountingDistributionTemplate</c> field based on the purchase order line state.
          #/// </summary>
          #public void enableDistributionTemplate()
          #{
          #    if (purchLine.canApplyAllocationOrDistributionTemplate())
          #    {
          #        distributionTemplateLine.allowEdit(true);
          #    }
          #    else
          #    {
          #        distributionTemplateLine.allowEdit(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    if (purchTable
          #       && (defaultPurchLine.PurchId != purchTable.PurchId
          #       || (defaultPurchLine.PurchId == purchTable.PurchId
          #       && purchTableRecVersion      != purchTable.RecVersion)))
          #    {
          #        defaultPurchLine.initFromPurchTable(purchTable);
          #        defaultPurchLine.initFromVendTable(purchTable.vendTable_OrderAccount());
          #        purchTableRecVersion = purchTable.RecVersion;
          #    }
          #
          #    purchLine.data(defaultPurchLine);
          #    if (isPurchLine_INEnabled || isPurchLine_WEnabled)
          #    {
          #        // The defaulted extension table record are packed in defaultPurchLine
          #        // and been copied to purchLine.PackedExtensions field. Unpack it to apply
          #        // these default value to extension table data source.
          #        purchLine.SysExtensionSerializerMap::unpackAll();
          #    }
          #
          #    // For category based lines Name should be kept if manually modified.
          #    keepName = false;
          #
          #    if (defaultItemId)
          #    {
          #        purchLine.ItemId = defaultItemId;
          #    }
          #
          #    if (defaultDate)
          #    {
          #        purchLine.ShippingDateRequested = defaultDate;
          #    }
          #
          #    if (TaxParameters::isServiceTaxEnable_IN())
          #    {
          #        purchLine_IN.IsRecoverableServiceTax_IN = NoYes::Yes;
          #    }
          #    super();
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    this.query().dataSourceTable(tableNum(PurchLine)).addRange(fieldNum(PurchLine,IsDeleted)).value(queryValue(NoYes::No));
          #
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, whsGetLoads));
          #
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, receivedInTotal), false);
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, invoicedInTotal), false);
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, itemName), false);
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, displayBudgetCheckResult), false);
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, calcPendingQtyPurchDisplay));
          #    purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, getPurchReqItemName), false);
          #    if (InventParameters::find().UseQualityManagement)
          #    {
          #        purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, qualityOrderStatusDisplay), false);
          #    }
          #
          #    if (BrazilParameters::isEnabled())
          #    {
          #        purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, deliveryCNPJCPFNUM_BR));
          #        purchLine_ds.cacheAddMethod(tableMethodStr(PurchLine, deliveryIENum_BR));
          #    }
          #
          #    purchLine.setDepreciationStartDate(true);
          #    element.enableDepreciationStartDate();
          #
          #    element.invoiceMatchingAccess();
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    // PBA begin
          #    if( !purchLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #    // PBA end
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void  linkActive()
          #{
          #    #ISOCountryRegionCodes
          #    super();
          #
          #    /* Set Caption */
          #    if (!purchLine && purchTable)
          #    {
          #        purchTableForm.purchTable(purchTable);
          #        purchLine_ds.create();
          #    }
          #
          #    if(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIT]))
          #    {
          #        if(!purchLine.DepreciationStartDate)
          #        {
          #            purchLine.setDepreciationStartDate();
          #        }
          #        element.enableDepreciationStartDate(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #purchTable_ds
          #FormDataSource purchTable_ds()
          #{
          #    return purchTable_ds;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    //Set SubLedgerDistributions and SubLedgerJournalLines as needing to be created/updated
          #    purchTable_ds.setTouched();
          #
          #    ret = element.setupAsset(purchLine);
          #
          #    purchLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    if (!purchLine.isAgreementLinkValid(true))
          #    {
          #        ret = purchLine.unLinkAgreementLinePrompt(0, tableNum(PurchLine), false);
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && purchLine.TaxGroup != purchLine.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(purchLine.TableId, purchLine.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #
          #    ret = super() && ret;
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    PurchLine       localPurchLine;
          #    boolean         agreementWasChanged = (purchLine.MatchingAgreementLine != purchLine.orig().MatchingAgreementLine);
          #    boolean         isPurchLineReread;
          #    boolean         isPurchLineRefreshed;
          #
          #    PurchLineWritePreSuperInputContract     inputContractPre = PurchLineWritePreSuperInputContract::construct();
          #    PurchLineWritePreSuperOutputContract    outputContractPre;
          #    PurchLineWritePostSuperInputContract    inputContractPost = PurchLineWritePostSuperInputContract::construct();
          #    PurchLineWritePostSuperOutputContract   outputContractPost;
          #
          #    boolean             newTax1099Detail;
          #    Tax1099Fields       tax1099Fields;
          #
          #    newTax1099Detail = tax1099BoxDetail.RecId;
          #
          #    dimensionDefaultingControllerLine.writing();
          #
          #    inputContractPre.parmPurchTable(purchTable);
          #    inputContractPre.parmPurchLine(purchLine);
          #    outputContractPre   = purchTableForm.purchLine_WritePreSuper(inputContractPre);
          #    autoConfig          = outputContractPre.parmAutoConfig();
          #
          #    if (outputContractPre.parmPurchTableCheckUpdate())
          #    {
          #        buf2Buf(outputContractPre.parmPurchLine(), purchLine);
          #
          #        if (PurchLine::hasExensionTableEnabled())
          #        {
          #            purchLine.SysExtensionSerializerMap::unPackAll();
          #        }
          #
          #        purchLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #        if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)) && (purchLine.Tax1099Fields || purchLine.Tax1099RecId))
          #        {
          #            //Must make sure we write tax1099Detail only when we are writing purchLine to maintain relationship
          #            if (purchLine.Tax1099Fields)
          #            {
          #                tax1099Fields = outputContractPre.parmTax1099Fields();
          #            }
          #
          #            if (tax1099Fields && (tax1099Fields.Tax1099Box == #G_1
          #                                    || tax1099Fields.Tax1099Box == #G_2
          #                                    || tax1099Fields.Tax1099Box == #S_2))
          #            {
          #                try
          #                {
          #                    tax1099BoxDetail_ds.write(true);
          #
          #                    if (!newTax1099Detail)
          #                    {
          #                        purchLine.Tax1099RecId = tax1099BoxDetail.RecId;
          #                    }
          #                }
          #                catch
          #                {
          #                    return;
          #                }
          #            }
          #            else
          #            {
          #                if (tax1099BoxDetail)
          #                {
          #                    tax1099BoxDetail.delete();
          #                }
          #                purchLine.Tax1099RecId = 0;
          #            }
          #        }
          #
          #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)) && outputContractPre.parmRetailSumLinesHasChanged())
          #        {
          #            retailSumLines_ds.research();
          #        }
          #
          #        if (isWHSPurchLineEnabled && !whsPurchLine.RecId)
          #        {
          #            purchLine.PackedWHSLine = buf2Con(whsPurchLine);
          #        }
          #
          #        super();
          #
          #        if (isWHSPurchLineEnabled)
          #        {
          #            whsPurchLine.data(WHSPurchLine::find(purchLine.InventTransId));
          #        }
          #
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(PurchLine_Intrastat)))
          #        {
          #           purchLine_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchLine);
          #        }
          #        if (isPurchLine_INEnabled)
          #        {
          #            purchLine_IN.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchLine);
          #        }
          #        if (isPurchLine_WEnabled)
          #        {
          #            purchLine_W.SysExtensionSerializerExtensionMap::insertAfterBaseTable(purchLine);
          #        }
          #
          #        inputContractPost.parmPurchTableCheckUpdate(outputContractPre.parmPurchTableCheckUpdate());
          #        inputContractPost.parmPurchLine(purchLine);
          #        inputContractPost.parmAutoConfig(autoConfig);
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            inputContractPost.parmCopyTaxGroupToMarkupTrans(copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        purchTable_ds.onSummaryRecordsInvalid(tableNum(PurchTotalsSummary));
          #
          #        if (purchLine.isCategoryBased() && !purchLineForeignTradeCategory.PurchLineInventTransId)
          #        {
          #            purchLineForeignTradeCategory.initFromPurchLine(purchLine);
          #            purchLineForeignTradeCategory_ds.write();
          #            inputContractPost.parmUpdatePendingRegistrationsNonStocked(true);
          #        }
          #
          #        outputContractPost = purchTableForm.purchLine_WritePostSuper(inputContractPost);
          #
          #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)) && outputContractPost.parmRetailSumLinesHasChanged())
          #        {
          #            retailSumLines_ds.research();
          #            purchLine_ds.reread();
          #            isPurchLineReread = true;
          #            purchLine_ds.refresh();
          #            isPurchLineRefreshed = true;
          #        }
          #
          #        if (purchLine.InventDimId != inventDim.InventDimId)
          #        {
          #            inventDim.data(InventDim::find(purchLine.InventDimId));
          #            inventDim_ds.setCurrent();
          #        }
          #
          #        purchTableForm.refreshDeliverySchedule(purchLine, agreementWasChanged && !purchLine.MatchingAgreementLine);
          #
          #        if (TaxParameters::isCustomsEnable_IN()
          #            && purchTable_W.CustomsImportOrder_IN
          #            && TaxParameters::find().EximIncentiveSchemes_IN
          #            && eximPurchLine_IN)
          #        {
          #            eximPurchLine_IN.write();
          #        }
          #
          #        if (purchTable.InterCompanyOrder)
          #        {
          #            localPurchLine.data(purchLine.data());
          #            purchLine_ds.executeQuery();
          #            purchLine_ds.findRecord(localPurchLine);
          #        }
          #
          #        if (!(isPurchLineReread && isPurchLineRefreshed))
          #        {
          #            // update purchase order line budget check result display.
          #            purchLine_ds.updateBudgetCheckResultDisplay();
          #        }
          #        purchTable_ds.reread();
          #        purchTable_ds.refresh();
          #        purchLine_ds.reread();
          #        purchLine_ds.refresh();
          #    }
          #    else
          #    {
          #        outputContractPost = purchTableForm.purchLine_WritePostSuper(inputContractPost);
          #        purchLine_ds.reread();
          #        purchTable_ds.reread();
          #    }
          #
          #    if (isRU)
          #    {
          #        element.enableInvoice4PaymButtons();
          #    }
          #
          #    interCompanyIsPriceDiscSearchNeeded = 0;
          #
          #
          #    if (outputContractPost.parmCreditNoteCashDiscMessage())
          #    {
          #        info("@SYS99051");
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchLineForeignTradeCategory
          Table               #PurchLineForeignTradeCategory
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #PurchLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #allowEdtItemCodeId
          #void allowEdtItemCodeId()
          #{
          #    if (purchLine.isCategoryBased())
          #    {
          #        if (purchLine.receivedInTotal()    != 0
          #        ||  purchLine.registered()         != 0
          #        ||  purchLine.invoicedInTotal()    != 0)
          #        {
          #            purchLineForeignTradeCategory_ds.object(fieldNum(PurchLineForeignTradeCategory, ItemCodeId)).allowEdit(false);
          #            purchLineForeignTradeCategory_ds.object(fieldNum(PurchLineForeignTradeCategory, ItemCodeId)).skip(true);
          #        }
          #        else
          #        {
          #            purchLineForeignTradeCategory_ds.object(fieldNum(PurchLineForeignTradeCategory, ItemCodeId)).allowEdit(true);
          #            purchLineForeignTradeCategory_ds.object(fieldNum(PurchLineForeignTradeCategory, ItemCodeId)).skip(false);
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int     ret;
          #    boolean allowEditLine;
          #
          #    ret = super();
          #
          #    if (purchLine.isCategoryBased())
          #    {
          #        allowEditLine = purchTableForm.editLineAllowed(purchLine);
          #        purchLineForeignTradeCategory_ds.allowEdit(allowEditLine);
          #        if (allowEditLine)
          #        {
          #            purchLineForeignTradeCategory_ds.allowEdtItemCodeId();
          #        }
          #    }
          #    else
          #    {
          #        purchLineForeignTradeCategory_ds.allowEdit(false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (purchLine.RecId && purchLine.isCategoryBased())
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    boolean             isPurchLineResearch;
          #    PurchTableVersion   purchTableVersion;
          #
          #    if (purchLine.RecId && purchLine.isCategoryBased())
          #    {
          #        if (!purchTable.ChangeRequestRequired && purchTable.DocumentState == VersioningDocumentState::Confirmed)
          #        {
          #            purchTableVersion = PurchTableVersion::findLatest(purchTable.PurchId, purchTable.DataAreaId);
          #            if (purchTableVersion && purchTableVersion.IsArchived == NoYes::No)
          #                isPurchLineResearch = true;
          #        }
          #
          #        super();
          #
          #        if (isPurchLineResearch)
          #            purchLine_ds.research(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (purchLine.isCategoryBased())
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    this.query().dataSourceTable(this.table()).addRange(fieldNum(PurchLineForeignTradeCategory, IsDeleted)).value(queryValue(NoYes::No));
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #PurchLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventBatchId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    // IS_HV_06003 -->
                #    InventBatch     inventBatchTable;
                #    InventTable     inventTable;
                #    // <--
                #
                #    super();
                #
                #    // IS_HV_06003 -->
                #    inventBatchTable = InventBatch::find(inventDim.inventBatchId, purchLine.ItemId);
                #
                #    if (inventBatchTable.Scrap_HV == NoYes::Yes)
                #    {
                #        if (Box::okCancel("@HVP281", DialogButton::Cancel) == dialogButton::Cancel)
                #            inventDim.inventBatchId = inventDim.orig().inventBatchId;
                #    }
                #    // <--
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventBatchId), !purchLine.MatchingAgreementLine);
                #
                #    // IS_HV_06003 -->
                #    purchLine.ConvertFactorKGA_HV = inventBatchTable.ConvertFactorKGA_HV;
                #    //purchLine.Dimension[3] = inventBatchTable.Dimension[3];
                #    purchLine.IS_ProducerCode = inventBatchTable.IS_ProducerCode;
                #
                #    if (!inventDim.inventBatchId)
                #    {
                #        purchLine.ConvertFactorKGA_HV = InventTable::find(purchLine.ItemId).ConvertFactorKGA_HV;
                #        //purchLine.Dimension[3] = InventTable::find(purchLine.ItemId).Dimension[3];
                #        purchLine.IS_ProducerCode = EcoResProduct::find(inventTable.Product).IS_ProducerCode;
                #    }
                #
                #    purchLine.modifyKGAQty_HV(purchLine, inventDim);
                #    purchLine.modifyReceiveNowAI_HV(purchLine, inventDim);
                #    // <--
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,wmsLocationId), !purchLine.MatchingAgreementLine);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,wmsPalletId), !purchLine.MatchingAgreementLine);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsPalletId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventSerialId), !purchLine.MatchingAgreementLine);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSerialId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventLocationId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine.setAddressFromInventDim(inventDim);
                #    purchLine_ds.rereadReferenceDataSources();
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #    RetailStoreTable                    rboStoreTable;
                #    RetailChannelTable                  retailChannelTable;
                #    RetailChannelAssortedProductView    retailChannelAssortedProductView;
                #    InventTable                         inventTable;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail))
                #        && ret)
                #    {
                #        select firstonly InventLocation, RecId, PoItemFilter, StoreNumber from rboStoreTable where
                #            rboStoreTable.InventLocation == inventDim.InventLocationId;
                #
                #        if (rboStoreTable.RecId && rboStoreTable.PoItemFilter == true)
                #        {
                #            select firstonly RecId
                #                from retailChannelTable
                #                    where retailChannelTable.RecId == rboStoreTable.RecId
                #                join omOperatingUnitId, ProductID, InventLocationDataAreaId from retailChannelAssortedProductView
                #                    where retailChannelAssortedProductView.omOperatingUnitId == retailChannelTable.omOperatingUnitID
                #                join ItemId, Product, DataAreaId from inventTable
                #                    where inventTable.Product == retailChannelAssortedProductView.ProductID &&
                #                    inventTable.DataAreaId == retailChannelAssortedProductView.InventLocationDataAreaId &&
                #                    inventTable.DataAreaId == purchLine.DataAreaId &&
                #                    inventTable.ItemId == purchLine.ItemId;
                #
                #
                #            if (!retailChannelTable)
                #            {
                #                return checkFailed(strFmt("@RET4631", purchLine.ItemId, rboStoreTable.StoreNumber));
                #            }
                #        }
                #    }
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,ConfigId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(!EcoResProductMasterConfigurationMgr::configure(  _formControl,
                #                                                        purchLine.ItemId,
                #                                                        InventDim::findOrCreate(inventDim).InventDimId,
                #                                                        purchLine.deliveryDate(),
                #                                                        purchLine.ItemBOMId,
                #                                                        purchLine.QtyOrdered))
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,ConfigId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventSizeId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSizeId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventColorId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventColorId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSiteId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventSiteId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine.setAddressFromInventDim(inventDim);
                #    purchLine_ds.rereadReferenceDataSources();
                #    purchLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventGtdId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,
                #                              fieldNum(InventDim, InventGtdId_RU));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventGtdId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim, fieldNum(InventDim, InventProfileId_RU));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim, fieldNum(InventDim, InventProfileId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventOwnerId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim, fieldNum(InventDim, InventOwnerId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventOwnerId_RU));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStyleId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim,InventStyleId), !purchLine.MatchingAgreementLine);
                #
                #    purchLine_ds.cacheCalculateMethod(tableMethodStr(PurchLine, itemName));
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventStyleId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStatusId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = purchLine.validateModifyInventDim(inventDim,fieldNum(InventDim, InventStatusId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    purchLine.modifyInventDim(inventDim,fieldNum(InventDim, InventStatusId), !purchLine.MatchingAgreementLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #//    super();
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    purchLine_ds.initInventDim();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #FiscalEstablishment
          #display FiscalEstablishmentId_BR FiscalEstablishment()
          #{
          #    return inventDim.inventSite().fiscalEstablishment().FiscalEstablishmentId;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EMSPurchOrderFlowRelation
          Table               #EMSPurchOrderFlowRelation
          AllowCheck          #No
          JoinSource          #PurchLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    hasEMSAccess = element.hasTableAccess(this.table());
          #    element.handleSecurity(this, hasEMSAccess);
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    element.numberSeqFormHandler().formMethodDataSourceCreatePre();
          #
          #    super(_append);
          #
          #    element.numberSeqFormHandler().formMethodDataSourceCreate();
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{
          #    element.numberSeqFormHandler().formMethodDataSourceDelete();
          #    super();
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    element.numberSeqFormHandler().formMethodDataSourceWrite();
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean isValid;
          #
          #    isValid = super();
          #
          #    if (isValid)
          #    {
          #        isValid = element.numberSeqFormHandler().formMethodDataSourceValidateWrite(isValid);
          #    }
          #
          #    return isValid;
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    super();
          #
          #    emsPurchOrderFlowRelation.RefRecId = purchLine.RecId;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EMSFlow
          Table               #EMSFlow
          AllowCheck          #No
          JoinSource          #EMSPurchOrderFlowRelation
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SubstanceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    // The lookup should only be available if Source is set, otherwise this field is disabled.
                #    // The lookup should only show the substances associated to the source, as well as with destination
                #    // if the destination has a value.
                #    SysTableLookup       sysTableLookup = SysTableLookup::newParameters(tableNum(EMSSubstance), _formControl);
                #    Query                query;
                #    QueryBuildDataSource qbsEMSSubstance, qbsEMSProcessReference;
                #    QueryBuildRange      queryBuildRange;
                #
                #    if (emsFlow.SourceProcessId != '' && emsFlow.IsAccidental == false)
                #    {
                #        sysTableLookup.addLookupfield(fieldNum(EMSSubstance, SubstanceId));
                #        sysTableLookup.addLookupfield(fieldNum(EMSSubstance, Description));
                #
                #        query = new Query();
                #        qbsEMSSubstance = query.addDataSource(tableNum(EMSSubstance));
                #        qbsEMSProcessReference = qbsEMSSubstance.addDataSource(tableNum(EMSProcessReference));
                #        qbsEMSProcessReference.joinMode(JoinMode::ExistsJoin);
                #        queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,SubstanceId));
                #
                #        if (emsFlow.DestinationProcessId != '')
                #        {
                #            queryBuildRange.value(
                #                    strFmt('((%2.%3 == \"%5\") && (%2.%4 == \"%6\")) && ((%1.%7 == %2.%7) || (%1.%8 == %2.%8))',
                #                       query.dataSourceTable(tableNum(EMSSubstance)).name(),
                #                       query.dataSourceTable(tableNum(EMSProcessReference)).name(),
                #                       fieldStr(EMSProcessReference,SourceProcessId),
                #                       fieldStr(EMSProcessReference,DestinationProcessId),
                #                       emsFlow.SourceProcessId,
                #                       emsFlow.DestinationProcessId,
                #                       fieldStr(EMSSubstance, SubstanceId),
                #                       fieldStr(EMSSubstance, SubstanceCategoryId)));
                #        }
                #        else
                #        {
                #             queryBuildRange.value(
                #                    strFmt('(%2.%3 == \"%5\") && ((%1.%6 == %2.%6) || (%1.%7 == %2.%7))',
                #                       query.dataSourceTable(tableNum(EMSSubstance)).name(),
                #                       query.dataSourceTable(tableNum(EMSProcessReference)).name(),
                #                       fieldStr(EMSProcessReference,SourceProcessId),
                #                       fieldStr(EMSProcessReference,DestinationProcessId),
                #                       emsFlow.SourceProcessId,
                #                       fieldStr(EMSSubstance, SubstanceId),
                #                       fieldStr(EMSSubstance, SubstanceCategoryId)));
                #        }
                #
                #        sysTableLookup.parmQuery(query);
                #        sysTableLookup.performFormLookup();
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    emsFlow.UnitOfMeasure = EMSSubstance::find(emsFlow.SubstanceId).UnitOfMeasure;
                #    emsFlow_UnitOfMeasure.value(emsFlow.UnitOfMeasure);
                #    if (UnitOfMeasureConverter::canBeConverted(
                #            UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit),
                #            emsFlow.UnitOfMeasure))
                #    {
                #        emsFlow.UnitOfMeasure = UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId;
                #        emsFlow.SubstanceEntryQty = purchLine.PurchQty;
                #    }
                #    else
                #    {
                #        emsFlow.SubstanceEntryQty = 0;
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SourceProcessId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(EMSProcess), _formControl);
                #    Query                   query;
                #    QueryBuildDataSource    qbsEMSProcess, qbsEMSProcessReference;
                #    QueryBuildRange         queryBuildRange;
                #    EMSSubstanceCategoryId  substanceCategoryId;
                #
                #    if (emsFlow.DestinationProcessId != '')
                #    {
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, ProcessId));
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, Description));
                #
                #        query = new Query();
                #        qbsEMSProcess = query.addDataSource(tableNum(EMSProcess));
                #        qbsEMSProcess.addGroupByField(fieldNum(EMSProcess,ProcessId));
                #        qbsEMSProcess.addGroupByField(fieldNum(EMSProcess,Description));
                #        qbsEMSProcessReference = qbsEMSProcess.addDataSource(tableNum(EMSProcessReference));
                #        qbsEMSProcessReference.addLink(fieldNum(EMSProcess,ProcessId),fieldNum(EMSProcessReference,SourceProcessId));
                #        qbsEMSProcessReference.joinMode(JoinMode::ExistsJoin);
                #
                #        queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,DestinationProcessId));
                #        queryBuildRange.value(queryValue(emsFlow.DestinationProcessId));
                #        if (emsFlow.SubstanceId != '')
                #        {
                #            queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,SubstanceId));
                #            substanceCategoryId = EMSSubstance::find(emsFlow.SubstanceId).SubstanceCategoryId;
                #            queryBuildRange.value(
                #                  strFmt('(%1 == "%3") || (%2 == "%4")',
                #                       fieldStr(EMSProcessReference,SubstanceId),
                #                       fieldStr(EMSProcessReference,SubstanceCategoryId),
                #                       emsFlow.SubstanceId,
                #                       substanceCategoryId));
                #        }
                #
                #        sysTableLookup.parmQuery(query);
                #        sysTableLookup.performFormLookup();
                #    }
                #    else if (emsFlow.SubstanceId != '')
                #    {
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, ProcessId));
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, Description));
                #
                #        query = new Query();
                #        qbsEMSProcess = query.addDataSource(tableNum(EMSProcess));
                #        qbsEMSProcess.addGroupByField(fieldNum(EMSProcess,ProcessId));
                #        qbsEMSProcess.addGroupByField(fieldNum(EMSProcess,Description));
                #        qbsEMSProcessReference = qbsEMSProcess.addDataSource(tableNum(EMSProcessReference));
                #        qbsEMSProcessReference.addLink(fieldNum(EMSProcess,ProcessId),fieldNum(EMSProcessReference,SourceProcessId));
                #        qbsEMSProcessReference.joinMode(JoinMode::ExistsJoin);
                #        queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,SubstanceId));
                #        substanceCategoryId = EMSSubstance::find(emsFlow.SubstanceId).SubstanceCategoryId;
                #        queryBuildRange.value(
                #              strFmt('(%1 == "%3") || (%2 == "%4")',
                #                   fieldStr(EMSProcessReference,SubstanceId),
                #                   fieldStr(EMSProcessReference,SubstanceCategoryId),
                #                   emsFlow.SubstanceId,
                #                   substanceCategoryId));
                #
                #        sysTableLookup.parmQuery(query);
                #        sysTableLookup.performFormLookup();
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // This should control and disable the Substance and Destination if the
                #    // Source is cleared out.
                #    element.setControls();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DestinationProcessId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    // The lookup should only be available if Source is set, otherwise this field is disabled.
                #    // The lookup should only show the processes associated to the source, as well as with the substance
                #    // if the substance has a value.
                #
                #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(EMSProcess), _formControl);
                #    Query                   query;
                #    QueryBuildDataSource    qbsEMSProcess, qbsEMSProcessReference;
                #    QueryBuildRange         queryBuildRange;
                #    EMSSubstanceCategoryId  substanceCategoryId;
                #
                #    if (emsFlow.SourceProcessId != '' && emsFlow.IsAccidental == false)
                #    {
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, ProcessId));
                #        sysTableLookup.addLookupfield(fieldNum(EMSProcess, Description));
                #
                #        query = new Query();
                #        qbsEMSProcess = query.addDataSource(tableNum(EMSProcess));
                #        qbsEMSProcessReference = qbsEMSProcess.addDataSource(tableNum(EMSProcessReference));
                #        qbsEMSProcessReference.addLink(fieldNum(EMSProcess,ProcessId),fieldNum(EMSProcessReference,DestinationProcessId));
                #        qbsEMSProcessReference.joinMode(JoinMode::ExistsJoin);
                #
                #        queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,SourceProcessId));
                #        queryBuildRange.value(queryValue(emsFlow.SourceProcessId));
                #
                #        if (emsFlow.SubstanceId != '')
                #        {
                #            queryBuildRange = qbsEMSProcessReference.addRange(fieldNum(EMSProcessReference,SubstanceId));
                #            substanceCategoryId = EMSSubstance::find(emsFlow.SubstanceId).SubstanceCategoryId;
                #            queryBuildRange.value(
                #                  strFmt('(%1 == "%3") || (%2 == "%4")',
                #                       fieldStr(EMSProcessReference,SubstanceId),
                #                       fieldStr(EMSProcessReference,SubstanceCategoryId),
                #                       emsFlow.SubstanceId,
                #                       substanceCategoryId));
                #        }
                #
                #        sysTableLookup.parmQuery(query);
                #        sysTableLookup.performFormLookup();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    hasEMSAccess = element.hasTableAccess(this.table());
          #    element.handleSecurity(this, hasEMSAccess);
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean isValid;
          #
          #    // Because of the join type between EMSFlow and EMSInvoiceRegisterFlowRelation tables,
          #    // the FlowId is not set during EMSFlow.initValue that's why setting FlowID is
          #    // intentionally done in this method, before writing to the table.
          #    emsFlow.FlowId = !emsFlow.FlowId ? emsPurchOrderFlowRelation.FlowId : emsFlow.FlowId;
          #
          #    isValid = super();
          #
          #    return isValid;
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    super(_append);
          #
          #    // This should control and disable the Substance and Destination since the
          #    // Source is still empty at this point.
          #    element.setControls();
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #
          #    super();
          #
          #    // Set the sourceProcessId if only one is available.
          #    if (EMSProcessRelation::typeLikeCount(EMSRelationTypes::Vendor,
          #                                      tableNum(VendTable),
          #                                      VendTable::find(purchTable.OrderAccount).RecId) == 1)
          #    {
          #        emsFlow.SourceProcessId = EMSProcessRelation::find(EMSRelationTypes::Vendor,
          #                                          tableNum(VendTable),
          #                                          VendTable::find(purchTable.OrderAccount).RecId).ProcessID;
          #    }
          #    // Set the substanceId if only one is available.
          #    if (EMSSubstance::itemLikeCount(purchLine.ItemId, purchLine.InventDimId) == 1)
          #    {
          #        emsFlow.SubstanceId = EMSSubstance::findbyItemId(purchLine.ItemId, purchLine.InventDimId).SubstanceId;
          #        emsFlow.UnitOfMeasure = EMSSubstance::find(emsFlow.SubstanceId).UnitOfMeasure;
          #        if (UnitOfMeasureConverter::canBeConverted(
          #                UnitOfMeasure::unitOfMeasureIdBySymbol(purchLine.PurchUnit),
          #                emsFlow.UnitOfMeasure))
          #        {
          #            emsFlow.UnitOfMeasure = UnitOfMeasure::findBySymbol(purchLine.PurchUnit).RecId;
          #            emsFlow.SubstanceEntryQty = purchLine.PurchQty;
          #        }
          #    }
          #    // Set the destinationprocessId if only one is available.
          #    if (EMSProcessReference::destinationProcessLikeCount(emsFlow.SourceProcessId, emsFlow.SubstanceId) == 1)
          #    {
          #        emsFlow.DestinationProcessId = EMSProcessReference::find(emsFlow.SourceProcessId, emsFlow.SubstanceId).DestinationProcessId;
          #    }
          #
          #
          #    emsFlow.FlowOriginType = EMSFlowOriginType::PurchaseOrder;
          #    emsFlow.TransactionCurrencyAmount = purchLine.LineAmount;
          #    emsFlow.TransactionCurrency       = purchLine.CurrencyCode;
          #    emsFlow.TransDate                 = purchLine.DeliveryDate;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    emsFlow.ScopeType = EMSProcessReference::find(emsFlow.SourceProcessId, emsFlow.SubstanceId).ScopeType;
          #    super();
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    flow_SourceProcessId.allowEdit(!emsFlow.IsProcessed);
          #    flow_SubstanceId.allowEdit(!emsFlow.IsProcessed);
          #    flow_SubstanceEntryQty.allowEdit(!emsFlow.IsProcessed);
          #    emsFlow_UnitOfMeasure.allowEdit(!emsFlow.IsProcessed);
          #    flow_DestinationProcessId.allowEdit(!emsFlow.IsProcessed);
          #    flow_FromDateTime.allowEdit(!emsFlow.IsProcessed);
          #    flow_ToDateTime.allowEdit(!emsFlow.IsProcessed);
          #    flow_Amount.allowEdit(!emsFlow.IsProcessed);
          #    emsFlow_TransactionCurrency.allowEdit(!emsFlow.IsProcessed);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{
          #    element.numberSeqFormHandler().formMethodDataSourceDelete();
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PDSAdvancedPriceInfo
          Table               #PDSAdvancedPriceInfo
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #PurchLine
          LinkType            #OuterJoin
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (!#PDSPotencyEnabled)
          #    {
          #        pdsAdvancedPriceInfo_DS.joinSource(null);
          #        pdsAdvancedPriceInfo_DS.linkType(QueryDataLinkType::None);
          #    }
          #    super();
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    //super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable_Intrastat
          Table               #PurchTable_Intrastat
          JoinSource          #PurchTable
          LinkType            #OuterJoin
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchLine_Intrastat
          Table               #PurchLine_Intrastat
          JoinSource          #PurchLine
          LinkType            #OuterJoin
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable_BR
          Table               #PurchTable_BR
          JoinSource          #PurchTable
          LinkType            #Passive
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CFPSId_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CFPSTable_BR::lookup(_formControl, SalesPurchBoth_BR::Purch);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesPurchOperationType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    boolean                     ret;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(purchLine);
                #
                #    ret = salesPurchOperationTypeController_BR.validate(purchTable_BR.SalesPurchOperationType_BR, cfopAttributesDeterminer);
                #
                #    if (ret && !purchTable.createInventTrans_BR())
                #    {
                #        if (Box::yesNo("@GLS104", DialogButton::No) == DialogButton::No)
                #        {
                #            return false;
                #        }
                #    }
                #
                #    return super() && ret;
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    SalesPurchOperationTypeController_BR s;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(purchLine);
                #    s = new SalesPurchOperationTypeController_BR (element.name());
                #    return s.lookupReference(_formReferenceControl, cfopAttributesDeterminer);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (isPurchTableEnabled_BR)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RetailPackagePurch
          Table               #RetailPackagePurch
          AllowCheck          #No
          JoinSource          #PurchLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PackageId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Qty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Retail Package Purchase - Qty - Modified
                #/// </summary>
                #public void modified()
                #{
                #    super();
                #
                #    purchTable_ds.reReadLines();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD QtyReceived
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Retail Package Purch - Qty Received - Modified
                #/// </summary>
                #public void modified()
                #{
                #    super();
                #
                #    purchTable_ds.reReadLines();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #delete
          #/// <summary>
          #/// Retail Package Purch - Delete
          #/// </summary>
          #public void delete()
          #{
          #    super();
          #
          #    purchTable_ds.reread();
          #    purchTable_ds.reReadLines();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RetailSumLines
          Table               #RetailSumLines
          Index               #PurchLineIdx
          CounterField        #LineNum
          AllowCheck          #No
          JoinSource          #PurchTable
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Retail Sum Lines - Item ID - Modified
                #/// </summary>
                #public void modified()
                #{
                #    ;
                #
                #    retailSumLines_DS.inventLocationIdActive();
                #
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #/// <summary>
          #/// Retail Sum Lines - Write
          #/// </summary>
          #public void write()
          #{
          #    super();
          #
          #    purchLine_ds.refresh();
          #    purchLine_ds.research();
          #    purchLine_ds.active();
          #
          #}
        ENDSOURCE
        SOURCE #active
          #/// <summary>
          #/// Retail Sum LInes - Active
          #/// </summary>
          #/// <returns>
          #/// boolean
          #/// </returns>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    this.inventLocationIdActive();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #inventLocationIdActive
          #/// <summary>
          #/// Retail Sum Lines - Invent Location ID active
          #/// </summary>
          #void inventLocationIdActive()
          #{
          #    InventDimGroupFieldSetup inventDimGroupFieldSetup = InventDimGroupSetup::newItemId(retailSumLines.ItemId).getFieldSetup(fieldNum(InventDim,InventLocationId));
          #
          #    fshSumLines_InventLocationId.allowEdit(inventDimGroupFieldSetup.isActive());
          #}
        ENDSOURCE
        SOURCE #initValue
          #/// <summary>
          #/// Retail Sum Lines - Initilize Value
          #/// </summary>
          #public void initValue()
          #{
          #    super();
          #
          #    retailSumlines.InventLocationId = purchTable.InventLocationId;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximPurchLine_IN
          Table               #EximPurchLine_IN
          Index               #PurchLineRecIdx
          AllowCheck          #No
          AllowDelete         #No
          JoinSource          #PurchLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD EximIncentiveSchemeGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (eximPurchLine_IN.EximIncentiveSchemeGroup)
                #    {
                #        eximPurchLine_IN.EximPorts = EximIncentiveSchemeGroup_IN::find(eximPurchLine_IN.EximIncentiveSchemeGroup).EximPortId;
                #    }
                #
                #    eximPurchLine_IN_ds.object(fieldNum(EximPurchLine_IN, ApplyDEPB)).allowEdit(element.enableApplyDEPB_IN());
                #    eximPurchLine_IN_ds.rereadReferenceDataSources();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #    if (ret)
          #    {
          #        eximPurchLine_IN_ApplyDEPB.allowEdit(element.enableApplyDEPB_IN());
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #prev
          #int prev()
          #{
          #    int ret;
          #
          #    ret = purchLine_ds.prev();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #next
          #int next()
          #{
          #    int ret;
          #
          #    ret = purchLine_ds.next();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #last
          #int last()
          #{
          #    int ret;
          #
          #    ret = purchLine_ds.last();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #first
          #int first()
          #{
          #    int ret;
          #
          #    ret = purchLine_ds.first();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    purchLine_ds.create();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #Tax1099BoxDetail
          Table               #Tax1099BoxDetail
          AllowCheck          #No
          JoinSource          #PurchLine
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD State
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    tax1099BoxDetail.Tax1099StateTaxID = VendStateTaxID::findByVendState(purchTable.InvoiceAccount,tax1099BoxDetail.State).StateTaxID;
                #
                #    element.redraw();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Tax1099BoxDetail::lookupTax1099State(_formControl, purchTable.InvoiceAccount);
                #}
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    Tax1099BoxDetail::jumpRefTax1099State(purchTable.InvoiceAccount,tax1099BoxDetail.State);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write(boolean _tax1099DetailRequired = false)
          #{
          #
          #    Tax1099Fields tax1099Fields;
          #
          #    if (_tax1099DetailRequired)
          #    {
          #        //Called as a child record for PurchLine
          #        super();
          #        tax1099Fields = Tax1099Fields::find(purchLine.Tax1099Fields);
          #
          #        if (tax1099Fields.Tax1099Box == #G_2)
          #        {
          #            if(tax1099BoxDetail.Tax1099TaxYear > year(systemDateGet()) && tax1099BoxDetail.Tax1099TaxYear < (year(systemDateGet()) + 15))
          #            {
          #                warning("@SPS2");
          #            }
          #        }
          #    }
          #
          #    else if(purchLine.validateWrite())
          #    {
          #        purchline_ds.write();
          #    }
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean         isValid;
          #    Tax1099Fields   tax1099Fields;
          #
          #
          #    isValid = super();
          #    tax1099Fields = Tax1099Fields::find(purchLine.Tax1099Fields);
          #
          #    if(isValid)
          #    {
          #        if (isValid && tax1099Fields.Tax1099Box == #G_1)
          #        {
          #            if ((abs(tax1099BoxDetail.Tax1099StateTaxWithheld) > abs(purchLine.Tax1099Amount)))
          #            {
          #                isValid = checkFailed(strFmt("@SPS1943"));
          #            }
          #        }
          #
          #        if (tax1099Fields.Tax1099Box == #S_2)
          #        {
          #            if ((tax1099BoxDetail.Tax1099DateOfClosing == dateNull()) || (tax1099BoxDetail.Tax1099AddressorLegalDesc ==""))
          #            {
          #                isValid = checkFailed("@SPS3");
          #            }
          #        }
          #
          #        else if (tax1099Fields.Tax1099Box == #G_2)
          #        {
          #            if ((tax1099BoxDetail.Tax1099TaxYear < (year(systemDateGet())-15)) || (tax1099BoxDetail.Tax1099TaxYear > (year(systemDateGet()) + 10)) )
          #            {
          #                isValid = checkFailed(strFmt("@SPS17", "@SPS1064", int2str(year(systemDateGet()) - 15), int2str(year(systemDateGet()) + 10)));
          #            }
          #        }
          #    }
          #
          #    return isValid;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RAssetPurchTrans
          Table               #RAssetPurchTrans
          Index               #TableRecAssetIdx
          AllowCheck          #No
          JoinSource          #PurchLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret = super();
          #
          #    rassetpurchTrans_ds.allowDelete(rAssetPurchTrans.Posted ?
          #                                    false :
          #                                    purchTableForm.editLineAllowed(purchLine) && (element.allowEditAsset_RU() || purchLine.ProcurementCategory));
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    super();
          #    purchTable_ds.reread();
          #    purchTable_ds.refresh();
          #    purchTable_ds.selectionChanged();
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{
          #    super();
          #    purchTable_ds.reread();
          #    purchTable_ds.refresh();
          #    purchTable_ds.selectionChanged();
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    super();
          #    rAssetPurchTrans.initFromPurchLine(purchLine);
          #}
        ENDSOURCE
        SOURCE #linkActive
          #public void linkActive()
          #{
          #    boolean allowEdit;
          #
          #    super();
          #
          #    allowEdit = purchTableForm.editLineAllowed(purchLine) && (element.allowEditAsset_RU() || purchLine.ProcurementCategory);
          #
          #    rassetpurchTrans_ds.allowEdit(allowEdit);
          #    rassetpurchTrans_ds.allowCreate(allowEdit);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxInformation_IN
          Table               #TaxInformation_IN
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #PurchLine_IN
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD SalesTaxRegistrationNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #        TaxType_IN::SalesTax,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TIN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.tin).RegistrationNumber,
                #        TaxType_IN::VAT,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TAN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxWithholdRegNumbers_IN::jumpRef(
                #        TaxWithholdRegNumbers_IN::find(taxInformation_IN.tin).RegistrationNumber,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ManECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ManECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TraderECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TraderECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD IECRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.iecRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Customs,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD STCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.stcRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::ServiceTax,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ECCNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.eccNumber).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        purchLine);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchLine_IN
          Table               #PurchLine_IN
          JoinSource          #PurchLine
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CompanyLocation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRefLocationAddressForm(purchLine_IN.CompanyLocation_IN, this);
                #}
                #
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    purchLine_IN_DS.object(fieldNum(PurchLine_IN, TaxInformation_IN)).modified();
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::locationLookup(_formReferenceControl, CompanyInfo::find().RecId);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, Direction_IN::Import);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(Direction_IN::Import));
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD DirectSettlement_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    if (purchLine_IN.DirectSettlement_IN != DirectSettlement_IN::PLA)
                #    {
                #        purchLine_IN.cenvatCreditAvailed_IN = NoYes::No;
                #    }
                #    element.enableFieldsActive_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ExciseRecordType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    if (purchLine_IN.ExciseRecordType_IN != ExciseRecordType_IN::RG23C)
                #    {
                #        purchLine_IN.cenvatCreditAvailed_IN = NoYes::No;
                #    }
                #    element.enableFieldsActive_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ExciseType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    purchLine_IN_ds.enableExciseFields_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD TaxInformation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRef(purchLine_IN.TaxInformation_IN, this);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    taxInformation_IN_DS.linkActive();
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::lookup(_formReferenceControl, purchline_IN.CompanyLocation_IN);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        purchLine_IN_ds.rereadReferenceDataSources();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (purchLine.RecId && purchLine_IN.RecId)
          #    {
          #        purchLine.type().update_IN();
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if (purchLine_IN.PurchLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (purchLine_IN.PurchLine)
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #exciseNone_IN
          #edit ExciseNone_IN exciseNone_IN(
          #    boolean         _set,
          #    ExciseNone_IN   _exciseNone_IN)
          #{
          #    ExciseNone_IN           exciseNone;
          #    purchLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseNone(_set,_exciseNone_IN, purchLine_IN.ExciseRecordType_IN);
          #
          #    exciseNone = taxExciseTypeController.exciseRecordType2ExciseNone(purchLine_IN.ExciseRecordType_IN);
          #    return exciseNone;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (isPurchLine_INEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
        SOURCE #exciseManufacture_IN
          #edit ExciseManufacture_IN exciseManufacture_IN(
          #    boolean                 _set,
          #    ExciseManufacture_IN    _exciseManufacture_IN)
          #{
          #    ExciseManufacture_IN    exciseManufacture;
          #
          #    purchLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseManufacture(
          #        _set,
          #        _exciseManufacture_IN,
          #        purchLine_IN.ExciseRecordType_IN);
          #
          #    exciseManufacture = taxExciseTypeController.exciseRecordType2ExciseManufacture(purchLine_IN.ExciseRecordType_IN);
          #
          #    return exciseManufacture;
          #}
        ENDSOURCE
        SOURCE #exciseTraders_IN
          #edit ExciseTraders_IN exciseTraders_IN(
          #    boolean          _set,
          #    ExciseTraders_IN _exciseTraders_IN)
          #{
          #    ExciseTraders_IN        exciseTraders;
          #
          #    purchLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseTraders(_set,_exciseTraders_IN, purchLine_IN.ExciseRecordType_IN);
          #
          #    exciseTraders = taxExciseTypeController.exciseRecordType2ExciseTraders(purchLine_IN.ExciseRecordType_IN);
          #
          #    return exciseTraders;
          #}
        ENDSOURCE
        SOURCE #enableExciseFields_IN
          #public void enableExciseFields_IN()
          #{
          #    if (TaxParameters::isExciseEnable_IN())
          #    {
          #        taxExciseTypeController.buildUI(
          #            purchLine_IN.ExciseType_IN,
          #            purchLine_IN.ExciseRecordType_IN,
          #            purchLine.ItemId,
          #            purchLine.PurchQty > 0 ? TaxDirection::IncomingTax : TaxDirection::OutgoingTax);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchLine_W
          Table               #PurchLine_W
          JoinSource          #PurchLine
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CountryRegionName_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PurchLine::lookupCountryRegionName_RU(_formControl, purchTable.LanguageId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MarkupCode_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.enableLedgerDimensionDefaultAccount();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    MarkupTable::serviceMarkupCodeLookup_RU(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    if (purchLine_W.PurchLine)
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (isPurchLine_WEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable_W
          Table               #PurchTable_W
          JoinSource          #PurchTable
          LinkType            #Passive
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (isPurchTableEnabled_W)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable_RU
          Table               #PurchTable_RU
          JoinSource          #PurchTable
          LinkType            #Passive
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD AgreementHeaderExt_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // force a refresh because the agreement document title is indirectly related on a different datasource
                #    purchTable_DS.cacheCalculateMethod(tableMethodStr(PurchTable, agreementDocumentTitle_RU));
                #    purchTable_DS.refresh();
                #}
                #
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = PurchAgreementHeaderExt_RU::purchAgreementReferenceLookup(_formReferenceControl,
                #        purchTable.OrderAccount,
                #        purchTable.AccountingDate,
                #        purchTable.InvoiceAccount);
                #
                #    return ret;
                #}
                #
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    PurchAgreementHeaderExt_RU::purchAgreementJumpRef(purchTable_RU.AgreementHeaderExt_RU);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (isPurchTableEnabled_RU)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSLoadLine
          Table               #WHSLoadLine
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #PurchLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    if (tabLoad.isActivePage())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TMSPurchTable
          Table               #TMSPurchTable
          AllowCheck          #No
          JoinSource          #PurchTable
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CarrierCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsPurchTable.RecId == 0)
                #    {
                #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
                #    }
                #
                #    super();
                #
                #    tmsPurchTable.ModeCode  = TMSCarrier::find(tmsPurchTable.CarrierCode).ModeCode;
                #
                #    if (!tmsPurchTable.CarrierCode
                #    || !TMSCarrierService::exist(tmsPurchTable.CarrierServiceCode, tmsPurchTable.CarrierCode))
                #    {
                #        tmsPurchTable.CarrierServiceCode    = "";
                #    }
                #
                #    tmsPurchTable_ds.refresh();
                #
                #    element.tmsUpdatePurchTable();
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CarrierServiceCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsPurchTable.RecId == 0)
                #    {
                #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
                #    }
                #
                #    super();
                #
                #    element.tmsUpdatePurchTable();
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ModeCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsPurchTable.RecId == 0)
                #    {
                #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
                #    }
                #
                #    super();
                #
                #    purchTable_ds.reread();
                #    purchTable_ds.refresh();
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #/// <summary>
          #/// Determines whether the current record is valid and ready to be written to the database.
          #/// </summary>
          #/// <returns>
          #/// true if the record is valid; otherwise, false.
          #/// </returns>
          #/// <remarks>
          #/// Some purchase table records don't have a corresponding tms transportation table record
          #/// so call super only if corresponding record exists
          #/// </remarks>
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (tmsPurchTable.CarrierCode != "" && tmsPurchTable.CarrierServiceCode == "")
          #    {
          #        ret = checkFailed("@TRX733");
          #    }
          #
          #    if (ret
          #    && tmsPurchTable.CarrierCode
          #    && tmsPurchTable.CarrierServiceCode
          #    && !TMSCarrierService::exist(tmsPurchTable.CarrierServiceCode, tmsPurchTable.CarrierCode))
          #    {
          #        ret = checkFailed("@TRX734");
          #    }
          #
          #    if (ret && tmsPurchTable.RecId != 0)
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #write
          #/// <summary>
          #///    Persists a record in the database when super is called.
          #/// </summary>
          #/// <remarks>
          #/// Some purchase table records don't have a corresponding tms transportation table record
          #/// so call write method and not super and it will update database properly
          #/// </remarks>
          #public void write()
          #{
          #    if (!tmsPurchTable.RecId)
          #    {
          #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
          #    }
          #
          #    tmsPurchTable.write();
          #}
          #
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    element.enableTMSFields();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchRFQReplyLinePurchLine
          Table               #PurchRFQReplyLinePurchLine
          Index               #PurchRFQReplyLineIdx
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #PurchLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    return true;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    // Commented out call to Super() to avoid unintentional insert of new record
          #    // or updating an existing record ( Kernel behavior caused by Outerjoin to PurchLine)
          #
          #    //super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSPurchLine
          Table               #WHSPurchLine
          AllowCheck          #No
          JoinSource          #PurchLine
          LinkType            #OuterJoin
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    if (whsPurchLine.RecId)
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (whsPurchLine.RecId)
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressHeader
          Table               #LogisticsPostalAddress
          JoinSource          #PurchTable
          JoinRelation        #DeliveryPostalAddress
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressLine
          Table               #LogisticsPostalAddress
          JoinSource          #PurchLine
          JoinRelation        #DeliveryPostalAddress
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustomsTariffCodeTable_IN
          Table               #CustomsTariffCodeTable_IN
          JoinSource          #PurchLine_IN
          JoinRelation        #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ExciseTariffCodes_IN
          Table               #ExciseTariffCodes_IN
          JoinSource          #PurchLine_IN
          JoinRelation        #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTaxFormTypes_IN
          Table               #SalesTaxFormTypes_IN
          JoinSource          #PurchLine_IN
          JoinRelation        #SalesTaxFormTypes_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ServiceCodeTable_IN
          Table               #ServiceCodeTable_IN
          JoinSource          #PurchLine_IN
          JoinRelation        #ServiceCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDREFERENCEDATASOURCES
  
  JOINS
    PurchLine PurchTable
    PurchLineForeignTradeCategory PurchLine
    InventDim PurchLine
    EMSPurchOrderFlowRelation PurchLine
    EMSFlow EMSPurchOrderFlowRelation
    PDSAdvancedPriceInfo PurchLine
    PurchTable_Intrastat PurchTable
    PurchLine_Intrastat PurchLine
    PurchTable_BR PurchTable
    RetailPackagePurch PurchLine
    RetailSumLines PurchTable
    EximPurchLine_IN PurchLine
    Tax1099BoxDetail PurchLine
    RAssetPurchTrans PurchLine
    TaxInformation_IN PurchLine_IN
    PurchLine_IN PurchLine
    PurchLine_W PurchLine
    PurchTable_W PurchTable
    PurchTable_RU PurchTable
    WHSLoadLine PurchLine
    TMSPurchTable PurchTable
    PurchRFQReplyLinePurchLine PurchLine
    WHSPurchLine PurchLine
    LogisticsPostalAddressHeader PurchTable
    LogisticsPostalAddressLine PurchLine
    CustomsTariffCodeTable_IN PurchLine_IN
    ExciseTariffCodes_IN PurchLine_IN
    SalesTaxFormTypes_IN PurchLine_IN
    ServiceCodeTable_IN PurchLine_IN
  ENDJOINS
  
  PARTREFERENCES
    PARTREFERENCE #PurchLatestOrdersPart
      PROPERTIES
        Name                #PurchLatestOrdersPart
        MenuItemName        #PurchLatestOrdersPart
        DataSource          #PurchTable
        DataSourceRelation  #EDT.PurchTable.OrderAccount
        ElementPosition     #536870911
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #PurchTotalsSummaryPart
      PROPERTIES
        Name                #PurchTotalsSummaryPart
        MenuItemName        #PurchTotalsSummaryPart
        DataSource          #PurchTable
        DataSourceRelation  #EDT.PurchTable.PurchId
        ElementPosition     #1073741822
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #PurchEncumbranceSummaryPart
      PROPERTIES
        Name                #PurchEncumbranceSummaryPart
        MenuItemName        #PurchEncumbranceSummaryPart
        DataSource          #PurchTable
        DataSourceRelation  #EDT.PurchTable.PurchId
        ElementPosition     #1610612733
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS15812
      TitleDatasource     #PurchTable
      DataSource          #PurchTable
      HideIfEmpty         #No
      WorkflowEnabled     #Yes
      WorkflowDatasource  #PurchTable
      WorkflowType        #PurchTableTemplate
      Style               #DetailsFormTransaction
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #1073741822
          HierarchyParent     #FSHSum
          Style               #Strip
          DataSource          #RetailSumLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPaneHeader
          AutoDeclaration     #Yes
          ElementPosition     #357913941
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #EnvironmentActionPane
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #Environment
          Style               #Strip
          DataSource          #EMSPurchOrderFlowRelation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LineOverviewActionStrip
          ElementPosition     #1073741822
          HierarchyParent     #LineViewLines
          Style               #Strip
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #RAssetActionPane
          ElementPosition     #1073741822
          HierarchyParent     #Asset_RU
          Style               #Strip
          DataSource          #RAssetPurchTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Customs
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1932735276
          HierarchyParent     #ActionPaneHeader
          Caption             #@GLS5007
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #EnvironmentActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #EnvironmentActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #General
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114913
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #GeneralSMB
          AutoDeclaration     #Yes
          Visible             #No
          ConfigurationKey    #Retail
          ElementPosition     #1825361094
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114913
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Invoice
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS14204
        ENDPROPERTIES
        
        METHODS
          SOURCE #selectionChanged
            #public void selectionChanged()
            #{
            #    PurchLine purchLineLoc;
            #
            #    super();
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(PSAAPRetainage)))
            #    {
            #        if(!buttonUpdateInvoice.enabled())
            #        {
            #            select firstonly purchLineLoc
            #                where purchLineLoc.PurchId == purchTable.PurchId &&
            #                      purchLineLoc.psaTotalRetainAmount > 0;
            #
            #            if(purchLineLoc)
            #            {
            #                buttonUpdateInvoice.enabled(true);
            #            }
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LineOverviewActionTab
          ElementPosition     #1431655764
          HierarchyParent     #LineOverviewActionStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Manage
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS115306
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Purchase
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS53872
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #PurchOrder
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS25545
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #RAssetActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #RAssetActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Receive
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS52744
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Retail
          AutoDeclaration     #Yes
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1503238548
          HierarchyParent     #ActionPaneHeader
          Caption             #@RET4885
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #TMS
          ElementPosition     #1646404124
          HierarchyParent     #ActionPaneHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #WHS
          ElementPosition     #1574821336
          HierarchyParent     #ActionPaneHeader
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupTMS
          HelpText            #@TRX617
          ElementPosition     #1610612733
          HierarchyParent     #TMS
          Caption             #@TRX597
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupWHS
          ElementPosition     #1431655764
          HierarchyParent     #WHS
          Caption             #@SYS40422
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ChangeStatus_HV
          ElementPosition     #1994091957
          HierarchyParent     #Manage
          Caption             #@HVP369
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CustomsGenerate
          ElementPosition     #1288490187
          HierarchyParent     #Customs
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CustomsJournal
          ElementPosition     #1717986916
          HierarchyParent     #Customs
          Caption             #@SYS2827
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #CustomsMaintain
          ElementPosition     #858993458
          HierarchyParent     #Customs
          Caption             #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #EnvironmentButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #EnvironmentActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Functions
          ElementPosition     #1610612733
          HierarchyParent     #Retail
          Caption             #@RET4211
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #FunctionsSMB
          ElementPosition     #1431655764
          HierarchyParent     #GeneralSMB
          Caption             #@RET4211
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralMaintain
          ElementPosition     #1533916890
          HierarchyParent     #General
          Caption             #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralRelatedInfo
          ElementPosition     #1840700268
          HierarchyParent     #General
          Caption             #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralSetup
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #General
          Caption             #@SYS342635
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralSetupSMB
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #GeneralSMB
          Caption             #@SYS342635
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralVendor
          ElementPosition     #920350134
          HierarchyParent     #General
          Caption             #@SYS8079
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Inquiries
          Visible             #No
          ElementPosition     #1073741822
          HierarchyParent     #Retail
          Caption             #@RET5171
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #IntercompanyTracing
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1227133512
          HierarchyParent     #Manage
          Caption             #@SYS317473
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceBill
          ElementPosition     #805306365
          HierarchyParent     #Invoice
          Caption             #@SYS114665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceChange
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #Invoice
          Caption             #@SYS317554
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceIntroduce
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #Invoice
          Caption             #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceJournals
          ElementPosition     #1879048185
          HierarchyParent     #Invoice
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceJournalsSMB
          ElementPosition     #1073741823
          HierarchyParent     #GeneralSMB
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceProcess
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #Invoice
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceProcessSMB
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #GeneralSMB
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceSettle
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #Invoice
          Caption             #@SYS114666
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewActionButtonGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewCoreActionButtonGroup
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewWHS
          ElementPosition     #1879048189
          HierarchyParent     #LineOverviewActionTab
          Caption             #@WAX374
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageBankDocument
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #Manage
          Caption             #@SYS313653
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageBudget
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #Manage
          Caption             #@SYS80981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageHistory
          ElementPosition     #1840700268
          HierarchyParent     #Manage
          Caption             #@SYS35017
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageView
          ElementPosition     #613566756
          HierarchyParent     #Manage
          Caption             #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRPurchaseRelease
          ElementPosition     #2004318066
          HierarchyParent     #Purchase
          Caption             #@SYS16190
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRReceiveDeliver
          ElementPosition     #1932735281
          HierarchyParent     #Receive
          Caption             #@SYS78211
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Post
          ElementPosition     #1073741822
          HierarchyParent     #TMS
          Caption             #@SYS41360
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ProductLabels
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #Retail
          Caption             #@RET4915
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseAccounting
          ElementPosition     #1717986912
          HierarchyParent     #Purchase
          Caption             #@SYS314071
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseCalculate
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #Purchase
          Caption             #@SYS1085
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseCreate
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #Purchase
          Caption             #@SYS112171
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseGenerate
          AutoDeclaration     #Yes
          ElementPosition     #1503238548
          HierarchyParent     #Purchase
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseJournals
          ElementPosition     #1932735279
          HierarchyParent     #Purchase
          Caption             #@SYS2827
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchasePrepay
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #Purchase
          Caption             #@SYS319483
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchaseTax
          ElementPosition     #858993456
          HierarchyParent     #Purchase
          Caption             #@SYS333536
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderAttachments
          ElementPosition     #1908874352
          HierarchyParent     #PurchOrder
          Caption             #@SYS316708
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderCopy
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #PurchOrder
          Caption             #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderList
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1670265058
          HierarchyParent     #PurchOrder
          Caption             #@SYS118440
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderMaintain
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #PurchOrder
          Caption             #@SYS316703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderMiscCharges
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #Purchase
          Caption             #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderNew
          ElementPosition     #477218588
          HierarchyParent     #PurchOrder
          Caption             #@SYS2055
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderQuery
          ElementPosition     #2087831322
          HierarchyParent     #PurchOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PurchOrderView
          ElementPosition     #1431655764
          HierarchyParent     #PurchOrder
          Caption             #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #RAssetButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #RAssetActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ReceiveDelivery
          ElementPosition     #1503238551
          HierarchyParent     #Receive
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ReceiveJournals
          ElementPosition     #1717986916
          HierarchyParent     #Receive
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ReceiveProcess
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Receive
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ReceiveQualityManagement
          ElementPosition     #1288490187
          HierarchyParent     #Receive
          Caption             #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ShowGroup
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #PurchOrder
          Caption             #@SYS317437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Flow
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #EnvironmentGroup
          DataSource          #EMSPurchOrderFlowRelation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup
          VisibleRows         #10
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid1
          ElementPosition     #1610612733
          HierarchyParent     #FSHSum
          DataSource          #RetailSumLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridAsset
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #Asset_RU
          DataSource          #RAssetPurchTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridLoads
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GroupLoads
          DataSource          #WHSLoadLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #LineSpec
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #LineViewLines
          VisibleRows         #5
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #PackageGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup1
          DataSource          #RetailPackagePurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Account
          VerticalSpacing     #5
          ElementPosition     #715827882
          HierarchyParent     #Vendor
          FrameType           #None
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AdministrationForSubcontract
          ElementPosition     #2139095038
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS40777
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AdministrationGroup
          ElementPosition     #1431655764
          HierarchyParent     #GroupSetupMid
          DataSource          #PurchTable
          DataGroup           #Administration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Agreement_RU
          CountryRegionCodes  #RU
          ElementPosition     #1932735281
          HierarchyParent     #GroupGeneralRight
          DataSource          #PurchTable_RU
          DataGroup           #Agreement_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Asset_RU
          CountryRegionCodes  #RU
          Height              #Column height
          ConfigurationKey    #RAsset
          ElementPosition     #1879048189
          HierarchyParent     #TabLineFixedAsset
          Caption             #@GLS106645
          DataSource          #RAssetPurchTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Barcode
          ElementPosition     #1073741822
          HierarchyParent     #TabLinePicking
          DataSource          #PurchLine
          DataGroup           #Barcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BaseInfo
          ElementPosition     #1073741822
          HierarchyParent     #GroupGeneralLeft
          Caption             #@SYS15812
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Buyer
          ElementPosition     #1073741822
          HierarchyParent     #GroupBuyer
          Caption             #@HVP1134
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ChooseGroup
          ElementPosition     #1717986916
          HierarchyParent     #RBOItemPackage
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Comment_HV
          ElementPosition     #1932735281
          HierarchyParent     #TabHeaderGeneral
          DataSource          #PurchTable
          DataGroup           #Comment_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Commitment_PSN
          AutoDeclaration     #Yes
          ConfigurationKey    #PurchFrenchRegulatory_PSN
          ElementPosition     #1968526675
          HierarchyParent     #GeneralLeft
          Caption             #@SPS1834
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CompanyInformation
          AutoDeclaration     #Yes
          ElementPosition     #314964266
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS81121
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ConfirmingPO
          ElementPosition     #2143289342
          HierarchyParent     #TabHeaderSetup
          DataSource          #PurchTable
          DataGroup           #ConfirmingPO
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Consignee
          ElementPosition     #1073741822
          HierarchyParent     #GroupConsignee
          Caption             #@GEE3015
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ConsTarget_JP
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          ElementPosition     #2013265918
          HierarchyParent     #GroupGeneralLeft
          DataSource          #PurchTable
          DataGroup           #ConsTarget_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ContactInfo
          ElementPosition     #1073741822
          HierarchyParent     #GroupGeneralMid
          Caption             #@SYS21663
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CrossDock
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #TabLinePicking
          DataSource          #WHSPurchLine
          DataGroup           #CrossDock
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Crossdocking
          ElementPosition     #715827882
          HierarchyParent     #RetailHeader
          DataSource          #PurchTable
          DataGroup           #Crossdocking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CrossdockingDates
          ElementPosition     #1073741823
          HierarchyParent     #RetailHeader
          DataSource          #PurchTable
          DataGroup           #CrossdockingDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Currency
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #PurchTable
          DataGroup           #Currency
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customs_IN
          AutoDeclaration     #Yes
          ElementPosition     #816043782
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5007
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustReference
          ElementPosition     #1431655763
          HierarchyParent     #GeneralMid
          DataSource          #PurchLine
          DataGroup           #DeliveryRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateAndTime
          ElementPosition     #1840700268
          HierarchyParent     #GroupSetupRight
          Caption             #@SYS112412
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateAndTimeLine
          ElementPosition     #1757032074
          HierarchyParent     #TabLineSetup
          Caption             #@SYS112412
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery
          ElementPosition     #1073741822
          HierarchyParent     #DeliveryExt
          DataSource          #PurchTable
          DataGroup           #Delivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery_RU
          ElementPosition     #1610612733
          HierarchyParent     #DeliveryExt
          FrameType           #None
          DataSource          #PurchTable_RU
          DataGroup           #Delivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryDateLine
          ElementPosition     #1073741822
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS16056
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryExt
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderDelivery
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryHeader
          ElementPosition     #858993458
          HierarchyParent     #LineViewHeader
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryLine
          ElementPosition     #1610612734
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS4508
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryLineForSubcontracts
          ElementPosition     #2146435070
          HierarchyParent     #TabLineSetup
          Caption             #@SYS4508
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Dimension
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderDimension
          DataSource          #PurchTable
          DataGroup           #Dimension
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DIOTInformation_MX
          CountryRegionCodes  #MX
          ElementPosition     #1952257860
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine
          DataGroup           #DIOTInformation_MX
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Disc
          ElementPosition     #1073741822
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS11829
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DiscMarkup
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #PurchTable
          DataGroup           #DiscountMiscCharges
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DiscountsHeader
          ElementPosition     #1288490187
          HierarchyParent     #LineViewHeader
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EnvironmentGroup
          ElementPosition     #1610612733
          HierarchyParent     #Environment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Excise_IN
          AutoDeclaration     #Yes
          ElementPosition     #687194763
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5005
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Exim_IN
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS61737
          DataSource          #EximPurchLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformation
          ElementPosition     #1193046470
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS56
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformation_BR
          ElementPosition     #1431655764
          HierarchyParent     #TabLineFiscalInformation_BR
          DataSource          #PurchLine
          DataGroup           #FiscalInformation_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformationGroup_BR
          CountryRegionCodes  #BR
          ElementPosition     #2013265917
          HierarchyParent     #TabLineFixedAsset
          Caption             #@GLS56
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FixedAssets
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #TabLineFixedAsset
          FrameType           #None
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTrade
          ElementPosition     #429496729
          HierarchyParent     #TabLineForeignTrade
          FrameType           #None
          DataSource          #PurchLine
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTrade_RU
          ElementPosition     #858993458
          HierarchyParent     #TabLineForeignTrade
          FrameType           #None
          DataSource          #PurchLine_W
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTradeCategory
          ElementPosition     #1288490187
          HierarchyParent     #TabLineForeignTrade
          FrameType           #None
          DataSource          #PurchLineForeignTradeCategory
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTradeForSubContracts
          ElementPosition     #2044583387
          HierarchyParent     #TabLineProduct
          Caption             #@SYS27650
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FSHConcession
          ElementPosition     #1431655764
          HierarchyParent     #RetailHeader
          DataSource          #PurchTable
          DataGroup           #RetailConcession
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #g1099Fields
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #TabLineTax1099
          DataSource          #PurchLine
          DataGroup           #g1099Fields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GeneralLeft
          ElementPosition     #858993458
          HierarchyParent     #TabLineGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GeneralMid
          ElementPosition     #1288490187
          HierarchyParent     #TabLineGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GeneralReference
          ElementPosition     #1073741822
          HierarchyParent     #GeneralMid
          Caption             #@SYS21697
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GeneralRight
          ElementPosition     #1717986916
          HierarchyParent     #TabLineGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup
          ElementPosition     #1431655764
          HierarchyParent     #TabPageGrid
          Style               #BorderlessGridContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup1
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #858993458
          HierarchyParent     #RBOItemPackage
          FrameType           #None
          DataSource          #RetailPackagePurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          ElementPosition     #715827882
          HierarchyParent     #Account
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupAddressLeft
          ElementPosition     #858993458
          HierarchyParent     #HeaderAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupaddressMid
          ElementPosition     #1288490187
          HierarchyParent     #HeaderAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupBuyer
          ElementPosition     #1717986916
          HierarchyParent     #TabOriginalSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupConsignee
          ElementPosition     #1288490187
          HierarchyParent     #TabOriginalSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupConsigneeAddress_HV
          ElementPosition     #1610612733
          HierarchyParent     #GroupConsignee
          Caption             #@GEE3071
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDistributionTemplateHeader
          ElementPosition     #1073741822
          HierarchyParent     #TabFinancialDimensionsHeader
          FrameType           #None
          DataSource          #PurchTable
          LeftMargin          #10
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDistributionTemplateLine
          ElementPosition     #1073741822
          HierarchyParent     #TabFinancialDimensionsLine
          FrameType           #None
          DataSource          #PurchLine
          LeftMargin          #10
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupEmail
          ElementPosition     #1610612733
          HierarchyParent     #ContactInfo
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupFinancialDimensionHeader
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1610612733
          HierarchyParent     #TabFinancialDimensionsHeader
          FrameType           #None
          DataSource          #PurchTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupFinancialDimensionLine
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1610612733
          HierarchyParent     #TabFinancialDimensionsLine
          FrameType           #None
          DataSource          #PurchLine
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupGeneralLeft
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupGeneralMid
          ElementPosition     #1288490187
          HierarchyParent     #TabHeaderGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupGeneralRight
          ElementPosition     #1610612734
          HierarchyParent     #TabHeaderGeneral
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLeft
          ElementPosition     #858993458
          HierarchyParent     #TabLineProject
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineDeliveryAddressRef
          ElementPosition     #1288490187
          HierarchyParent     #TabLineAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLoads
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabLoad
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupMid
          ElementPosition     #1288490187
          HierarchyParent     #TabLineProject
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupNotificationToTheCentralBank
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #GroupSetupRight
          DataSource          #PurchTable
          DataGroup           #NotificationToTheCentralBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupRight
          ElementPosition     #1717986916
          HierarchyParent     #TabLineProject
          FrameType           #None
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupSetupLeft
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderSetup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupSetupMid
          ElementPosition     #1288490187
          HierarchyParent     #TabHeaderSetup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupSetupRight
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderSetup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupURL
          ElementPosition     #1073741822
          HierarchyParent     #ContactInfo
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupWithholdingTax
          ElementPosition     #601295417
          HierarchyParent     #TabTaxInformation_IN
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #grpAssetQualifier
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #TabLineFixedAsset
          FrameType           #None
          Caption             #@SYS136021
          Columnspace         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GSTHSTTaxType_CA
          ElementPosition     #1610612733
          HierarchyParent     #SalesTaxLine
          FrameType           #None
          DataSource          #PurchLine
          DataGroup           #GSTHSTTaxType_CA
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderAddress
          Width               #Column width
          ElementPosition     #1610612734
          HierarchyParent     #TabHeaderAddress
          FrameType           #None
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderAddressDisplayForSubcontracts
          ElementPosition     #1879048190
          HierarchyParent     #HeaderAddress
          Caption             #@SYS36203
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderAttention
          ElementPosition     #1717986916
          HierarchyParent     #HeaderAddress
          DataSource          #PurchTable
          DataGroup           #Attention
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDlvAddressFiscalInformation_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1932735281
          HierarchyParent     #HeaderAddress
          Caption             #@GLS368
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderForeignTrade
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderForeignTrade
          FrameType           #None
          DataSource          #PurchTable
          Columns             #Auto
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInfo
          Width               #Column width
          ElementPosition     #1073741822
          HierarchyParent     #TabPageDetails
          FrameType           #None
          Style               #DetailTitleContainer
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInterCompany
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1533916890
          HierarchyParent     #GroupSetupRight
          FrameType           #None
          Caption             #@SYS74106
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IndiaSalesTax
          AutoDeclaration     #Yes
          ElementPosition     #515396072
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS5878
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IndiaVAT
          AutoDeclaration     #Yes
          ElementPosition     #472446400
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5004
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterestAndFine_BR
          ElementPosition     #1503238551
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #PurchTable_BR
          DataGroup           #InterestAndFine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat
          ElementPosition     #1789569705
          HierarchyParent     #TabHeaderForeignTrade
          FrameType           #None
          DataSource          #PurchTable_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat1
          ElementPosition     #1073741822
          HierarchyParent     #TabLineForeignTrade
          FrameType           #None
          DataSource          #PurchLine_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventoryDimensionsGrid
          AutoDeclaration     #Yes
          ElementPosition     #711843000
          HierarchyParent     #LineSpec
          BackgroundColor     #Window background
          DataSource          #InventDim
          DataGroup           #InventoryDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventProfile_RU
          ElementPosition     #1859754391
          HierarchyParent     #TabHeaderSetup
          DataSource          #PurchTable_RU
          DataGroup           #InventProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InvoiceMatching
          AutoDeclaration     #Yes
          ElementPosition     #585677358
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine
          DataGroup           #InvoiceMatching
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IS_CompanyVATNumber
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderOther
          Caption             #@ABC508
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IS_Notes
          ElementPosition     #1610612734
          HierarchyParent     #TabHeaderOther
          Caption             #@SYS40182
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IS_Other
          ElementPosition     #2080374782
          HierarchyParent     #GroupGeneralLeft
          Caption             #@SYS69996
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemOrderCreation
          ElementPosition     #1789569705
          HierarchyParent     #RetailHeader
          DataSource          #PurchTable
          DataGroup           #ItemOrderCreation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference
          AllowEdit           #No
          ElementPosition     #1838782871
          HierarchyParent     #TabLineProduct
          DataSource          #PurchLine
          DataGroup           #ItemReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference_HV
          ElementPosition     #1941683129
          HierarchyParent     #TabLineProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Line1099Fields
          ElementPosition     #2130706430
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineAddress
          Width               #Column width
          ElementPosition     #1546188222
          HierarchyParent     #TabLineAddress
          FrameType           #None
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineAddressDisplayForSubcontracts
          ElementPosition     #1460288877
          HierarchyParent     #TabLineAddress
          Caption             #@SYS36203
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDeliveryAddress
          ElementPosition     #858993458
          HierarchyParent     #TabLineAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDeliveryAddressForSubcontracts
          ElementPosition     #1374389532
          HierarchyParent     #TabLineAddress
          Caption             #@SYS88743
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDlvAddressFiscalInformation_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1431655764
          HierarchyParent     #LineAddress
          Caption             #@GLS368
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineIntercompany
          ElementPosition     #1789569704
          HierarchyParent     #GeneralMid
          DataSource          #PurchLine
          DataGroup           #Intercompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineInventory
          ElementPosition     #390451572
          HierarchyParent     #TabLineSetup
          Caption             #@SYS981
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineInventoryForSubcontracts
          ElementPosition     #2145386494
          HierarchyParent     #TabLineSetup
          Caption             #@SYS981
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LinePosting_RU
          ElementPosition     #1879048190
          HierarchyParent     #TabLineDelivery
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineSalesTax
          ElementPosition     #1073741822
          HierarchyParent     #SalesTaxLine
          DataSource          #PurchLine
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Markup_RU
          ElementPosition     #2041482145
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine_W
          DataGroup           #Markup_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDropShip
          ElementPosition     #2013265918
          HierarchyParent     #TabLineDelivery
          DataSource          #PurchLine
          DataGroup           #MCRDropShip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Measurement
          ElementPosition     #1717986916
          HierarchyParent     #TabLineForeignTrade
          Caption             #@SYS34825
          DataSource          #PurchLineForeignTradeCategory
          DataGroup           #Measurement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OrderLine
          ElementPosition     #1431655764
          HierarchyParent     #GeneralLeft
          Caption             #@SYS22920
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OriginalSalesOrder
          Height              #Column height
          ElementPosition     #858993458
          HierarchyParent     #TabOriginalSalesOrder
          DataSource          #PurchTable
          DataGroup           #OrigSalesOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packing_HV
          ElementPosition     #1288490187
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #PurchLine
          DataGroup           #Packing_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PackingMaterials_HV
          ElementPosition     #1717986916
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #PurchLine
          DataGroup           #PackingMaterials_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Payment
          ElementPosition     #1073741822
          HierarchyParent     #PaymentExt
          DataSource          #PurchTable
          DataGroup           #Payment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Payment_RU
          ElementPosition     #1610612734
          HierarchyParent     #PaymentExt
          FrameType           #None
          DataSource          #PurchTable_W
          DataGroup           #Payment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentExt
          ElementPosition     #1324281580
          HierarchyParent     #TabHeaderPriceCalc
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PhysDims
          ElementPosition     #1073741822
          HierarchyParent     #TabLoad
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PlannedOrderLine
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #PlannedOrderReferenceLine
          FrameType           #None
          DataSource          #PurchLine
          DataGroup           #PlannedOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PlannedOrderReferenceLine
          ElementPosition     #1563636529
          HierarchyParent     #TabLineProduct
          Caption             #@SYS24657
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Posting
          ElementPosition     #1610612733
          HierarchyParent     #GroupSetupLeft
          DataSource          #PurchTable
          DataGroup           #Posting
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PostingLine
          ElementPosition     #1464193395
          HierarchyParent     #TabLineSetup
          Caption             #@SYS5943
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Potency
          ElementPosition     #1879048189
          HierarchyParent     #TabLinePriceDisc
          DataSource          #PDSAdvancedPriceInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price
          ElementPosition     #1610612734
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS12983
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price_RU
          ElementPosition     #1145324610
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #PurchTable_RU
          DataGroup           #Price_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProducerDocument_HV
          ElementPosition     #2058005160
          HierarchyParent     #GeneralLeft
          DataSource          #PurchLine
          DataGroup           #ProducerDocument_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductDimensions
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #ProductLeft
          Caption             #@SYS133228
          DataSource          #InventDim
          DataGroup           #ProductDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductLeft
          ElementPosition     #858993458
          HierarchyParent     #TabLineProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductMid
          ElementPosition     #1288490187
          HierarchyParent     #TabLineProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProjectCostPrice
          ConfigurationKey    #ProjBasic
          ElementPosition     #1073741822
          HierarchyParent     #GroupRight
          DataSource          #PurchLine
          DataGroup           #ProjectCostPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProjectIdentification
          ConfigurationKey    #ProjBasic
          ElementPosition     #1431655764
          HierarchyParent     #GroupLeft
          DataSource          #PurchLine
          DataGroup           #ProjectIdentification
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProjectSalesPrice
          ConfigurationKey    #ProjBasic
          ElementPosition     #1073741822
          HierarchyParent     #GroupMid
          DataSource          #PurchLine
          DataGroup           #ProjectSalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Project-salestax
          ConfigurationKey    #ProjBasicTimeMaterial
          ElementPosition     #1610612733
          HierarchyParent     #GroupMid
          DataSource          #PurchLine
          DataGroup           #ProjectSalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProjTransaction
          ElementPosition     #1610612733
          HierarchyParent     #GroupRight
          DataSource          #PurchLine
          DataGroup           #ProjTransaction
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchLine_AttentionInfo
          ElementPosition     #1717986916
          HierarchyParent     #TabLineAddress
          Caption             #@SYS107382
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchLine_DeliveryPostalAddressGrp
          ElementPosition     #1610612734
          HierarchyParent     #LineDeliveryAddress
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchReq
          ElementPosition     #1789569705
          HierarchyParent     #GeneralLeft
          DataSource          #PurchLine
          DataGroup           #PurchReq
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchRFQReplyLine
          ElementPosition     #954437176
          HierarchyParent     #GeneralLeft
          DataSource          #PurchRFQReplyLinePurchLine
          DataGroup           #PurchRFQReplyLineRFQ
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PurchTable_DeliveryPostalAddressGrp
          ElementPosition     #1610612734
          HierarchyParent     #GroupAddressLeft
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #QtyUnitLine
          ElementPosition     #988972731
          HierarchyParent     #LineSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Quality_HV
          ElementPosition     #858993458
          HierarchyParent     #ProductionInstructions_HV
          DataSource          #PurchLine
          DataGroup           #Quality_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Reasons
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #GroupGeneralRight
          Caption             #@SYS111245
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ReductionEntry_JP
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          ConfigurationKey    #Asset
          ElementPosition     #1744830461
          HierarchyParent     #TabLineFixedAsset
          FrameType           #None
          Caption             #@SYS4004969
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Reference
          ElementPosition     #1717986916
          HierarchyParent     #GroupGeneralRight
          Caption             #@SYS15217
          DataSource          #PurchTable
          DataGroup           #ExternalReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #References
          ElementPosition     #613566756
          HierarchyParent     #GroupSetupRight
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #RetailHeader
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1861152492
          HierarchyParent     #LineViewHeader
          Caption             #@RET3066
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ReturnedItem
          ElementPosition     #780903144
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine
          DataGroup           #ReturnedItem
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #RFIDTagging
          ElementPosition     #1610612733
          HierarchyParent     #TabLinePicking
          DataSource          #PurchLine
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #roupBuyerAddress_HV
          ElementPosition     #1610612733
          HierarchyParent     #GroupBuyer
          Caption             #@GEE3071
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTax
          ElementPosition     #1073741822
          HierarchyParent     #GroupSetupLeft
          DataSource          #PurchTable
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTaxLine
          ElementPosition     #976128930
          HierarchyParent     #TabLineSetup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceRef
          ElementPosition     #1632087567
          HierarchyParent     #TabLineAddress
          Caption             #@PSA10204
          DataSource          #PurchLine
          DataGroup           #DeliveryRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #944892801
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS63865
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #status
          ElementPosition     #1610612733
          HierarchyParent     #GroupGeneralMid
          Caption             #@SYS36398
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #statusLine
          ElementPosition     #1288490187
          HierarchyParent     #GeneralRight
          Caption             #@SYS36398
          DataSource          #PurchLine
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StorageDimensions
          ElementPosition     #858993458
          HierarchyParent     #GroupGeneralRight
          Caption             #@SYS108783
          DataSource          #PurchTable
          DataGroup           #Inventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StorageDimensionsLine
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ProductMid
          Caption             #@SYS108783
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TAMRebate1
          ElementPosition     #1849222027
          HierarchyParent     #TabLinePriceDisc
          DataSource          #PurchLine
          DataGroup           #TAMRebate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Tax1099G1Fields
          AutoDeclaration     #Yes
          ElementPosition     #1312351117
          HierarchyParent     #TabLineTax1099
          Caption             #@SPS1936
          DataSource          #Tax1099BoxDetail
          DataGroup           #Tax1099G1Fields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Tax1099GFields
          AutoDeclaration     #Yes
          ElementPosition     #1550960411
          HierarchyParent     #TabLineTax1099
          Caption             #@SPS1093
          DataSource          #Tax1099BoxDetail
          DataGroup           #Tax1099GFields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Tax1099SFields
          AutoDeclaration     #Yes
          ElementPosition     #1849222028
          HierarchyParent     #TabLineTax1099
          DataSource          #Tax1099BoxDetail
          DataGroup           #Tax1099SFields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TMSTransportation
          ElementPosition     #1879048189
          HierarchyParent     #TabHeaderDelivery
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TMSTransportationHeader
          ElementPosition     #2004318069
          HierarchyParent     #LineViewHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TrackingDimesions
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #ProductLeft
          Caption             #@SYS317445
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Transport
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderDelivery
          DataSource          #PurchTable
          DataGroup           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TreeGroup
          AutoDeclaration     #Yes
          Visible             #No
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #RBOItemPackage
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VATTaxAgent_RU
          AutoDeclaration     #Yes
          ElementPosition     #2001521866
          HierarchyParent     #TabHeaderSetup
          DataSource          #PurchTable_RU
          DataGroup           #VATTaxAgent_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VendInvoiceDeclaration
          ElementPosition     #920350134
          HierarchyParent     #GroupSetupRight
          DataSource          #PurchTable
          DataGroup           #VendInvoiceDeclaration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Vendor
          ElementPosition     #1610612733
          HierarchyParent     #GroupGeneralLeft
          Caption             #@SYS8079
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VendorHeader
          ElementPosition     #1717986916
          HierarchyParent     #LineViewHeader
          Caption             #@SYS128916
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #GroupWithholdingTax
          DataSource          #TaxInformation_IN
          DataGroup           #WithholdingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #1503238551
          HierarchyParent     #TabHeaderSetup
          DataSource          #PurchTable_W
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN1
          AutoDeclaration     #Yes
          ElementPosition     #1342177277
          HierarchyParent     #SalesTaxLine
          DataSource          #PurchLine_IN
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdTax
          CountryRegionCodes  #TH,SA,GB,IE,BR
          ElementPosition     #1220161162
          HierarchyParent     #TabLineSetup
          DataSource          #PurchLine
          DataGroup           #WithholdingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonHeaderTradeAgreements
          AutoDeclaration     #Yes
          HelpText            #@SYS69472
          ElementPosition     #715827882
          HierarchyParent     #GeneralVendor
          Text                #@SYS13768
          ButtonDisplay       #Text & Image above
          NormalImage         #12430
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventory
          AutoDeclaration     #Yes
          HelpText            #@SYS69645
          ElementPosition     #1227133512
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventorySMB
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS69645
          ElementPosition     #1380525201
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreateActivity
          AutoDeclaration     #Yes
          HelpText            #@SYS26027
          ElementPosition     #1073741823
          HierarchyParent     #GeneralVendor
          Text                #@SYS38378
          ButtonDisplay       #Text & Image left
          NormalImage         #10197
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #GeneralVendorCases
          HelpText            #@SYS131506
          ElementPosition     #1431655764
          HierarchyParent     #GeneralVendor
          Text                #@SYS191442
          ButtonDisplay       #Text & Image left
          NormalImage         #11229
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancials
          HelpText            #@SYS316591
          ElementPosition     #920350134
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    super();
            #
            #    purchTableForm.enableLineCreditInvoiceButton(purchLine, buttonCustVendCreditInvoicingLines);
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(PSAPWP)))
            #    {
            #        if (purchLine.IsPwp)
            #        {
            #            buttonSubledgerdistribution.enabled(false);
            #        }
            #        else
            #        {
            #            buttonSubledgerdistribution.enabled(true);
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancialsSMB
          Visible             #No
          HelpText            #@SYS316591
          ElementPosition     #1073741823
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    super();
            #
            #    purchTableForm.enableLineCreditInvoiceButton(purchLine, buttonCustVendCreditInvoicingLines);
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(PSAPWP)))
            #    {
            #        if (purchLine.IsPwp)
            #        {
            #            buttonSubledgerdistribution.enabled(false);
            #        }
            #        else
            #        {
            #            buttonSubledgerdistribution.enabled(true);
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripProduct
          HelpText            #@SYS317849
          ElementPosition     #1533916890
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS317847
          ButtonDisplay       #Text & Image left
          NormalImage         #12422
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripPurchLine
          HelpText            #@SYS328718
          ElementPosition     #511305630
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS22957
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (TaxParameters::isCustomsEnable_IN())
            #    {
            #        purchTableForm.enableEximInquiry_IN(purchLine.PurchQty,
            #                                            purchTable_W.CustomsImportOrder_IN,
            #                                            eximAA_IN,
            #                                            eximDFIA_IN,
            #                                            eximDEPB_IN,
            #                                            eximEPCG_IN);
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripPurchLineSMB
          Visible             #No
          HelpText            #@SYS328718
          ElementPosition     #766958445
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS22957
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (TaxParameters::isCustomsEnable_IN())
            #    {
            #        purchTableForm.enableEximInquiry_IN(purchLine.PurchQty,
            #                                            purchTable_W.CustomsImportOrder_IN,
            #                                            eximAA_IN,
            #                                            eximDFIA_IN,
            #                                            eximDEPB_IN,
            #                                            eximEPCG_IN);
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdate
          HelpText            #@SYS28285
          ElementPosition     #1840700268
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdateSMB
          Visible             #No
          HelpText            #@SYS28285
          ElementPosition     #1991994805
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ManageBudgetMenuButton
          HelpText            #@SYS310258
          ElementPosition     #1431655764
          HierarchyParent     #ManageBudget
          Text                #@SYS80981
          ButtonDisplay       #Text & Image above
          NormalImage         #10915
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #mbTemplatesButton
          AutoDeclaration     #Yes
          HelpText            #@SYS345469
          ElementPosition     #954437176
          HierarchyParent     #PurchOrderAttachments
          Text                #@SYS345468
          NormalImage         #12723
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #AdministrationGroup_Requester
          ElementPosition     #1879048185
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          ReferenceField      #Requester
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #AdministrationGroup_WorkerPurchPlacer
          ElementPosition     #805306365
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          ReferenceField      #WorkerPurchPlacer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Customs_IN_CustomsTariffCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #Customs_IN
          DataSource          #PurchLine_IN
          ReferenceField      #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EMSFlow_UnitOfMeasure
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          ReferenceField      #UnitOfMeasure
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Excise_IN_ExciseTariffCodes_IN
          ElementPosition     #1331873693
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          ReferenceField      #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Exim_EximIncentiveSchemeGroup
          ElementPosition     #715827882
          HierarchyParent     #Exim_IN
          DataSource          #EximPurchLine_IN
          ReferenceField      #EximIncentiveSchemeGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Exim_EximPorts
          ElementPosition     #1073741823
          HierarchyParent     #Exim_IN
          DataSource          #EximPurchLine_IN
          ReferenceField      #EximPorts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Exim_EximProductGroupTable
          ElementPosition     #1431655764
          HierarchyParent     #Exim_IN
          DataSource          #EximPurchLine_IN
          ReferenceField      #EximProductGroupTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR1_CFOPTable_BR
          ElementPosition     #613566756
          HierarchyParent     #FiscalInformation_BR
          DataSource          #PurchLine
          ReferenceField      #CFOPTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #g1099Fields_Tax1099Fields
          ElementPosition     #2013265918
          HierarchyParent     #g1099Fields
          DataSource          #PurchLine
          ReferenceField      #Tax1099Fields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Line1099Fields_Tax1099Fields
          ElementPosition     #1789569705
          HierarchyParent     #Line1099Fields
          DataSource          #PurchLine
          ReferenceField      #Tax1099Fields
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Purch_ProcurementCategory
          ElementPosition     #715827882
          HierarchyParent     #OrderLine
          DataSource          #PurchLine
          ReferenceField      #ProcurementCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchCommitmentLineLookup_PSN
          AutoDeclaration     #Yes
          HelpText            #@SPS2047
          ConfigurationKey    #PurchFrenchRegulatory_PSN
          ElementPosition     #946588185
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          ReferenceField      #PurchCommitmentLine_PSN
          Label               #@SPS1834
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchCommitmentLineLookup2_PSN
          AutoDeclaration     #Yes
          HelpText            #@SPS2047
          ConfigurationKey    #PurchFrenchRegulatory_PSN
          ElementPosition     #1431655764
          HierarchyParent     #Commitment_PSN
          DataSource          #PurchLine
          ReferenceField      #PurchCommitmentLine_PSN
          Label               #@SPS1834
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_CFOPTable_BR
          ElementPosition     #498290100
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          ReferenceField      #CFOPTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_CompanyLocation_IN
          HelpText            #@GLS222760
          ElementPosition     #858993458
          HierarchyParent     #CompanyInformation
          DataSource          #PurchLine_IN
          ReferenceField      #CompanyLocation_IN
          Label               #@SYS33556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_DeliveryPostalAddress
          ElementPosition     #858993458
          HierarchyParent     #PurchLine_DeliveryPostalAddressGrp
          DataSource          #PurchLine
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_IN_TaxWithholdCountryRegionToRemittance
          ElementPosition     #1840700268
          HierarchyParent     #GroupWithholdingTax
          DataSource          #PurchLine_IN
          ReferenceField      #TaxWithholdCountryRegionToRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_IN_TaxWithholdNatureOfRemittance
          ElementPosition     #1227133512
          HierarchyParent     #GroupWithholdingTax
          DataSource          #PurchLine_IN
          ReferenceField      #TaxWithholdNatureOfRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_ProcurementCategory
          ElementPosition     #569474400
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          ReferenceField      #ProcurementCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_Requester
          ElementPosition     #1610612733
          HierarchyParent     #PurchLine_AttentionInfo
          DataSource          #PurchLine
          ReferenceField      #Requester
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchLine_SalesTaxFormTypes_IN
          ElementPosition     #1610612734
          HierarchyParent     #IndiaSalesTax
          DataSource          #PurchLine_IN
          ReferenceField      #SalesTaxFormTypes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchTable_DeliveryPostalAddress
          ElementPosition     #858993458
          HierarchyParent     #PurchTable_DeliveryPostalAddressGrp
          DataSource          #PurchTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PurchTable_SalesPurchOperationType_BR
          ElementPosition     #715827882
          HierarchyParent     #FiscalInformation
          DataSource          #PurchTable_BR
          ReferenceField      #SalesPurchOperationType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTax_IN_ServiceCodeTable_IN
          ElementPosition     #1073741823
          HierarchyParent     #ServiceTax_IN
          DataSource          #PurchLine_IN
          ReferenceField      #ServiceCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ECCNumber
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS5156
          ElementPosition     #878516035
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ECCNumber
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_IECRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #Customs_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #IECRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ManECCRegistrationNumberTable
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS5156
          ElementPosition     #1054219242
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ManECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_SalesTaxRegistrationNumber
          HelpText            #@GLS5917
          ElementPosition     #1073741822
          HierarchyParent     #IndiaSalesTax
          DataSource          #TaxInformation_IN
          ReferenceField      #SalesTaxRegistrationNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_STCRegistrationNumberTable
          ElementPosition     #715827882
          HierarchyParent     #ServiceTax_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #STCRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_TraderECCRegistrationNumberTable
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS5156
          ElementPosition     #1229922449
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TraderECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_TaxInformation_IN
          ElementPosition     #1717986916
          HierarchyParent     #CompanyInformation
          DataSource          #PurchLine_IN
          ReferenceField      #TaxInformation_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #VAT_TIN
          ElementPosition     #286331152
          HierarchyParent     #IndiaVAT
          DataSource          #TaxInformation_IN
          ReferenceField      #TIN
          ReplacementFieldGroup #Identification
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabPageDetails
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #HeaderDetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #HeaderView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineDetailsTab
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #LineViewLineDetails
          Style               #IndexTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineViewTab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LineView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #MainTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #715827882
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #tabChanged
            #public void tabChanged(int _fromTab, int _toTab)
            #{
            #    super(_fromTab, _toTab);
            #    element.lock();
            #
            #    // Buttons to show in Grid View
            #    editDetailsButton.visible(tabPageGrid.isActivePage());
            #    purchOrderList.visible(tabPageGrid.isActivePage());
            #
            #    // Buttons to show in Details View
            #    editPurchOrder.visible(!tabPageGrid.isActivePage());
            #    showGroup.visible(!tabPageGrid.isActivePage());
            #
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Environment
          AutoDeclaration     #Yes
          Visible             #No
          NeededPermission    #Manual
          ConfigurationKey    #EMS
          SecurityKey         #EMSJournals
          ElementPosition     #1994091957
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS137477
          DataSource          #EMSPurchOrderFlowRelation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #FSHSum
          Height              #Column height
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1930178752
          HierarchyParent     #LineDetailsTab
          Caption             #@RET4160650
          DataSource          #RetailSumLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderView
          ElementPosition     #1610612733
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineView
          ElementPosition     #1073741822
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewHeader
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #LineViewTab
          Caption             #@SYS16574
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
          FastTabExpanded     #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLineDetails
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #LineViewTab
          Caption             #@SYS23823
          DataSource          #PurchLine
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          FastTabExpanded     #No
          Scrollbars          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLines
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #LineViewTab
          Caption             #@SYS9664
          FastTabExpanded     #Always
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #ProductionInstructions_HV
          ElementPosition     #1949352712
          HierarchyParent     #LineDetailsTab
          Caption             #@ABC360
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #RBOItemPackage
          AutoDeclaration     #Yes
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1917396112
          HierarchyParent     #LineDetailsTab
          Caption             #@RET4999
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #/// <summary>
            #/// Retail Item Package - Page Activated
            #/// </summary>
            #public void pageActivated()
            #{
            #    ;
            #    if (treeView.value())
            #        element.fillPackageTree();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionsHeader
          AutoDeclaration     #Yes
          ElementPosition     #1789569700
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #PurchTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerHeader.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionsLine
          AutoDeclaration     #Yes
          ElementPosition     #1981309312
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #PurchLine
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerLine.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderAddress
          AutoDeclaration     #Yes
          ElementPosition     #894784850
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderDimension
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1879048185
          HierarchyParent     #HeaderDetailsTab
          Caption             #@SYS14926
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #2058005158
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@GLS56
          DataSource          #PurchTable
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderForeignTrade
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderGeneral
          AutoDeclaration     #Yes
          ElementPosition     #357913940
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #PurchTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
          FastTabExpanded     #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderOther
          ElementPosition     #2102744402
          HierarchyParent     #HeaderDetailsTab
          Caption             #@SYS4009494
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPriceCalc
          AutoDeclaration     #Yes
          ElementPosition     #1252698790
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          DataSource          #PurchTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderSetup
          AutoDeclaration     #Yes
          ElementPosition     #626349395
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #PurchTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineAddress
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMultiShipTo
          ElementPosition     #613566756
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          DataSource          #PurchLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineDelivery
          ElementPosition     #882002211
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #2070656729
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@GLS56
          DataSource          #PurchLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFixedAsset
          AutoDeclaration     #Yes
          ElementPosition     #1955744032
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS12578
          DataSource          #PurchLine
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #
            #    element.setupAsset(purchLine);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineForeignTrade
          ElementPosition     #1942961392
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineGeneral
          AutoDeclaration     #Yes
          ElementPosition     #81808900
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #PurchLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLinePicking
          AutoDeclaration     #Yes
          ElementPosition     #1035393900
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS132701
          DataSource          #PurchLine
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLinePriceDisc
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          DataSource          #PurchLine
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineProduct
          ElementPosition     #728610522
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS103105
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineProject
          AutoDeclaration     #Yes
          ElementPosition     #1380525201
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4534
          DataSource          #PurchLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineSetup
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #PurchLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineTax1099
          AutoDeclaration     #Yes
          CountryRegionCodes  #US
          ElementPosition     #1968526672
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS118159
          DataSource          #PurchLine
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLoad
          AutoDeclaration     #Yes
          ConfigurationKey    #WHSandTMS
          ElementPosition     #2046754813
          HierarchyParent     #LineDetailsTab
          Caption             #@WAX312
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    whsLoadLine_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabOriginalSalesOrder
          ElementPosition     #1163220305
          HierarchyParent     #HeaderDetailsTab
          Caption             #@SYS93838
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageDetails
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #MainTab
          Style               #DetailsFormDetails
          PanelStyle          #Details
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #MainTab
          ViewEditMode        #Edit
          Style               #DetailsFormGrid
          PanelStyle          #Grid
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabTaxInformation_IN
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #2109070187
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS33652
          DataSource          #PurchLine_IN
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Zakat_SA
          AutoDeclaration     #Yes
          CountryRegionCodes  #SA
          ElementPosition     #1968526670
          HierarchyParent     #HeaderDetailsTab
          Caption             #@SYS321586
          DataSource          #PurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #BudgetControl
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS137083
          ConfigurationKey    #LedgerAdv2BudgetCtrl
          ElementPosition     #858993458
          HierarchyParent     #ManageBudgetMenuButton
          Text                #@SYS317355
          ButtonDisplay       #Text & Image left
          NormalImage         #12313
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (purchTable)
            #    {
            #        // Submit to source document processor for an on-demand GL budget check
            #        SourceDocumentProcessorFacade::submitOnDemandSourceDocumentImpl(
            #            purchTable,
            #            false,
            #            SourceDocumentHeader::find(purchTable.SourceDocumentHeader).AccountingStatus,
            #            null,
            #            curUserId());
            #
            #        purchTable_ds.updateBudgetCheckResultDisplay();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #BudgetControlLine
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS137084
          ConfigurationKey    #LedgerAdv2BudgetCtrl
          ElementPosition     #757935402
          HierarchyParent     #LineStripFinancials
          Text                #@SYS317355
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.budgetControlLine();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyCustInvoiceJournal
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS85665
          ElementPosition     #1789569705
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS15721
          ButtonDisplay       #Text & Image left
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::construct(purchTable).formRun(formStr(CustInvoiceJournal),element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyCustPackingSlipJournal
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS85660
          ElementPosition     #1431655764
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS23155
          ButtonDisplay       #Text & Image left
          NormalImage         #10667
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::construct(purchTable).formRun(formStr(CustPackingSlipJournal),element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyInventOnHandReserve
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS21870
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1768515938
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS7120
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    PurchTableForm::interCompanyInventOnHandReserve(purchLine);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyInventTrans
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS28328
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1642193371
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS1084
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    PurchTableForm::openIterCompanyInventTransForm(purchLine);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesFormLetter_Pickinglist
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS94424
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1227133512
          HierarchyParent     #ReceiveProcess
          Text                #@SYS114678
          ButtonDisplay       #Text & Image left
          NormalImage         #10602
          ImageLocation       #EmbeddedResource
          Big                 #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    if (!purchTable.RecId && !purchTable.InterCompanySalesId)
            #    {
            #        throw(error("@SYS28047"));
            #    }
            #
            #    TradeInterCompany::construct(purchTable).menuFunction(classStr(SalesFormLetter_PickingList),MenuItemType::Action,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS75330
          ElementPosition     #715827882
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93291
          ButtonDisplay       #Text & Image above
          NormalImage         #10604
          ImageLocation       #EmbeddedResource
          Big                 #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    if (purchTable.PurchaseType == PurchaseType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(purchTable).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(purchTable).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #CreateLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS306899
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1687308579
          HierarchyParent     #LineStripUpdate
          Text                #@SYS132301
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    element.createAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #EndDiscAction
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68934
          ConfigurationKey    #PriceDisc
          ElementPosition     #1610612733
          HierarchyParent     #PurchaseCalculate
          Text                #@SYS6465
          ButtonDisplay       #Text & Image left
          NormalImage         #10831
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    element.endDiscount();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MultiLineDiscAction
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68933
          ConfigurationKey    #PriceDisc
          ElementPosition     #1073741822
          HierarchyParent     #PurchaseCalculate
          Text                #@SYS11440
          ButtonDisplay       #Text & Image left
          NormalImage         #10647
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    element.multiLineDiscount();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PBAExecute
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS40755
          ElementPosition     #325957337
          HierarchyParent     #LineStripProduct
          Text                #@SYS40223
          ShowShortCut        #No
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.pbaConfigureLine();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintMgmt
          NeededPermission    #Manual
          HelpText            #@SYS68918
          ConfigurationKey    #LogisticsBasic
          SecurityKey         #VendMisc
          ElementPosition     #1073741822
          HierarchyParent     #GeneralSetup
          Text                #@SYS54502
          ButtonDisplay       #Text & Image above
          NormalImage         #10698
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (purchTable_ds.cursor() == null)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    element.PrintManagement();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintMgmtSMB
          NeededPermission    #Manual
          HelpText            #@SYS68918
          ConfigurationKey    #LogisticsBasic
          SecurityKey         #VendMisc
          ElementPosition     #1073741822
          HierarchyParent     #GeneralSetupSMB
          Text                #@SYS54502
          ButtonDisplay       #Text & Image above
          NormalImage         #10698
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (purchTable_ds.cursor() == null)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    element.PrintManagement();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #RemoveLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS306901
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1994091957
          HierarchyParent     #LineStripUpdate
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    element.removeAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ReopenFinalized
          AutoDeclaration     #Yes
          HelpText            #Reopen Finalized Order
          ElementPosition     #1789569705
          HierarchyParent     #PurchaseTax
          Text                #Reopen
          ButtonDisplay       #Text & Image left
          NormalImage         #12380
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    PurchTable      _purchTable;
            #    PurchLine       _purchLine;
            #    SourceDocumentHeader        sh;
            #    SourceDocumentLine          sl;
            #
            #
            #    super();
            #
            #    ttsBegin;
            #    _purchTable = PurchTable;
            #
            #    select forUpdate sh where sh.RecId == _purchTable.SourceDocumentHeader;
            #    if ( sh )
            #    {
            #        sh.AccountingStatus = SourceDocumentAccountingStatus::Completed;
            #        sh.Update();
            #        while select forUpdate sl where sl.SourceDocumentHeader == sh.recid
            #        {
            #            sl.AccountingStatus =  SourceDocumentLineAccountingStatus::Completed;
            #            sl.Update();
            #        }
            #    }
            #    _purchTable.DocumentState = VersioningDocumentState::Approved;
            #    _purchTable.Update();
            #    while select forUpdate _purchLine where _purchLine.PurchId == _purchTable.PurchId // && _purchLine.IsFinalized == NoYes::Yes
            #    {
            #        ttsBegin;
            #
            #        ttsCommit;
            #
            #        _purchLine.IsFinalized = NoYes::No;
            #        _purchLine.Update();
            #    }
            #    ttsCommit;
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #AdministrationGroup_ChangeRequestRequired
          ElementPosition     #1610612730
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          DataField           #ChangeRequestRequired
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_CENVATCreditAvailed_IN
          ElementPosition     #2045532401
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataField           #CENVATCreditAvailed_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_Consignment_IN
          ElementPosition     #1841629913
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataField           #Consignment_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EximPurchLine_IN_ApplyDEPB
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #Exim_IN
          DataSource          #EximPurchLine_IN
          DataField           #ApplyDEPB
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #FixedAssets_CreateFixedAsset
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #CreateFixedAsset
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ForeignTradeForSubContracts_StatTriangul
          ElementPosition     #1879048190
          HierarchyParent     #ForeignTradeForSubContracts
          DataSource          #PurchLine
          DataField           #StatTriangularDeal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ForeignTradeForSubContracts_StatTriangul1
          Visible             #No
          ElementPosition     #1946157054
          HierarchyParent     #ForeignTradeForSubContracts
          DataSource          #PurchLine
          DataField           #StatTriangularDeal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Group1_QualityConfirm_HV
          ElementPosition     #858993458
          HierarchyParent     #Quality_HV
          DataSource          #PurchLine
          DataField           #QualityConfirm_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ICMSReceivableLongTerm_BR
          HelpText            #@GLS676
          ElementPosition     #1073741822
          HierarchyParent     #FiscalInformationGroup_BR
          Label               #@GLS321
          DataSource          #PurchLine
          DataMethod          #ICMSReceivableLongTerm_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InclTax
          ElementPosition     #1431655764
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #InclTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRDropShip_MCRDropShipment
          ElementPosition     #858993458
          HierarchyParent     #MCRDropShip
          DataSource          #PurchLine
          DataField           #MCRDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PISCOFINSReceivableLongTerm_BR
          HelpText            #@GLS62986
          ElementPosition     #1610612733
          HierarchyParent     #FiscalInformationGroup_BR
          Label               #@GLS62984
          DataSource          #PurchLine
          DataMethod          #PISCOFINSReceivableLongTerm_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchLine_DSA_IN
          ElementPosition     #1943581157
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataField           #DSA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchLine_IN_SoftwareDeclReceived_IN
          ElementPosition     #920350134
          HierarchyParent     #GroupWithholdingTax
          DataSource          #PurchLine_IN
          DataField           #SoftwareDeclReceived_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchLine_IsPwp
          AutoDeclaration     #Yes
          Visible             #No
          ConfigurationKey    #PSAPwp
          ElementPosition     #2147473406
          HierarchyParent     #LineSpec
          BackgroundColor     #Window background
          DataSource          #PurchLine
          DataField           #IsPwp
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(Project3)))
            #    {
            #        if (purchLine.IsPwp)
            #        {
            #            buttonSourceDocumentDistributionHeader.enabled(false);
            #        }
            #        else
            #        {
            #            buttonSourceDocumentDistributionHeader.enabled(true);
            #        }
            #    }
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_AgreementIsLinked
          ElementPosition     #1840700268
          HierarchyParent     #Grid
          BackgroundColor     #Window background
          DataSource          #PurchTable
          DataMethod          #AgreementIsLinked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_CustomsImportOrder_IN
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Group
          DataSource          #PurchTable_W
          DataField           #CustomsImportOrder_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_MCRDropShipment
          ElementPosition     #2070787801
          HierarchyParent     #Grid
          BackgroundColor     #Window background
          DataSource          #PurchTable
          DataField           #MCRDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_MCRDropShipment_Status
          AllowEdit           #No
          ElementPosition     #1923787428
          HierarchyParent     #status
          DataSource          #PurchTable
          DataField           #MCRDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_OneTimeVendor
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1073741822
          HierarchyParent     #Account
          DataSource          #PurchTable
          DataField           #OneTimeVendor
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_ServiceCodeOnDlvAddress_BR
          ElementPosition     #1789569705
          HierarchyParent     #FiscalInformation
          DataSource          #PurchTable_BR
          DataField           #ServiceCodeOnDlvAddress_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PurchTable_VendFinalUser_BR
          ElementPosition     #1431655764
          HierarchyParent     #FiscalInformation
          DataSource          #PurchTable_BR
          DataField           #VendFinalUser_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RAssetPurchTrans_Posted
          ElementPosition     #715827880
          HierarchyParent     #GridAsset
          BackgroundColor     #Window background
          DataSource          #RAssetPurchTrans
          DataField           #Posted
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_UnitedVATInvoice_LT
          HelpText            #@GLS220218
          ElementPosition     #1610612734
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #UnitedVATInvoice_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ServiceTax_IN_IsRecoverableServiceTax_IN
          ElementPosition     #1789569705
          HierarchyParent     #ServiceTax_IN
          DataSource          #PurchLine_IN
          DataField           #IsRecoverableServiceTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #statusLine_Blocked
          ElementPosition     #1342177275
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataField           #Blocked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #statusLine_Complete
          ElementPosition     #1610612730
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataField           #Complete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #statusLine_IsFinalized
          ElementPosition     #536870910
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataField           #IsFinalized
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #TreeView
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ChooseGroup
          Label               #@RET4404
          LabelAlignment      #Right
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #/// <summary>
            #/// Tree View - Clicked
            #/// </summary>
            #public void clicked()
            #{
            #    super();
            #
            #    if (this.value())
            #    {
            #        gridGroup1.visible(false);
            #        treeGroup.visible(true);
            #        element.fillPackageTree();
            #    }
            #    else
            #    {
            #        treeGroup.visible(false);
            #        gridGroup1.visible(true);
            #    }
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #DeliveryLine_DeliveryType
          ElementPosition     #1073741820
          HierarchyParent     #DeliveryLine
          DataSource          #PurchLine
          DataField           #DeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #DeliveryLine_LineDeliveryType
          ElementPosition     #1342177275
          HierarchyParent     #DeliveryLine
          DataSource          #PurchLine
          DataField           #LineDeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #DeliveryLineForSubcontracts_DeliveryType
          ElementPosition     #1610612734
          HierarchyParent     #DeliveryLineForSubcontracts
          DataSource          #PurchLine
          DataField           #DeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_DirectSettlement_IN
          ElementPosition     #1739678669
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataField           #DirectSettlement_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_ExciseType_IN
          AutoDeclaration     #Yes
          ElementPosition     #585677356
          HierarchyParent     #Excise_IN
          Label               #@GLS5244
          DataSource          #PurchLine_IN
          DataField           #ExciseType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseManufacture_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1535776181
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataMethod          #exciseManufacture_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    purchLine_IN_DS.enableExciseFields_IN();
            #
            #    purchLine_IN.modifiedField(fieldNum(PurchLine_IN, ExciseRecordType_IN));
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseNone_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1433824937
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataMethod          #exciseNone_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    purchLine_IN_DS.enableExciseFields_IN();
            #
            #    purchLine_IN.modifiedField(fieldNum(PurchLine_IN, ExciseRecordType_IN));
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseTraders_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1637727425
          HierarchyParent     #Excise_IN
          DataSource          #PurchLine_IN
          DataMethod          #exciseTraders_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    purchLine_IN_DS.enableExciseFields_IN();
            #
            #    purchLine_IN.modifiedField(fieldNum(PurchLine_IN, ExciseRecordType_IN));
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #FiscalInformation_BR1_M_taxationOrigin_BR
          AllowEdit           #No
          ElementPosition     #920350134
          HierarchyParent     #FiscalInformation_BR
          DataSource          #PurchLine
          DataMethod          #taxationOrigin_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #FixedAssets_AssetTransTypePurch
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #AssetTransTypePurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #HeaderForeignTrade_ListCode
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #HeaderForeignTrade
          DataSource          #PurchTable
          DataField           #ListCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #MCRDropShip_MCRDropShipStatus
          ElementPosition     #1288490187
          HierarchyParent     #MCRDropShip
          DataSource          #PurchLine
          DataField           #MCRDropShipStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchLine_OfferingType_HV
          AutoDeclaration     #Yes
          ElementPosition     #925395912
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #OfferingType_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchLine_OperationType_MX
          ElementPosition     #1808407280
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #OperationType_MX
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchLine_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1921432735
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchLine_VATGoodsType_IN
          ElementPosition     #906715316
          HierarchyParent     #IndiaVAT
          DataSource          #PurchLine_IN
          DataField           #VATGoodsType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchStatus
          Left                #Right edge
          Skip                #Yes
          ElementPosition     #1610612734
          HierarchyParent     #HeaderInfo
          ShowLabel           #No
          DataSource          #PurchTable
          DataField           #PurchStatus
          ViewEditMode        #View
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchTable_PurchaseType
          ElementPosition     #1431655764
          HierarchyParent     #BaseInfo
          DataSource          #PurchTable
          DataField           #PurchaseType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchTable_PurchaseTypeGrid
          AutoDeclaration     #Yes
          ElementPosition     #766958445
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #PurchaseType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchTable_PurchStatusGrid
          ElementPosition     #1073741823
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #PurchStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchTable_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1994091957
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PurchTable_State
          ElementPosition     #920350134
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #DocumentState
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ServiceTax_IN_GTAServiceCategory_IN
          AutoDeclaration     #Yes
          ElementPosition     #1550960411
          HierarchyParent     #ServiceTax_IN
          DataSource          #PurchLine_IN
          DataField           #GTAServiceCategory_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_DocumentState
          ElementPosition     #1073741820
          HierarchyParent     #status
          DataSource          #PurchTable
          DataField           #DocumentState
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_PurchStatus
          ElementPosition     #536870910
          HierarchyParent     #status
          DataSource          #PurchTable
          DataField           #PurchStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1879048185
          HierarchyParent     #status
          DataSource          #PurchTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #statusLine_PurchStatus
          ElementPosition     #805306365
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataField           #PurchStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #statusLine_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1879048185
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #statusLine_WorkflowState
          ElementPosition     #1073741820
          HierarchyParent     #statusLine
          DataSource          #PurchLine
          DataField           #WorkflowState
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Attachments
          ElementPosition     #1431655764
          HierarchyParent     #PurchOrderAttachments
          Text                #@SYS316708
          ButtonDisplay       #Text & Image above
          NormalImage         #10442
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeletePurchOrder
          ElementPosition     #1476395004
          HierarchyParent     #PurchOrderMaintain
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteRAsset
          NeededPermission    #Delete
          HelpText            #@SYS331950
          ElementPosition     #1610612734
          HierarchyParent     #RAssetButtonGroup
          Text                #@SYS311855
          ButtonDisplay       #Text & Image left
          NormalImage         #11438
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EditPurchOrder
          AutoDeclaration     #Yes
          NeededPermission    #Update
          ElementPosition     #536870910
          HierarchyParent     #PurchOrderMaintain
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #4471
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EnvironmentDeleteButton
          ElementPosition     #1610612733
          HierarchyParent     #EnvironmentButtonGroup
          Text                #@SYS26394
          ButtonDisplay       #Text & Image left
          NormalImage         #11438
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EnvironmentNewButton
          ElementPosition     #1073741822
          HierarchyParent     #EnvironmentButtonGroup
          Text                #@SYS60080
          ButtonDisplay       #Text & Image left
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #HeaderViewButton
          ElementPosition     #1073741822
          HierarchyParent     #ShowGroup
          NormalImage         #12133
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1320
          ToggleButton        #Radio
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    // Since the client doesn't reactivate the controls that were previously hidden we must force update to default dimensions
            #    dimensionDefaultingControllerHeader.activated(true);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineAttachmentsStrip
          ElementPosition     #1241513979
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS114630
          ShowShortCut        #No
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripDelete
          AutoDeclaration     #Yes
          HelpText            #@SYS328874
          ElementPosition     #1717986916
          HierarchyParent     #LineOverviewCoreActionButtonGroup
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripNew
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #LineOverviewCoreActionButtonGroup
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineViewButton
          ElementPosition     #1610612733
          HierarchyParent     #ShowGroup
          NormalImage         #12134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1321
          ToggleButton        #Radio
          ToggleValue         #On
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewPurchOrder
          HelpText            #@SYS26198
          ElementPosition     #1073741822
          HierarchyParent     #PurchOrderNew
          Text                #@SYS25545
          ButtonDisplay       #Text & Image above
          NormalImage         #10874
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #newRAsset
          NeededPermission    #Create
          HelpText            #@GLS220512
          ElementPosition     #1073741822
          HierarchyParent     #RAssetButtonGroup
          Text                #@SYS2318
          ButtonDisplay       #Text & Image left
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Refresh
          HelpText            #@SYS315818
          ElementPosition     #1073741822
          HierarchyParent     #PurchOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #11437
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          KeyTip              #@SYS315818
          Command             #2875
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SendToExcel
          DisplayTarget       #Client
          ElementPosition     #1610612734
          HierarchyParent     #PurchOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #10156
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          KeyTip              #@SYS315819
          NeedsRecord         #Yes
          Command             #4436
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SumLineDelete
          ElementPosition     #1610612733
          HierarchyParent     #ButtonGroup
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SumLineNew
          ElementPosition     #1073741822
          HierarchyParent     #ButtonGroup
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #ConfirmedDlv
          ElementPosition     #1610612733
          HierarchyParent     #DeliveryDateLine
          DataSource          #PurchLine
          DataField           #ConfirmedDlv
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ConfirmedDlvEarliest
          ElementPosition     #1073741823
          HierarchyParent     #Delivery
          DataSource          #PurchTable
          DataField           #ConfirmedDlvEarliest
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_DeliveryDate
          ElementPosition     #715827882
          HierarchyParent     #Delivery
          DataSource          #PurchTable
          DataField           #DeliveryDate
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DeliveryDate
          ElementPosition     #1073741822
          HierarchyParent     #DeliveryDateLine
          DataSource          #PurchLine
          DataField           #DeliveryDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DeliveryLineForSubcontracts_ConfirmedDlv
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryLineForSubcontracts
          DataSource          #PurchLine
          DataField           #ConfirmedDlv
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DepreciationStartDate
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #DepreciationStartDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Group1_PriceAgreementDate_RU
          ElementPosition     #1431655764
          HierarchyParent     #Price_RU
          DataSource          #PurchTable_RU
          DataField           #PriceAgreementDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #HeaderDelivery_ConfirmedDlvEarliest
          ElementPosition     #1610612733
          HierarchyParent     #DeliveryHeader
          DataSource          #PurchTable
          DataField           #ConfirmedDlvEarliest
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #HeaderDelivery_DeliveryDate
          ElementPosition     #1073741822
          HierarchyParent     #DeliveryHeader
          DataSource          #PurchTable
          DataField           #DeliveryDate
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LoadSchedShipDate
          ElementPosition     #1136903103
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadSchedShipDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_FixedDueDate
          ElementPosition     #644245092
          HierarchyParent     #Payment
          DataSource          #PurchTable
          DataField           #FixedDueDate
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #enter
            #public void enter()
            #{
            #    super();
            #
            #    priorDueDate = this.dateValue();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Posting_AccountingDate
          ConfigurationKey    #LedgerAdv2BudgetCtrl
          ElementPosition     #1789569705
          HierarchyParent     #Posting
          DataSource          #PurchTable
          DataField           #AccountingDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #PurchLine_PriceAgreementDate_RU
          ElementPosition     #2013265917
          HierarchyParent     #Price
          DataSource          #PurchLine_W
          DataField           #PriceAgreementDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #PurchTable_DeliveryDateGrid
          ElementPosition     #1380525201
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #DeliveryDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INT64EDIT
        PROPERTIES
          Name                #PurchLine_LineNumber
          ElementPosition     #284737200
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #LineNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #ICMSCreditInstallments_BR
          ElementPosition     #1879048189
          HierarchyParent     #FiscalInformationGroup_BR
          DataSource          #PurchLine
          DataMethod          #ICMSCreditInstallments_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #Tax1099GFields_Tax1099TaxYear
          ElementPosition     #1073741822
          HierarchyParent     #Tax1099GFields
          LimitText           #4
          DataSource          #Tax1099BoxDetail
          DataField           #Tax1099TaxYear
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AdvanceInvoiceCreate_CZ
          HelpText            #@GLS220282
          ElementPosition     #1879048190
          HierarchyParent     #InvoiceProcess
          Text                #@GLS107927
          ButtonDisplay       #Text & Image above
          Primary             #Yes
          DataSource          #PurchTable
          MenuItemName        #CzVendAdvanceInvoiceCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AgreementLine
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #LineStripUpdate
          Text                #@SYS26568
          DataSource          #PurchLine
          MenuItemName        #PurchAgreementLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AllocateMarkup
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PurchOrderMiscCharges
          Text                #@SYS313571
          ButtonDisplay       #Text & Image left
          NormalImage         #10440
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #MarkupAllocation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankLGRequestForm
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ManageBankDocument
          ButtonDisplay       #Text & Image above
          NormalImage         #12519
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #BankLGRequestForm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BudgetCheckResultsInquiryHeader
          ElementPosition     #1288490187
          HierarchyParent     #ManageBudgetMenuButton
          ButtonDisplay       #Text & Image left
          DataSource          #PurchTable
          MenuItemName        #BudgetCheckResults
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BudgetCheckResultsInquiryLine
          AutoDeclaration     #Yes
          ElementPosition     #884257969
          HierarchyParent     #LineStripFinancials
          Text                #@SYS128629
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #BudgetCheckResults
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonAccountingDistributionButtonView
          HelpText            #@SYS333722
          ElementPosition     #1073741823
          HierarchyParent     #PurchaseAccounting
          Text                #@SYS323891
          ButtonDisplay       #Text & Image left
          NormalImage         #12439
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #AccountingDistributionsDocumentView
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonConfirm
          AutoDeclaration     #Yes
          ElementPosition     #1521134249
          HierarchyParent     #PurchaseGenerate
          ButtonDisplay       #Text & Image left
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Confirm
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    PurchTable      purchTableSelection;
            #    Common          firstDatasourceCursor;
            #    boolean         tax1099SFieldsOK = true;
            #    int             originalPosition;
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
            #    {
            #        originalPosition = purchTable_DS.getPosition();
            #        element.lockWindowUpdate(true);
            #        firstDatasourceCursor = purchTable_ds.getFirst(true);
            #
            #        for (purchTableSelection = (firstDatasourceCursor ? firstDatasourceCursor : purchTable_ds.cursor()) ; purchTableSelection && tax1099SFieldsOK == true ; purchTableSelection = purchTable_ds.getNext())
            #        {
            #            tax1099SFieldsOK = Tax1099BoxDetail::checkTax1099Fields(purchTableSelection.PurchId);
            #        }
            #
            #        purchTable_DS.setPosition(originalPosition);
            #        element.lockWindowUpdate(false);
            #
            #        if(tax1099SFieldsOK)
            #        {
            #            super();
            #        }
            #
            #        purchTable_ds.updateBudgetCheckResultDisplay();
            #    }
            #    else
            #    {
            #        try
            #        {
            #            super();
            #
            #            purchTable_ds.updateBudgetCheckResultDisplay();
            #
            #            purchTableForm.parmIsHeaderVersioned(true);
            #        }
            #        catch
            #        {
            #            purchTable_ds.updateBudgetCheckResultDisplay();
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonConfirmationRequest
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #PurchaseGenerate
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_PurchOrder_ConfRequest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonCreateBankLCImport
          AutoDeclaration     #Yes
          HelpText            #@SYS316146
          ConfigurationKey    #BankDocument
          ElementPosition     #1073741822
          HierarchyParent     #ManageBankDocument
          ButtonDisplay       #Text & Image above
          NormalImage         #12518
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #BankLCImport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonCreateBudgetTransfer
          AutoDeclaration     #Yes
          HelpText            #@SYS306914
          ElementPosition     #631612835
          HierarchyParent     #LineStripFinancials
          Text                #@SYS306913
          NeedsRecord         #Yes
          MenuItemName        #BudgetCreateTransfer
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    element.budgetCreateTransfer();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceIntroduce
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingLines
          AutoDeclaration     #Yes
          ElementPosition     #1642193371
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDeliverySchedule
          AutoDeclaration     #Yes
          ElementPosition     #268435455
          HierarchyParent     #LineStripPurchLine
          DataSource          #PurchLine
          MenuItemName        #PurchDeliverySchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (PurchTableForm::openDeliveryScheduleForm(this, purchLine).closedOk())
            #    {
            #        purchLine_ds.research(true);
            #        purchTable_ds.reread();
            #        purchTable_ds.refresh();
            #    }
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonFinalizePurchaseOrder
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #PurchaseGenerate
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchTableFinalize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonHeaderFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63737
          ElementPosition     #1610612734
          HierarchyParent     #PurchOrderAttachments
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonInventPackingSlipExtJour
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #ReceiveJournals
          NormalImage         #12830
          ImageLocation       #EmbeddedResource
          MenuItemName        #PLInventPackingSlipExtJour
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalBillOfEntry_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #CustomsJournal
          ButtonDisplay       #Text & Image above
          NormalImage         #10739
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #CustomsBillOfEntryJournal_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalConfirmationReq
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #PurchaseJournals
          Text                #@SYS4004797
          ButtonDisplay       #Text & Image above
          NormalImage         #10725
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #VendConfirmationRequestJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #InvoiceJournals
          ButtonDisplay       #Text & Image above
          NormalImage         #10733
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #FactureJournalVend_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalFacture_RU_SMB
          AutoDeclaration     #Yes
          ElementPosition     #429496729
          HierarchyParent     #InvoiceJournalsSMB
          ButtonDisplay       #Text & Image above
          NormalImage         #10733
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #FactureJournalVend_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceJournals
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice4Paym_RU
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #PurchaseJournals
          ButtonDisplay       #Text & Image above
          NormalImage         #10498
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendInvoice4PaymJournal_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoiceSMB
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #InvoiceJournalsSMB
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ReceiveJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10667
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #PurchTable
          MenuItemName        #VendPackingSlipJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPendingInvoice
          AutoDeclaration     #Yes
          HelpText            #@SYS112154
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceJournals
          Text                #@SYS114694
          ButtonDisplay       #Text & Image above
          NormalImage         #10675
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendUnpostedInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPurchaseOrder
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PurchaseJournals
          Text                #@SYS310758
          ButtonDisplay       #Text & Image above
          NormalImage         #10725
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendPurchOrderJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalReceiptsList
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #ReceiveJournals
          Text                #@SYS114691
          ButtonDisplay       #Text & Image left
          NormalImage         #10739
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #PurchTable
          MenuItemName        #VendReceiptsJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExpandBOM
          AutoDeclaration     #Yes
          ElementPosition     #894784850
          HierarchyParent     #LineStripPurchLine
          MenuItemType        #Action
          MenuItemName        #PurchLineExplodeBOM
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63738
          ElementPosition     #1319807653
          HierarchyParent     #LineStripPurchLine
          ButtonDisplay       #Text & Image left
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineLot
          AutoDeclaration     #Yes
          ElementPosition     #1136903103
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #InventLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1010580536
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineOnHandSMB
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #ButtonLineInventorySMB
          DataSource          #PurchLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonLineQuickQuote
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #LineOverviewCoreActionButtonGroup
          Text                #@SYS54992
          ButtonDisplay       #Text & Image left
          NormalImage         #12489
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #PurchQuickQuote
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineTransact
          AutoDeclaration     #Yes
          ElementPosition     #1263225670
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineTransactSMB
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #ButtonLineInventorySMB
          DataSource          #PurchLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonOriginalSalesTable
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93292
          ButtonDisplay       #Text & Image above
          NormalImage         #10664
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #SalesTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    TradeInterCompany::construct(purchTable).referenceForm();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPaymentSchedule
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10673
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #VendPaymSchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    CustVendPaymSched   custVendPaymSched;
            #
            #    element.automaticTotalDiscount();
            #
            #    if (purchTable.PaymentSched && !VendPaymSched::exist(purchTable.TableId,purchTable.RecId))
            #    {
            #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Vend,purchTable);
            #        custVendPaymSched.copyPaymSched(PaymSched::find(purchTable.PaymentSched));
            #        purchTable.createPaymentSched();
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #InvoiceProcess
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1476395006
          HierarchyParent     #InvoiceProcess
          Text                #@SYS4701
          ButtonDisplay       #Text & Image above
          NormalImage         #10703
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_Invoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice4Paym_RU
          AutoDeclaration     #Yes
          ElementPosition     #1252698793
          HierarchyParent     #PurchaseGenerate
          Text                #@GLS116067
          ButtonDisplay       #Text & Image left
          NormalImage         #12380
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #ReceiveProcess
          ButtonDisplay       #Text & Image above
          NormalImage         #10704
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaPurchaseOrder
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PurchaseGenerate
          Text                #@SYS114652
          ButtonDisplay       #Text & Image left
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_PurchaseOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaReceiptsList
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #ReceiveProcess
          Text                #@SYS53077
          ButtonDisplay       #Text & Image above
          NormalImage         #10707
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Proforma_ReceiptsList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchAgreement
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          MenuItemName        #PurchAgreement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchCancel
          AutoDeclaration     #Yes
          ElementPosition     #1879048188
          HierarchyParent     #PurchOrderMaintain
          ButtonDisplay       #Text & Image left
          NormalImage         #10017
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchCancel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchTableCompare
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #ManageHistory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PurchTableCompare
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchTableVersion
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ManageHistory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PurchTableVersion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonRemovePurchPrepayTable
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PurchasePrepay
          ButtonDisplay       #Text & Image left
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #PurchPrepayRemove
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonRequestChange
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #PurchOrderMaintain
          Big                 #Yes
          AutoRefreshData     #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #purchRequestChange
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSourceDocumentDistributionHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS136029
          ElementPosition     #715827882
          HierarchyParent     #PurchaseAccounting
          Text                #@SYS304290
          ButtonDisplay       #Text & Image left
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #AccountingDistPurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSubledgerdistribution
          AutoDeclaration     #Yes
          HelpText            #@SYS136029
          ElementPosition     #378967701
          HierarchyParent     #LineStripFinancials
          DataSource          #PurchLine
          MenuItemName        #AccountingDistPurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // Ensure there is a record existing with an amount to distribute
            #    if (!purchLine.SourceDocumentLine)
            #    {
            #        info("@SYS311174");
            #    }
            #    else
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonSubLedgerJournalLines
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PurchaseAccounting
          Text                #@SYS135346
          ButtonDisplay       #Text & Image left
          NormalImage         #12429
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #SubledgerJournalAccEntry_PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    buttonSubLedgerJournalLines.dataSource(purchTable_ds.id());
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateBillOfEntry_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #CustomsGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10738
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_BillOfEntry_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1207959550
          HierarchyParent     #InvoiceProcess
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceProcess
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice4Paym_RU
          AutoDeclaration     #Yes
          ElementPosition     #894784852
          HierarchyParent     #PurchaseGenerate
          ButtonDisplay       #Text & Image left
          NormalImage         #12519
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoiceRegistration_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #CustomsMaintain
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #CustomsInvoiceRegistrate_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoiceSMB
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #InvoiceProcessSMB
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #ReceiveProcess
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePrepayInvoice
          AutoDeclaration     #Yes
          ElementPosition     #2013265918
          HierarchyParent     #InvoiceProcess
          ButtonDisplay       #Text & Image below
          NormalImage         #12310
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_PrepayInvoice_Action
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePurchaseOrder
          AutoDeclaration     #Yes
          ElementPosition     #686001720
          HierarchyParent     #PurchaseGenerate
          Text                #@SYS4006395
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_PurchaseOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    purchTable_ds.updateBudgetCheckResultDisplay();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateReceiptsList
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #ReceiveProcess
          ButtonDisplay       #Text & Image above
          NormalImage         #10738
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchFormLetter_ReceiptsList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonWithholdTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2143289342
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS33817
          ImageLocation       #EmbeddedResource
          DataSource          #PurchLine
          MenuItemName        #TaxWithholdTmpWorkTrans_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    if (!tmpPurchTableTaxWithholdTransForm || (tmpPurchTableTaxWithholdTransForm && tmpPurchTableTaxWithholdTransForm.closed()))
            #    {
            #        tmpPurchTableTaxWithholdTransForm = PurchTotals::showWithholdTaxLine_IN(purchTable,purchLine);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CaseButton
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #GeneralVendorCases
          ButtonDisplay       #Text & Image left
          NormalImage         #12198
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #CaseDetail
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ContactPerson
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #GeneralVendor
          ButtonDisplay       #Text & Image left
          NormalImage         #11118
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #ContactPerson
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Cov
          ElementPosition     #1610612734
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10474
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #LedgerCoverage
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
            #    {
            #        if (purchTable.checkMarkupTrans())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Create
          ElementPosition     #920350134
          HierarchyParent     #CreateActivity
          Text                #@SYS114625
          NormalImage         #10430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #smmactivitiesactionNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateCase
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #GeneralVendorCases
          ButtonDisplay       #Text & Image left
          DataSource          #PurchTable
          MenuItemName        #CaseDetailNewPurchase
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateTask
          ElementPosition     #1840700268
          HierarchyParent     #CreateActivity
          Text                #@SYS114680
          NormalImage         #10431
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #smmActivitiesTaskNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsImportAssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #LineStripPurchLine
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #PurchLine
          MenuItemName        #CustomsImportAssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #PurchTable_DeliveryPostalAddressGrp
          Text                #@SYS111834
          ButtonDisplay       #Image only
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          MenuItemName        #CompanyDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #PurchLine_DeliveryPostalAddressGrp
          Text                #@SYS111834
          ButtonDisplay       #Image only
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          MenuItemName        #CompanyDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DocuActionTemplateUndefined
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #mbTemplatesButton
          NeedsRecord         #Yes
          MenuItemName        #DocuActionTemplateUndefined
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditDetailsButton
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS340465
          ElementPosition     #805306365
          HierarchyParent     #PurchOrderMaintain
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          OpenMode            #Edit
          CopyCallerQuery     #Yes
          MenuItemName        #PurchTable_Action
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EncumbranceSummary
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #ManageView
          ButtonDisplay       #Text & Image left
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #AccountingDistributionOrderSummary
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExciseRegisterBalance_IN
          ElementPosition     #1521134245
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS5618
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #PurchLine
          MenuItemName        #ExciseRegisterBalance_In
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximAA_IN
          AutoDeclaration     #Yes
          HelpText            #@GLS61753
          ElementPosition     #1789569700
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS61755
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          MenuItemName        #EximImportDetailsAA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximDEPB_IN
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS61906
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #EximPurchLine_IN
          MenuItemName        #EximDEPBEntitlementDetails_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximDFIA_IN
          AutoDeclaration     #Yes
          HelpText            #@GLS61754
          ElementPosition     #1968526670
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS61756
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          MenuItemName        #EximImportDetailsDFIA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximEPCG_IN
          AutoDeclaration     #Yes
          HelpText            #@GLS62208
          ElementPosition     #2058005155
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS62209
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          MenuItemName        #EximEPCGImportTrans_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesVend_Proforma_RU
          AutoDeclaration     #Yes
          HelpText            #@GLS104543
          ElementPosition     #1744830462
          HierarchyParent     #InvoiceProcess
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #FactureEditLinesVend_Proforma_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesVend_RU
          AutoDeclaration     #Yes
          HelpText            #@GLS104543
          ElementPosition     #1342177278
          HierarchyParent     #InvoiceProcess
          Text                #@GLS104802
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #FactureEditLinesVend_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1610612730
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #11032
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IncentiveSchemeGroup_IN
          AutoDeclaration     #Yes
          HelpText            #@GLS61731
          ElementPosition     #1700091215
          HierarchyParent     #LineStripPurchLine
          Text                #@GLS61496
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #EximPurchLine_IN
          MenuItemName        #EximIncentiveSchemeGroupsForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixedAction
          ElementPosition     #1946157048
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixedActionSMB
          ElementPosition     #1503238548
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimTracking
          AutoDeclaration     #Yes
          ElementPosition     #2021161072
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5951
          DataSource          #PurchLine
          MenuItemName        #InventDimTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventMarking
          AutoDeclaration     #Yes
          ElementPosition     #757935402
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #inventmarking
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    purchTableForm.setAllowEditAssetFields(purchTable, purchLine, purchLine_ds);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableLine
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #ReceiveQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandInterCompany
          AutoDeclaration     #Yes
          ElementPosition     #1515870804
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #InventOnhandInterCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1171354716
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ReceiveQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11135
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventReserve
          AutoDeclaration     #Yes
          ElementPosition     #631612835
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPick
          AutoDeclaration     #Yes
          ElementPosition     #1380525201
          HierarchyParent     #LineStripUpdate
          DataSource          #PurchLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IS_CopyPurchPricisely
          ElementPosition     #1968526675
          HierarchyParent     #PurchOrderCopy
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #IS_CopyPurchPricisely
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerTransact
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #PurchaseAccounting
          Text                #@SYS115715
          NormalImage         #10859
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #LedgerTransVoucher1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineAmounts_PSN
          ElementPosition     #1610612734
          HierarchyParent     #ManageView
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #TradeAmountsSummary_PSN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    SourceDocumentProcessorCaller processorCaller = null;
            #
            #    if (purchTable.RecId > 0 && purchTable.DocumentState < VersioningDocumentState::Confirmed && !AccountingDistribution::existEventAndSourceDocumentLine(AccountingEvent::findBySourceDocumentHeader(purchTable.SourceDocumentHeader).RecId, purchTable.SourceDocumentLine))
            #    {
            #        purchTable.checkFullyDistributedAndQualified(processorCaller);
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineFinalize
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #LineStripUpdate
          MenuItemType        #Action
          MenuItemName        #PurchLineFinalize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineFinalizeSMB
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #LineStripUpdateSMB
          MenuItemType        #Action
          MenuItemName        #PurchLineFinalize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1894838507
          HierarchyParent     #LineStripFinancials
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineQuantity
          ElementPosition     #1073741820
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchTableLineQuantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #1452709520
          HierarchyParent     #LineStripFinancials
          DataSource          #PurchLine
          MenuItemName        #TaxTransSourcePurchOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    element.lineTaxTransSource();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSourceSMB
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #LineStripFinancialsSMB
          DataSource          #PurchLine
          MenuItemName        #TaxTransSourcePurchOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    element.lineTaxTransSource();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectHeader
          AutoDeclaration     #Yes
          NeededPermission    #Update
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #PurchTable_DeliveryPostalAddressGrp
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #PurchLine_DeliveryPostalAddressGrp
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MarkupTrans_HeadingPurchTable
          ElementPosition     #1073741822
          HierarchyParent     #PurchOrderMiscCharges
          Text                #@SYS313570
          ButtonDisplay       #Text & Image left
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #MarkupTrans_HeadingPurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MarkupTrans_LinePurchTable
          AutoDeclaration     #Yes
          ElementPosition     #1136903103
          HierarchyParent     #LineStripFinancials
          Text                #@SYS313570
          DataSource          #PurchLine
          MenuItemName        #MarkupTrans_LinePurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MarkupTrans_LinePurchTableSMB
          AutoDeclaration     #Yes
          ElementPosition     #805306366
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS313570
          DataSource          #PurchLine
          MenuItemName        #MarkupTrans_LinePurchTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRButtonDeliverMenuItemButton
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #MCRReceiveDeliver
          Text                #@MCR12185
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #MCRPurchOrderProcess_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRButtonProformaDeliver
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRReceiveDeliver
          Text                #@MCR35779
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #MCRPurchOrderProcess_ProformaPackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRButtonProformaRelease
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRPurchaseRelease
          Text                #@MCR35591
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #MCRPurchOrderProcess_Proforma_PurchOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRButtonReleaseMenuItemButton
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #MCRPurchaseRelease
          Text                #@MCR10650
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #MCRPurchOrderProcess_PurchaseOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    // js-moved from confirm button
            #    purchTable_ds.updateBudgetCheckResultDisplay();
            #
            #    purchTable_ds.reread();
            #    purchTable_ds.refresh();
            #    purchTable_ds.reReadLines();
            #    purchTable_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRPriceHistory
          AutoDeclaration     #Yes
          ElementPosition     #1487579812
          HierarchyParent     #LineStripPurchLine
          DataSource          #PurchLine
          MenuItemName        #MCRPriceHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemButton
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupWHS
          ButtonDisplay       #Text & Image above
          NormalImage         #3488
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #whsloadplanningworkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OfbuttonJournalPendingInvoiceSMB
          AutoDeclaration     #Yes
          HelpText            #@SYS112154
          ElementPosition     #1288490187
          HierarchyParent     #InvoiceJournalsSMB
          Text                #@SYS114694
          ButtonDisplay       #Text & Image above
          NormalImage         #10675
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #VendUnpostedInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OrderReferences
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchTableReferences
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PackingMaterials
          ElementPosition     #2116360692
          HierarchyParent     #ButtonLineInventory
          Text                #@HVP405
          MenuItemName        #PackingTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsApprovedVendorListByVend
          ElementPosition     #2013265915
          HierarchyParent     #GeneralRelatedInfo
          Text                #@PRO2880
          ShowShortCut        #No
          DataSource          #PurchTable
          MenuItemName        #PdsInventInquiryApprovedVendorListByVend
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    VendTable       vendTable;
            #    Args            args = new Args();
            #    MenuFunction    menuFunction = new MenuFunction(
            #        menuitemDisplayStr(PdsInventInquiryApprovedVendorListByVend),
            #        MenuItemType::Display);
            #
            #    vendTable = purchTable.vendTable_OrderAccount();
            #    if (vendTable)
            #    {
            #        args.caller(this);
            #        args.record(vendTable);
            #        menuFunction.run(args);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsMRCDocumentLog
          AutoDeclaration     #Yes
          ElementPosition     #2054114788
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PdsMRCVendorHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsMRCDocuments
          AutoDeclaration     #Yes
          ElementPosition     #2043130216
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image left
          MenuItemName        #pdsMRCDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsResetShelfDates
          AutoDeclaration     #Yes
          ElementPosition     #821096685
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchLine
          MenuItemName        #PdsResetShelfDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsResetVendBatchInfo
          AutoDeclaration     #Yes
          ElementPosition     #1002159032
          HierarchyParent     #LineStripUpdate
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          DataSource          #PurchLine
          MenuItemName        #pdsresetvendorBatchInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlannedOrder
          ElementPosition     #1342177275
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #10687
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #ReqTransPoPurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfMultiDimProcessInventory
          AutoDeclaration     #Yes
          ElementPosition     #1305333192
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #PmfMultiDimProcessInventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfPackOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1347440714
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchLine
          MenuItemName        #PmfPackOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Postings
          ElementPosition     #805306365
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchTablePostings
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PrepayPurchTableHeading
          AutoDeclaration     #Yes
          Enabled             #No
          HelpText            #@SYS330181
          ElementPosition     #1073741822
          HierarchyParent     #PurchasePrepay
          NormalImage         #12310
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchTableHeadingPrepay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscAdmTable_PurchCreate
          ElementPosition     #1879048185
          HierarchyParent     #ButtonHeaderTradeAgreements
          Text                #@SYS319115
          MenuItemName        #PriceDiscAdmTable_PurchCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscTable_Purch
          ElementPosition     #536870910
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscTable_Purch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ProjBudgetDisplay
          ElementPosition     #2021161076
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #ProjBudgetDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ProjBudgetDisplay1
          ElementPosition     #1717986916
          HierarchyParent     #ManageBudgetMenuButton
          NormalImage         #10001
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #ProjBudgetDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyAllHeader
          ElementPosition     #1073741822
          HierarchyParent     #PurchOrderCopy
          Text                #@SYS317844
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchCopyAllHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyAllLines
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS317844
          DataSource          #PurchTable
          MenuItemName        #PurchCopyAllLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyAllLinesSMB
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS317844
          DataSource          #PurchTable
          MenuItemName        #PurchCopyAllLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyJournalHeader
          ElementPosition     #1610612733
          HierarchyParent     #PurchOrderCopy
          Text                #@SYS317845
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchCopyJournalHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyJournalLines
          AutoDeclaration     #Yes
          ElementPosition     #626349395
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS317845
          DataSource          #PurchTable
          MenuItemName        #PurchCopyJournalLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCopyJournalLinesSMB
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS317845
          DataSource          #PurchTable
          MenuItemName        #PurchCopyJournalLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCreateFromSalesorderPurchase
          ElementPosition     #1610612733
          HierarchyParent     #PurchOrderNew
          Text                #@SYS114686
          ButtonDisplay       #Text & Image left
          NormalImage         #10454
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #PurchCreateFromSalesorderPurchase
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCreditNoteHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PurchaseCreate
          Text                #@SYS8125
          ButtonDisplay       #Text & Image above
          NormalImage         #10534
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchCreditNoteHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchCreditNoteLines
          AutoDeclaration     #Yes
          ElementPosition     #357913940
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS8125
          DataSource          #PurchTable
          MenuItemName        #PurchCreditNoteLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchEndDisc
          ElementPosition     #1610612730
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #PurchTable
          MenuItemName        #PriceDiscTable_EndDiscPurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchJournalAutoSummary_Purch
          ElementPosition     #1610612733
          HierarchyParent     #GeneralSetup
          Text                #@SYS114681
          ButtonDisplay       #Text & Image above
          NormalImage         #10819
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchJournalAutoSummary_Purch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchJournalAutoSummary_PurchSMB
          ElementPosition     #1610612733
          HierarchyParent     #GeneralSetupSMB
          Text                #@SYS114681
          ButtonDisplay       #Text & Image above
          NormalImage         #10819
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchJournalAutoSummary_Purch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchLineCopy
          AutoDeclaration     #Yes
          ElementPosition     #676059664
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS35635
          SaveRecord          #No
          DataSource          #PurchLine
          MenuItemName        #PurchLineCopy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchLineCopySMB
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS35635
          SaveRecord          #No
          DataSource          #PurchLine
          MenuItemName        #PurchLineCopy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchLineDisc
          ElementPosition     #1073741820
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #PurchTable
          MenuItemName        #PriceDiscTable_LineDiscPurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchLineSplit_PL
          ElementPosition     #775480202
          HierarchyParent     #LineStripPurchLine
          DataSource          #PurchLine
          MenuItemType        #Action
          MenuItemName        #PlPurchLineSplit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchMultiLineDisc
          ElementPosition     #1342177275
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #PurchTable
          MenuItemName        #PriceDiscTable_MultiLineDiscPurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchOrderQueryy
          AutoDeclaration     #Yes
          DisplayTarget       #Client
          ElementPosition     #1431655764
          HierarchyParent     #PurchOrderQuery
          ButtonDisplay       #Image only
          NormalImage         #12672
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          OpenMode            #New
          CopyCallerQuery     #Yes
          MenuItemName        #PurchOrderQuery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchPrice
          ElementPosition     #805306365
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #PurchTable
          MenuItemName        #PriceDiscTable_PricePurch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchUpdateRemain
          AutoDeclaration     #Yes
          ElementPosition     #766958445
          HierarchyParent     #LineStripUpdate
          DataSource          #PurchLine
          MenuItemName        #PurchUpdateRemain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchUpdateRemainSMB
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #LineStripUpdateSMB
          DataSource          #PurchLine
          MenuItemName        #PurchUpdateRemain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PurchVoidFiscalDocument_BR
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #PurchaseCreate
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchVoidFiscalDocument_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RecordEvent
          ElementPosition     #1533916890
          HierarchyParent     #CreateActivity
          Text                #@SYS114679
          NormalImage         #10432
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #smmactivitieseventNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Register
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #LineStripUpdate
          DataSource          #PurchLine
          MenuItemType        #Action
          MenuItemName        #TradeOrderLineRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RenumberLineNumber
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #LineStripUpdate
          DataSource          #PurchLine
          MenuItemType        #Action
          MenuItemName        #TradeLineRenumbering
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    purchLine_ds.research(true);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqMultiLevelPegging
          ElementPosition     #1952257860
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #PurchLine
          MenuItemName        #ReqMultiLevelPegging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqTransExplosion
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #LineStripProduct
          DataSource          #PurchLine
          MenuItemName        #ReqTransexplosion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqTransNet
          AutoDeclaration     #Yes
          ElementPosition     #1561806288
          HierarchyParent     #LineStripProduct
          MenuItemName        #ReqTransNet
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailAddItemMenuItem
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1503238551
          HierarchyParent     #LineOverviewCoreActionButtonGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #11373
          ImageLocation       #EmbeddedResource
          DataSource          #PurchTable
          MenuItemName        #RetailAddItems
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailBuyersPush
          HelpText            #@RET800
          ElementPosition     #1431655764
          HierarchyParent     #Functions
          Text                #@RET992
          NormalImage         #12796
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #RetailBuyersPush
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailBuyersPushSMB
          HelpText            #@RET800
          ElementPosition     #1431655764
          HierarchyParent     #FunctionsSMB
          Text                #@RET992
          NormalImage         #12796
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #RetailBuyersPush
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailConcessionFeesOverview
          ElementPosition     #1431655764
          HierarchyParent     #Inquiries
          NormalImage         #10772
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #RetailConcessionFeesOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailPackagePurchQuick
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #2117657481
          HierarchyParent     #LineStripPurchLine
          DataSource          #PurchTable
          MenuItemName        #RetailPackagePurchQuick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailPackagePurchQuickSMB
          HelpText            #@RET4401
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1932735279
          HierarchyParent     #LineStripPurchLineSMB
          DataSource          #PurchTable
          MenuItemName        #RetailPackagePurchQuick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailPrintItemLabel
          HelpText            #@RET3836
          ElementPosition     #1610612733
          HierarchyParent     #ProductLabels
          Text                #@RET3836
          NormalImage         #1083
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          DataSource          #PurchLine
          MenuItemName        #RetailCreateMultipleItemsLabel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailPrintShelfLabel
          HelpText            #@RET3837
          ElementPosition     #1073741822
          HierarchyParent     #ProductLabels
          Text                #@RET3837
          NormalImage         #1083
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          DataSource          #PurchLine
          MenuItemName        #RetailCreateMultipleShelfsLabel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ScheduleAppointment
          ElementPosition     #1227133512
          HierarchyParent     #CreateActivity
          Text                #@SYS114626
          NormalImage         #10433
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #smmActivitiesAppointmentNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ServicingViewActivities
          AllowEdit           #No
          ElementPosition     #613566756
          HierarchyParent     #CreateActivity
          Text                #@SYS114624
          NormalImage         #10434
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #ActivitiesMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SetStatusCancelShipment_HV
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #ChangeStatus_HV
          MenuItemType        #Action
          MenuItemName        #SetStatusCancelShipment_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SetStatusOpen_HV
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #ChangeStatus_HV
          MenuItemType        #Action
          MenuItemName        #SetStatusOpen_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SetStatusReadyForShipment_HV
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #ChangeStatus_HV
          MenuItemType        #Action
          MenuItemName        #SetStatusReadyForShipment_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemCalc_Purch
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #LineStripPurchLine
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #SuppItemCalc_Purch
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemTable_Purch
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GeneralMaintain
          Text                #@SYS58282
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #SuppItemTable_Purch
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SysSendMail
          ElementPosition     #1610612733
          HierarchyParent     #GroupEmail
          ButtonDisplay       #Image only
          NormalImage         #2631
          ImageLocation       #EmbeddedResource
          Border              #Flat
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #SysSendMail
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SysUrlLookup
          ElementPosition     #1610612733
          HierarchyParent     #GroupURL
          ButtonDisplay       #Image only
          NormalImage         #2632
          ImageLocation       #EmbeddedResource
          Border              #Flat
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #SysUrlLookup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          ElementPosition     #1431655764
          HierarchyParent     #PurchaseTax
          ButtonDisplay       #Text & Image above
          NormalImage         #10827
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #TaxTransSourcePurchOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    if (!tmpPurchTableTaxTransForm || (tmpPurchTableTaxTransForm && tmpPurchTableTaxTransForm.closed()))
            #    {
            #        tmpPurchTableTaxTransForm = PurchTotals::showTax(menuitemDisplayStr(TaxTmpWorkPurchOrder), purchTable, element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench
          ElementPosition     #1610612730
          HierarchyParent     #ButtonGroupTMS
          ButtonDisplay       #Text & Image above
          NormalImage         #11092
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #tmsraterouteWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Rate
          AutoDeclaration     #Yes
          HelpText            #@TRX609
          ElementPosition     #536870910
          HierarchyParent     #ButtonGroupTMS
          Text                #@TRX509
          ButtonDisplay       #Text & Image above
          NormalImage         #12203
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #TMSRateRouteWorkbench_rate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateRoute
          AutoDeclaration     #Yes
          HelpText            #@TRX612
          ElementPosition     #1342177275
          HierarchyParent     #ButtonGroupTMS
          Text                #@TRX531
          ButtonDisplay       #Text & Image above
          NormalImage         #10796
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #tmsraterouteworkbench_rateroute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateShop
          AutoDeclaration     #Yes
          HelpText            #@TRX610
          ElementPosition     #805306365
          HierarchyParent     #ButtonGroupTMS
          Text                #@TRX510
          ButtonDisplay       #Text & Image above
          NormalImage         #12138
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #tmsraterouteworkbench_rateshop
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Route
          AutoDeclaration     #Yes
          HelpText            #@TRX611
          ElementPosition     #1073741820
          HierarchyParent     #ButtonGroupTMS
          Text                #@TRX519
          ButtonDisplay       #Text & Image above
          NormalImage         #12132
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #tmsraterouteworkbench_route
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRouteWorkbench
          ElementPosition     #1879048185
          HierarchyParent     #ButtonGroupTMS
          ButtonDisplay       #Text & Image above
          NormalImage         #12304
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemName        #tmsrouteworkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSSendPurchaseOrderElectronically
          ElementPosition     #1431655764
          HierarchyParent     #Post
          ButtonDisplay       #Text & Image below
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #TMSSendPurchaseOrderElectronically
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Totals
          ElementPosition     #1431655764
          HierarchyParent     #PurchOrderView
          ButtonDisplay       #Text & Image above
          NormalImage         #10832
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #PurchTotals
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    PartList partList;
            #    FormRun formPart;
            #    int counter;
            #
            #    element.automaticTotalDiscount();
            #
            #    if (purchTable.checkMarkupTrans())
            #    {
            #        super();
            #    }
            #    // Refresh the Totals Fact Box
            #    partList = new PartList(element);
            #    for(counter = 1; counter <= partList.partCount(); counter++)
            #    {
            #        if(partList.getPartById(counter).name() == formStr(PurchTotalsSummaryPart))
            #        {
            #            formPart = partList.getPartById(counter);
            #            purchTable_ds.active();
            #            break;
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TradeBLWIChangeCode
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceChange
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #PurchTable
          MenuItemType        #Action
          MenuItemName        #TradeBLWIChangePurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (! purchTable.RecId)
            #    {
            #        purchTable.write();
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TransportationDocument
          ElementPosition     #1431655764
          HierarchyParent     #ReceiveDelivery
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #TransportationDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #VendOpenTrans
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceSettle
          Text                #@SYS3500
          ButtonDisplay       #Text & Image above
          NormalImage         #10793
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #PurchTable
          MenuItemName        #VendOpenTrans
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (TaxWithholdParameters_IN::checkTaxParameters())
            #    {
            #        TaxWithholdUncommitted_IN::deleteForDocumentHeader(purchTable.TableId, purchTable.RecId);
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WHSWorkTable
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LineOverviewWHS
          ButtonDisplay       #Text & Image left
          NormalImage         #3462
          ImageLocation       #EmbeddedResource
          DataSource          #PurchLine
          MenuItemName        #whsworktable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreate
          AutoDeclaration     #Yes
          ElementPosition     #378967701
          HierarchyParent     #ButtonLineInventory
          DataSource          #PurchLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DeliveryLine_OverDeliveryPct
          ElementPosition     #536870910
          HierarchyParent     #DeliveryLine
          DataSource          #PurchLine
          DataField           #OverDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DeliveryLine_UnderDeliveryPct
          ElementPosition     #805306365
          HierarchyParent     #DeliveryLine
          DataSource          #PurchLine
          DataField           #UnderDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Flow_Amount
          AutoDeclaration     #Yes
          ElementPosition     #1789569700
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #TransactionCurrencyAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Flow_SubstanceEntryQty
          AutoDeclaration     #Yes
          ElementPosition     #894784850
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #SubstanceEntryQty
          MinNoOfDecimals     #2
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #FSHSumLines_LinePercent
          ElementPosition     #1879048188
          HierarchyParent     #Grid1
          ShowZero            #No
          DataSource          #RetailSumLines
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #FSHSumLines_PurchPrice
          ElementPosition     #1610612730
          HierarchyParent     #Grid1
          DataSource          #RetailSumLines
          DataField           #PurchPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #FSHSumLines_PurchQty
          ElementPosition     #1073741820
          HierarchyParent     #Grid1
          DataSource          #RetailSumLines
          DataField           #PurchQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #g1099Fields_Tax1099Amount
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #g1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099Amount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #g1099Fields_Tax1099StateAmount
          ElementPosition     #1879048190
          HierarchyParent     #g1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099StateAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Group1_PackingUnitQty_HV
          ElementPosition     #1288490187
          HierarchyParent     #PackingMaterials_HV
          DataSource          #PurchLine
          DataField           #PackingUnitQty_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #HeaderDiscMarkup_DiscPercent
          ElementPosition     #1431655764
          HierarchyParent     #DiscountsHeader
          DataSource          #PurchTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemVolume
          ConfigurationKey    #WHSandTMS
          ElementPosition     #1610612733
          HierarchyParent     #PhysDims
          DataSource          #PurchLine
          DataMethod          #whsItemUnitVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemWeight
          ConfigurationKey    #WHSandTMS
          ElementPosition     #1073741822
          HierarchyParent     #PhysDims
          DataSource          #PurchLine
          DataMethod          #whsItemGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Line1099Fields_Tax1099Amount
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Line1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099Amount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Line1099Fields_Tax1099StateAmount
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Line1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099StateAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LineDisc
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LineInventoryForSubcontracts_RemainInven
          ElementPosition     #2080374782
          HierarchyParent     #LineInventoryForSubcontracts
          DataSource          #PurchLine
          DataField           #RemainInventFinancial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LinePercent
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #Disc
          ShowZero            #No
          Label               #@SYS333047
          DataSource          #PurchLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadGrossWeight
          ElementPosition     #1894838505
          HierarchyParent     #GridLoads
          Label               #@SYS53799
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadNetWeight
          ElementPosition     #2021161072
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadNetWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadVolume
          ElementPosition     #631612835
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadWeight
          ElementPosition     #505290268
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MultiLnDisc
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #MultiLnDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MultiLnPercent
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1789569705
          HierarchyParent     #Disc
          ShowZero            #No
          Label               #@SYS22555
          DataSource          #PurchLine
          DataField           #MultiLnPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PDSAdvancedPriceInfo_CalculatedLineAmount
          ElementPosition     #1638869097
          HierarchyParent     #LineSpec
          DataSource          #PDSAdvancedPriceInfo
          DataField           #CalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PDSAdvancedPriceInfo_CalculatedUnitPrice
          ElementPosition     #1299792732
          HierarchyParent     #LineSpec
          DataSource          #PDSAdvancedPriceInfo
          DataField           #CalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_CalculatedLineAmount
          ElementPosition     #1717986916
          HierarchyParent     #Potency
          DataSource          #PDSAdvancedPriceInfo
          DataField           #CalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_CalculatedUnitPrice
          ElementPosition     #1288490187
          HierarchyParent     #Potency
          DataSource          #PDSAdvancedPriceInfo
          DataField           #CalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ProjectCostPrice_LineAmount
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #ProjectCostPrice
          DataSource          #PurchLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ProjectCostPrice_PurchPrice
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #ProjectCostPrice
          DataSource          #PurchLine
          DataField           #PurchPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ProjectCostPrice_PurchQty
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #ProjectCostPrice
          DataSource          #PurchLine
          DataField           #PurchQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PSAPwpPercent
          AutoDeclaration     #Yes
          Visible             #No
          AllowEdit           #No
          ConfigurationKey    #PSAPwp
          ElementPosition     #2147479550
          HierarchyParent     #LineSpec
          Label               #@PSA11212
          DataSource          #PurchLine
          DataMethod          #psaPwpPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_AssessableValue_IN
          ElementPosition     #2146684926
          HierarchyParent     #LineSpec
          DataSource          #PurchLine_IN
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_ConvertFactorKGA_HV
          ElementPosition     #1789569705
          HierarchyParent     #LineInventory
          DataSource          #PurchLine
          DataField           #ConvertFactorKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_CustomsMaxRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1879048189
          HierarchyParent     #Price
          DataSource          #PurchLine_IN
          DataField           #CustomsMaxRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_InventInvoiceNow
          Visible             #No
          ElementPosition     #1923787432
          HierarchyParent     #LineInventoryForSubcontracts
          DataSource          #PurchLine
          DataField           #InventInvoiceNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_LineAmountGrid
          AutoDeclaration     #Yes
          ElementPosition     #1582356370
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_LineDiscGrid
          AutoDeclaration     #Yes
          ElementPosition     #1356305460
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_LinePercentGrid
          AutoDeclaration     #Yes
          ElementPosition     #1469330915
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_MaximumRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1744830461
          HierarchyParent     #Price
          DataSource          #PurchLine_IN
          DataField           #MaximumRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_NonRecoverablePercent_IN
          ElementPosition     #1527099480
          HierarchyParent     #IndiaVAT
          DataSource          #PurchLine_IN
          DataField           #NonRecoverablePercent_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PdsCWInventReceivedNow
          ElementPosition     #2147459070
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #PdsCWInventReceivedNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PdsCWQty
          ElementPosition     #1073741822
          HierarchyParent     #QtyUnitLine
          DataSource          #PurchLine
          DataField           #PdsCWQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PriceUnit
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #Price
          DataSource          #PurchLine
          DataField           #PriceUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchDeviationQty_RU
          ElementPosition     #2090571558
          HierarchyParent     #LineSpec
          DataSource          #PurchLine_W
          DataField           #DeviationQty_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchMarkup
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Price
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #PurchMarkup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchPriceGrid
          AutoDeclaration     #Yes
          ElementPosition     #1243280005
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #PurchPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchPriceKGA_HV
          AutoDeclaration     #Yes
          ElementPosition     #1271536368
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #PurchPriceKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchQtyGrid
          AutoDeclaration     #Yes
          ElementPosition     #1017229095
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #PurchQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchReceivedNow
          ElementPosition     #2034458190
          HierarchyParent     #LineSpec
          ShowZero            #No
          DataSource          #PurchLine
          DataField           #PurchReceivedNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_PurchReceiveNowAI_HV
          ElementPosition     #2062514874
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #PurchReceiveNowAI_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_QtyKGA_HV
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #QtyKGA_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_Remainder
          Visible             #No
          ElementPosition     #1767200083
          HierarchyParent     #LineInventoryForSubcontracts
          DataSource          #PurchLine
          DataField           #Remainder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PurchLine_TaxWithholdBaseCur_TH
          ElementPosition     #1695381825
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #TaxWithholdBaseCur_TH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #RBOPackagePurch_Qty
          ElementPosition     #1073741823
          HierarchyParent     #PackageGrid
          DataSource          #RetailPackagePurch
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #RBOPackagePurch_QtyReceived
          ElementPosition     #1431655764
          HierarchyParent     #PackageGrid
          DataSource          #RetailPackagePurch
          DataField           #QtyReceived
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #RealEdit
          ElementPosition     #1610612734
          HierarchyParent     #LineInventoryForSubcontracts
          DataSource          #PurchLine
          DataField           #QtyOrdered
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ReductionEntryAmount
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          HelpText            #@SYS4006148
          ConfigurationKey    #Asset
          ElementPosition     #1610612733
          HierarchyParent     #ReductionEntry_JP
          DataSource          #PurchLine
          DataMethod          #reductionEntryAmount_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #PurchLine_LedgerDimension
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PostingLine
          DataSource          #PurchLine
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerDefaultAccountControllerLine.jumpRef();
            #}
            #
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    ledgerDefaultAccountControllerLine.loadAutoCompleteData(_e);
            #    super(_e);
            #}
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #    ledgerDefaultAccountControllerLine.loadSegments();
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #    ledgerDefaultAccountControllerLine.segmentValueChanged(_e);
            #}
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = ledgerDefaultAccountControllerLine.validate() && isValid;
            #
            #    return isValid;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LinePackingMaterialsSeparator
          ElementPosition     #2085237740
          HierarchyParent     #ButtonLineInventory
          Text                #@HVP405
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LinePurchLineSplit
          CountryRegionCodes  #PL
          ElementPosition     #725769933
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS4000283
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsAccountingSeparator
          ElementPosition     #252645134
          HierarchyParent     #LineStripFinancials
          Text                #@SYS314071
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsBudgetSeparator
          ElementPosition     #505290268
          HierarchyParent     #LineStripFinancials
          Text                #@SYS80981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparator
          ElementPosition     #1010580536
          HierarchyParent     #LineStripFinancials
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparatorSMB
          ElementPosition     #536870910
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparator
          ElementPosition     #1263225670
          HierarchyParent     #LineStripFinancials
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparatorSMB
          ElementPosition     #1073741822
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripGeneralRelatedInfoSeparator
          ElementPosition     #1768515938
          HierarchyParent     #LineStripFinancials
          Text                #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryInterCompanySeparator
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1389548237
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS316397
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparator
          ElementPosition     #505290268
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparator
          ElementPosition     #252645134
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryRegulatorySeparator
          ElementPosition     #2032145644
          HierarchyParent     #ButtonLineInventory
          Text                #@PDS1378
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryTraceSeparator
          ElementPosition     #1894838505
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS26038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparator
          ElementPosition     #884257969
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53654
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparatorSMB
          ElementPosition     #858993458
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS53654
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductProductModelSeparator
          ElementPosition     #306783376
          HierarchyParent     #LineStripProduct
          Text                #@SYS316395
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductQualitySeparator
          AutoDeclaration     #Yes
          ElementPosition     #345131298
          HierarchyParent     #LineStripProduct
          Text                #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductRequirementsSeparator
          ElementPosition     #1468006396
          HierarchyParent     #LineStripProduct
          Text                #@SYS118437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineAttachmentsSeparator
          ElementPosition     #1163220305
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS316600
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineBOMSeparator
          ElementPosition     #805306365
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS69965
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineCalculateSeparator
          ElementPosition     #984263335
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineCopySeparator
          ElementPosition     #447392425
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineCopySeparatorSMB
          ElementPosition     #429496728
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineDisplaySeparator
          CountryRegionCodes  #IN
          ElementPosition     #1923787427
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripPurchLineNewSeparator
          ElementPosition     #178956970
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripRetailPackagePurchQuick
          ElementPosition     #2087831318
          HierarchyParent     #LineStripPurchLine
          Text                #@RET3014
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripRetailPackagePurchQuickSMB
          ElementPosition     #1717986912
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@RET3014
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateAgreementSeparator
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1533916890
          HierarchyParent     #LineStripUpdate
          Text                #@SYS190134
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateLineNumberSeparator
          ElementPosition     #306783378
          HierarchyParent     #LineStripUpdate
          Text                #@SYS40505
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparator
          ElementPosition     #1073741823
          HierarchyParent     #LineStripUpdate
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateUpdateSeparator
          ElementPosition     #613566756
          HierarchyParent     #LineStripUpdate
          Text                #@SYS71207
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateUpdateSeparatorSMB
          ElementPosition     #715827882
          HierarchyParent     #LineStripUpdateSMB
          Text                #@SYS71207
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #ViewStrip
          CountryRegionCodes  #IN
          ElementPosition     #1386916516
          HierarchyParent     #LineStripPurchLine
          Text                #@SYS316707
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #ViewStripSMB
          CountryRegionCodes  #IN
          ElementPosition     #1288490184
          HierarchyParent     #LineStripPurchLineSMB
          Text                #@SYS316707
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #txtAssetQualifier
          ElementPosition     #858993458
          HierarchyParent     #grpAssetQualifier
          Text                #@SYS136020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #txtAssetQualifierQuestion
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #grpAssetQualifier
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ActiveIngredientUnit_HV
          ElementPosition     #1670265058
          HierarchyParent     #LineInventory
          DataSource          #PurchLine
          DataMethod          #ActiveIngredientUnit_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AdministrationGroup_ItemBuyerGroupId
          ElementPosition     #536870910
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          DataField           #ItemBuyerGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AdministrationGroup_LanguageId
          ElementPosition     #1342177275
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          DataField           #LanguageId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AdministrationGroup_PurchPoolId
          ElementPosition     #1073741820
          HierarchyParent     #AdministrationGroup
          DataSource          #PurchTable
          DataField           #PurchPoolId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerAddress_HV
          ElementPosition     #1431655764
          HierarchyParent     #roupBuyerAddress_HV
          DataSource          #PurchTable
          DataMethod          #buyerAddress_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerCity_HV
          ElementPosition     #1670265058
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerCity_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerCountry_HV
          ElementPosition     #1193046470
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerCountry_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerCounty_HV
          ElementPosition     #1908874352
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerCounty_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerName_HV
          ElementPosition     #477218588
          HierarchyParent     #Buyer
          Label               #Buyer name
          DataSource          #PurchTable
          DataMethod          #buyerName_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerState_HV
          ElementPosition     #1431655764
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerState_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerStreet_HV
          ElementPosition     #715827882
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerStreet_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BuyerZipCode_HV
          ElementPosition     #954437176
          HierarchyParent     #Buyer
          DataSource          #PurchTable
          DataMethod          #buyerZipCode_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Carrier
          ElementPosition     #884257969
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierService
          ElementPosition     #1010580536
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierServiceCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CompanyAddress
          HelpText            #@SYS840
          ElementPosition     #1288490187
          HierarchyParent     #CompanyInformation
          Label               #@SYS36203
          DataSource          #PurchLine_IN
          DataMethod          #displayAddress_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Consignee_HV
          ElementPosition     #1073741822
          HierarchyParent     #GroupGeneralRight
          DataSource          #PurchTable
          DataField           #ConsigneeAccount_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeAddress_HV
          ElementPosition     #1431655764
          HierarchyParent     #GroupConsigneeAddress_HV
          DataSource          #PurchTable
          DataMethod          #ConsigneeAddress_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeCity_HV
          ElementPosition     #1670265058
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeCity_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeCountry_HV
          ElementPosition     #1193046470
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeCountry_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeCounty_HV
          ElementPosition     #1908874352
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeCounty_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeName_HV
          ElementPosition     #477218588
          HierarchyParent     #Consignee
          Label               #Consignee name
          DataSource          #PurchTable
          DataMethod          #ConsigneeName_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeState_HV
          ElementPosition     #1431655764
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeState_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeStreet_HV
          ElementPosition     #715827882
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeStreet_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ConsigneeZipCode_HV
          ElementPosition     #954437176
          HierarchyParent     #Consignee
          DataSource          #PurchTable
          DataMethod          #ConsigneeZipCode_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_Email
          ElementPosition     #1073741822
          HierarchyParent     #GroupEmail
          DataSource          #PurchTable
          DataField           #Email
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_URL
          ElementPosition     #1073741822
          HierarchyParent     #GroupURL
          DataSource          #PurchTable
          DataField           #URL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Currency_CurrencyCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Currency
          DataSource          #PurchTable
          DataField           #CurrencyCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsigneeAccount_RU
          ElementPosition     #1610612733
          HierarchyParent     #Delivery_RU
          DataSource          #PurchTable_RU
          DataField           #ConsigneeAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsignorAccount_RU
          ElementPosition     #1073741822
          HierarchyParent     #Delivery_RU
          DataSource          #PurchTable_RU
          DataField           #ConsignorAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvMode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Delivery
          DataSource          #PurchTable
          DataField           #DlvMode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvTerm
          ElementPosition     #1789569705
          HierarchyParent     #Delivery
          DataSource          #PurchTable
          DataField           #DlvTerm
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DistributionTemplateHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GroupDistributionTemplateHeader
          Label               #@sys30829
          DataSource          #PurchTable
          DataMethod          #templateName
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    AccountingDistributionTemplate::lookupTemplateName(distributionTemplateHeader);
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean                 ret;
            #    AccountingDistributionTemplate    distributionTemplate;
            #
            #    if (this.text())
            #    {
            #        distributionTemplate = AccountingDistributionTemplate::findByName(this.text());
            #
            #        if (distributionTemplate)
            #        {
            #            ret = super();
            #        }
            #        else
            #        {
            #            ret = checkFailed(strFmt("@SYS302773", this.text()));
            #            this.text('');
            #        }
            #    }
            #    else
            #    {
            #        ret = super();
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DistributionTemplateLine
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GroupDistributionTemplateLine
          Label               #@sys30829
          DataSource          #PurchLine
          DataMethod          #templateName
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    AccountingDistributionTemplate::lookupTemplateName(distributionTemplateLine);
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean                 ret;
            #    AccountingDistributionTemplate    distributionTemplate;
            #
            #    if (this.text())
            #    {
            #        distributionTemplate = AccountingDistributionTemplate::findByName(this.text());
            #
            #        if (distributionTemplate)
            #        {
            #            ret = super();
            #        }
            #        else
            #        {
            #            ret = checkFailed(strFmt("@SYS302773", this.text()));
            #            this.text('');
            #        }
            #    }
            #    else
            #    {
            #        ret = super();
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editAssetQualifier
          AutoDeclaration     #Yes
          Width               #100
          AlignControl        #No
          ElementPosition     #1717986916
          HierarchyParent     #grpAssetQualifier
          DisplayHeight       #1
          ShowLabel           #No
          DataSource          #PurchLine
          DataMethod          #editAssetQualifier
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    AssetRuleTmpAssetQualifierLookup::lookupAssetQualifier(this, assetQualifierList);
            #}
            #
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    purchLine.AssetGroup        = AssetRuleTmpAssetQualifierLookup::getAssetGroupFromQualifier(selectedAssetQualifier, assetQualifierList);
            #    purchLine.DefaultDimension  = purchLine.copyDimension(purchLine.DefaultDimension);
            #    purchLine.CreateFixedAsset  = NoYes::Yes;
            #    purchLine_ds.refresh();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editContactPersonName
          ElementPosition     #1431655764
          HierarchyParent     #Vendor
          LookupButton        #Always
          DataSource          #PurchTable
          DataMethod          #editContactPersonName
          PresenceDataSource  #PurchTable
          PresenceDataField   #ContactPersonId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    purchTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupVendContactPerson(purchTable_ContactPersonId,
            #                                           purchTable.OrderAccount,
            #                                           this,
            #                                           purchTable.ContactPersonId);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editReasonCode
          ElementPosition     #1073741822
          HierarchyParent     #Reasons
          Label               #@SYS114840
          DataSource          #PurchTable
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #/// <summary>
            #/// Adds the 'Go to Main Table Form' option to the context menu for reason code field.
            #/// </summary>
            #public void jumpRef()
            #{
            #    //Pass the account type of Vendor, so that the relevant form shows.
            #    ReasonTable::jumpRef(ReasonCodeAccountTypeAll::Vend, this.valueStr());
            #}
          ENDSOURCE
          SOURCE #lookup
            #/// <summary>
            #/// Constructs a lookup for the reason code field.
            #/// </summary>
            #/// <remarks>
            #/// The lookup shows the appropriate reason codes (if any) given the offset and main account selections.
            #/// </remarks>
            #public void lookup()
            #{
            #    //Calls the lookup method passing Vendor as both main and offset account types; boolean values of true
            #    //and false are passed for them respectively, since the offset account is not present in this journal.
            #    ReasonFormTable::reasonCodeLookup(this, LedgerJournalACType::Vend, LedgerJournalACType::Vend, true, false);
            #}
          ENDSOURCE
          SOURCE #validate
            #/// <summary>
            #/// Validate existence of vendor type reason code in ReasonTable.
            #/// </summary>
            #/// <returns>
            #/// A boolean indicating whether the reason code was valid for vendor type reason or not.
            #/// </returns>
            #public boolean validate()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    ret = ReasonTable::validateReasonCode(this.text(), LedgerJournalACType::Vend, true, LedgerJournalACType::Vend);
            #
            #    if (ret &&
            #        BrazilParameters::isEnabled() &&
            #        purchTable_BR.InvoiceRefRecId_BR &&
            #        !strLRTrim(this.text()))
            #    {
            #        ret = checkFailed(strFmt("@SYS26332", fieldPName(ReasonTable, Reason)));
            #    }
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editReasonComment
          ElementPosition     #1610612734
          HierarchyParent     #Reasons
          DataSource          #PurchTable
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    if (BrazilParameters::isEnabled() && purchTable_BR.InvoiceRefRecId_BR)
            #    {
            #        if (strLen(strLRTrim(this.text())) < 15)
            #        {
            #            ret = checkFailed("@SYS4002144");
            #        }
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EMSFlow_TransactionCurrency
          AutoDeclaration     #Yes
          ElementPosition     #1968526670
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #TransactionCurrency
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalEstablishment
          ElementPosition     #477218588
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataMethod          #FiscalEstablishment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalInformation_BR1_M_exceptionCode_BR
          AllowEdit           #No
          ElementPosition     #1533916890
          HierarchyParent     #FiscalInformation_BR
          DataSource          #PurchLine
          DataMethod          #exceptionCode_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalInformation_BR1_M_taxFiscalClassification_BR
          AllowEdit           #No
          ElementPosition     #1227133512
          HierarchyParent     #FiscalInformation_BR
          DataSource          #PurchLine
          DataMethod          #taxFiscalClassification_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalInformation_BR1_TaxServiceCode_BR
          ElementPosition     #1840700268
          HierarchyParent     #FiscalInformation_BR
          DataSource          #PurchLine
          DataField           #TaxServiceCode_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetBookId
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #AssetBookId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (fixedAssets_AssetId.valueStr())
            #    {
            #        AssetBook::lookupAssetBook(this, fixedAssets_AssetId.valueStr(), curext());
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetGroup
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #AssetGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FixedAssets_AssetId
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #FixedAssets
          DataSource          #PurchLine
          DataField           #AssetId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    AssetTable::lookupInvoiceAsset(this, curext());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Flow_DestinationProcessId
          AutoDeclaration     #Yes
          ElementPosition     #1252698790
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #DestinationProcessId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Flow_SourceProcessId
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #SourceProcessId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Flow_SubstanceId
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #SubstanceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FlowId
          AllowEdit           #No
          ElementPosition     #357913940
          HierarchyParent     #Flow
          DataSource          #EMSPurchOrderFlowRelation
          DataField           #FlowId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountryRegionName_RU
          ElementPosition     #1610612733
          HierarchyParent     #ForeignTrade_RU
          DataSource          #PurchLine_W
          DataField           #CountryRegionName_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_InvoiceGTDId_RU
          ElementPosition     #1073741822
          HierarchyParent     #ForeignTrade_RU
          DataSource          #PurchLine_W
          DataField           #InvoiceGTDId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTradeForSubContracts_CountyOrigDe
          ElementPosition     #2013265918
          HierarchyParent     #ForeignTradeForSubContracts
          DataSource          #PurchLine
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTradeForSubContracts_StatProcId
          ElementPosition     #1610612734
          HierarchyParent     #ForeignTradeForSubContracts
          DataSource          #PurchLine
          DataField           #StatProcId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTradeForSubContracts_TransactionC
          ElementPosition     #1073741823
          HierarchyParent     #ForeignTradeForSubContracts
          DataSource          #PurchLine
          DataField           #TransactionCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FSHSumLines_InventLocationId
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #Grid1
          DataSource          #RetailSumLines
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FSHSumLines_ItemId
          ElementPosition     #536870910
          HierarchyParent     #Grid1
          DataSource          #RetailSumLines
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FSHSumLines_PurchUnit
          ElementPosition     #1342177275
          HierarchyParent     #Grid1
          DataSource          #RetailSumLines
          DataField           #PurchUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #g1099Fields_Tax1099State
          ElementPosition     #1610612734
          HierarchyParent     #g1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099State
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group1_AddText_HV
          ElementPosition     #1717986916
          HierarchyParent     #Quality_HV
          DataSource          #PurchLine
          DataField           #AddText_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group1_PackingMaterDescr_HV
          ElementPosition     #1717986916
          HierarchyParent     #PackingMaterials_HV
          DataSource          #PurchLine
          DataField           #PackingMaterDescr_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group1_PackingUnit_HV
          ElementPosition     #858993458
          HierarchyParent     #PackingMaterials_HV
          DataSource          #PurchLine
          DataField           #PackingUnit_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group1_QualityText_HV
          ElementPosition     #1288490187
          HierarchyParent     #Quality_HV
          DataSource          #PurchLine
          DataField           #QualityText_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderDeliveryAddress_DeliveryName
          ElementPosition     #1073741822
          HierarchyParent     #GroupAddressLeft
          MultiLine           #Yes
          DataSource          #PurchTable
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Port
          ElementPosition     #1073741820
          HierarchyParent     #HeaderForeignTrade
          DataSource          #PurchTable
          DataField           #Port
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_StatProcId
          ElementPosition     #1342177275
          HierarchyParent     #HeaderForeignTrade
          DataSource          #PurchTable
          DataField           #StatProcId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_TransactionCode
          ElementPosition     #536870910
          HierarchyParent     #HeaderForeignTrade
          DataSource          #PurchTable
          DataField           #TransactionCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Transport
          ElementPosition     #805306365
          HierarchyParent     #HeaderForeignTrade
          DataSource          #PurchTable
          DataField           #Transport
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderPurchTable_ContactPersonId
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #VendorHeader
          DataSource          #PurchTable
          DataField           #ContactPersonId
          PresenceIndicatorAllowed    #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderTitle
          AutoDeclaration     #Yes
          Width               #Column width
          Skip                #Yes
          ElementPosition     #1073741822
          HierarchyParent     #HeaderInfo
          Text                #Purchase order
          ViewEditMode        #View
          Style               #TitleField
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderViewDeliveryCNPJCPFNUM_BR
          ElementPosition     #1073741822
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #PurchTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderViewDeliveryIENum_BR
          ElementPosition     #1610612733
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #PurchTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyAllowIndirectCreationOrig
          AutoDeclaration     #Yes
          AllowEdit           #No
          AlignControl        #No
          ElementPosition     #1610612733
          HierarchyParent     #HeaderInterCompany
          MultiLine           #Yes
          ShowLabel           #No
          DataSource          #PurchTable
          DataMethod          #interCompanyAllowIndirectCreationOrig
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyOriginDisplay
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderInterCompany
          DataSource          #PurchTable
          DataMethod          #interCompanyOriginDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyOriginDisplay1
          ElementPosition     #1288490187
          HierarchyParent     #IS_Other
          DataSource          #PurchTable
          DataMethod          #interCompanyOriginDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSInventStatusId
          ElementPosition     #1968526675
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #InventStatusId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSLicensePlateId
          ElementPosition     #1610612734
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #LicensePlateId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventLocationId
          ElementPosition     #1610612733
          HierarchyParent     #StorageDimensions
          DataSource          #PurchTable
          DataField           #InventLocationId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventSiteId
          ElementPosition     #1073741822
          HierarchyParent     #StorageDimensions
          DataSource          #PurchTable
          DataField           #InventSiteId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventBatchId
          ElementPosition     #536870910
          HierarchyParent     #TrackingDimesions
          DataSource          #InventDim
          DataField           #inventBatchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventGtdId_RU
          ElementPosition     #1879048185
          HierarchyParent     #TrackingDimesions
          DataSource          #InventDim
          DataField           #InventGtdId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventLocationId
          ElementPosition     #1073741823
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventOwnerId_RU
          ElementPosition     #1610612730
          HierarchyParent     #TrackingDimesions
          DataSource          #InventDim
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventProfileId_RU
          ElementPosition     #1073741820
          HierarchyParent     #TrackingDimesions
          DataSource          #InventDim
          DataField           #InventProfileId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventSerialId
          ElementPosition     #805306365
          HierarchyParent     #TrackingDimesions
          DataSource          #InventDim
          DataField           #inventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSiteId
          ElementPosition     #715827882
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSLocationId
          ElementPosition     #1431655764
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #wMSLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSPalletId
          ElementPosition     #1789569705
          HierarchyParent     #StorageDimensionsLine
          DataSource          #InventDim
          DataField           #wMSPalletId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #IS_InventUnit
          ElementPosition     #1550960411
          HierarchyParent     #LineInventory
          DataSource          #PurchLine
          DataMethod          #InventUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #427105800
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Line1099Fields_Tax1099State
          ElementPosition     #1073741823
          HierarchyParent     #Line1099Fields
          DataSource          #PurchLine
          DataField           #Tax1099State
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineDeliveryAddress_Name
          ElementPosition     #1073741822
          HierarchyParent     #LineDeliveryAddress
          MultiLine           #Yes
          DataSource          #PurchLine
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineInventory_InventTransId
          ElementPosition     #1431655764
          HierarchyParent     #LineInventory
          DataSource          #PurchLine
          DataField           #InventTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxGroup
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #LineSalesTax
          DataSource          #PurchLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxItemGroup
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineSalesTax
          DataSource          #PurchLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #PurchLine
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #PurchLine
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadAccountNum
          ElementPosition     #1642193371
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadAccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadCarNumber
          ElementPosition     #1515870804
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadOrderNum
          ElementPosition     #1768515938
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadOrderNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Loads
          AutoDeclaration     #Yes
          ElementPosition     #2147462654
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataMethod          #whsGetLoads
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTractorNumber
          ElementPosition     #1263225670
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTractorNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTrailerNumber
          ElementPosition     #1389548237
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTrailerNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTypeId
          ElementPosition     #378967701
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressHeader_Address
          ElementPosition     #1431655764
          HierarchyParent     #GroupaddressMid
          DataSource          #LogisticsPostalAddressHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressLine_Address
          ElementPosition     #1431655764
          HierarchyParent     #GroupLineDeliveryAddressRef
          DataSource          #LogisticsPostalAddressLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRDropShip_MCRDropShipComment
          ElementPosition     #1717986916
          HierarchyParent     #MCRDropShip
          DataSource          #PurchLine
          DataField           #MCRDropShipComment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #packageName
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
          ElementPosition     #1789569705
          HierarchyParent     #PackageGrid
          DataSource          #RetailPackagePurch
          DataMethod          #packageName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_Payment
          ElementPosition     #429496728
          HierarchyParent     #Payment
          DataSource          #PurchTable
          DataField           #Payment
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymentSched
          ElementPosition     #1288490184
          HierarchyParent     #Payment
          DataSource          #PurchTable
          DataField           #PaymentSched
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymMode
          ElementPosition     #858993456
          HierarchyParent     #Payment
          DataSource          #PurchTable
          DataField           #PaymMode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProjectIdentification_ActivityNumber
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #ProjectIdentification
          DataSource          #PurchLine
          DataField           #ActivityNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProjectIdentification_ProjId
          ElementPosition     #613566756
          HierarchyParent     #ProjectIdentification
          DataSource          #PurchLine
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    RecId   projRecId, smmActivityParentLink;
            #    str     currentActivityNumber;
            #
            #    ret = super();
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(PSAPwp)))
            #    {
            #        if (ProjTable::setFieldPwpThresholdPercent(ProjTable::find(purchLine.ProjId)))
            #        {
            #            purchLine_IsPwp.visible(true);
            #            psaPwpPercent.visible(true);
            #        }
            #        else
            #        {
            #            purchLine_IsPwp.visible(false);
            #            psaPwpPercent.visible(false);
            #        }
            #    }
            #
            #    currentActivityNumber = projectIdentification_ActivityNumber.text();
            #    if (currentActivityNumber != '')
            #    {
            #        //validate activity is associated to Project
            #        projRecId = ProjTable::find(purchLine.ProjId).RecId;
            #        smmActivityParentLink = smmActivityParentLinkTable::find(currentActivityNumber, smmActivityParentType::Project, projRecId).RecId;
            #
            #        // Clear activity number if it's no longer a valid
            #        // combination with the new project ID
            #        if (smmActivityParentLink == 0)
            #        {
            #            purchLine.ActivityNumber = '';
            #            projectIdentification_ActivityNumber.update();
            #        }
            #    }
            #
            #    return ret;
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ProjectIdentification_ProjLinePropertyId
          ElementPosition     #1840700268
          HierarchyParent     #ProjectIdentification
          DataSource          #PurchLine
          DataField           #ProjLinePropertyId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    if (isConfigurationkeyEnabled(configurationKeyNum(Project3)))
            #    {
            #        element.setIsPwpField();
            #    }
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_ExternalItemId
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #GeneralReference
          DataSource          #PurchLine
          DataField           #ExternalItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_IN_TaxWithholdAcknowledgementNumber
          ElementPosition     #1533916890
          HierarchyParent     #GroupWithholdingTax
          DataSource          #PurchLine_IN
          DataField           #TaxWithholdAcknowledgementNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_InventRefId_HV
          ElementPosition     #1073741822
          HierarchyParent     #ItemReference_HV
          DataSource          #PurchLine
          DataField           #InventRefId_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_InventRefTransId_HV
          ElementPosition     #1610612733
          HierarchyParent     #ItemReference_HV
          DataSource          #PurchLine
          DataField           #InventRefTransId_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_IS_ProducerCode
          ElementPosition     #1491308087
          HierarchyParent     #LineInventory
          DataSource          #PurchLine
          DataField           #IS_ProducerCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #355921500
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_ItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1431655764
          HierarchyParent     #OrderLine
          DataSource          #PurchLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_Name
          Width               #Column width
          ElementPosition     #1789569705
          HierarchyParent     #OrderLine
          MultiLine           #Yes
          DataSource          #PurchLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_PDSCalculationId
          ElementPosition     #858993458
          HierarchyParent     #Potency
          DataSource          #PurchLine
          DataField           #PDSCalculationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_PdsCWUnitId
          ElementPosition     #1610612734
          HierarchyParent     #QtyUnitLine
          DataSource          #PurchLine
          DataMethod          #pdsCWUnitId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_PostingProfile_RU
          ElementPosition     #1789569705
          HierarchyParent     #PostingLine
          DataSource          #PurchLine_W
          DataField           #PostingProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_PSARetainScheduleId
          AutoDeclaration     #Yes
          ElementPosition     #2147466238
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #PSARetainScheduleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_PurchUnitGrid
          AutoDeclaration     #Yes
          ElementPosition     #1130254550
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #PurchUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_ReqAttention
          ElementPosition     #1073741822
          HierarchyParent     #PurchLine_AttentionInfo
          DataSource          #PurchLine
          DataField           #ReqAttention
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_ServiceAddress
          ElementPosition     #1431655764
          HierarchyParent     #LineAddressDisplayForSubcontracts
          DataSource          #PurchLine
          DataField           #ServiceAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_TaxGroup
          ElementPosition     #783027300
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_TaxItemGroup
          ElementPosition     #854211600
          HierarchyParent     #LineSpec
          DataSource          #PurchLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchLine_VariantId
          ElementPosition     #640658700
          HierarchyParent     #LineSpec
          LabelAlignment      #Right
          DataSource          #PurchLine
          DataField           #VariantId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchReq_M_getPurchReqItemName
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #PurchReq
          Label               #@SYS4003944
          DataSource          #PurchLine
          DataMethod          #getPurchReqItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchReq_PurchReqId
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PurchReq
          DataSource          #PurchLine
          DataField           #PurchReqId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchRFQReplyLine_PurchRFQReplyRFQId
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #PurchRFQReplyLine
          DataSource          #PurchRFQReplyLinePurchLine
          DataField           #PurchRFQReplyRFQId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_CFPSId_BR
          ElementPosition     #1073741823
          HierarchyParent     #FiscalInformation
          DataSource          #PurchTable_BR
          DataField           #CFPSId_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_Comment1_HV
          ElementPosition     #1717986916
          HierarchyParent     #IS_Other
          DataSource          #PurchTable
          DataField           #Comment1_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_CompanyVATNumber_BG
          ElementPosition     #858993458
          HierarchyParent     #IS_Other
          DataSource          #PurchTable
          DataField           #CompanyVATNumber_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_CompanyVATNumber_BG1
          ElementPosition     #1431655764
          HierarchyParent     #IS_CompanyVATNumber
          DataSource          #PurchTable
          DataField           #CompanyVATNumber_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_ContactPersonId
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569705
          HierarchyParent     #Vendor
          DataSource          #PurchTable
          DataField           #ContactPersonId
          PresenceIndicatorAllowed    #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_ContractNum_SA
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Zakat_SA
          DataSource          #PurchTable
          DataField           #ContractNum_SA
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_CurrencyCodeGrid
          ElementPosition     #1227133512
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_DlvModeGrid
          ElementPosition     #1533916890
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_DlvTermGrid
          ElementPosition     #1687308579
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_InvoiceAccount
          ElementPosition     #1073741823
          HierarchyParent     #Vendor
          DataSource          #PurchTable
          DataField           #InvoiceAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_InvoiceAccountGrid
          ElementPosition     #613566756
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_IS_Notes_HV
          ElementPosition     #1431655764
          HierarchyParent     #IS_Notes
          DataSource          #PurchTable
          DataField           #IS_Notes_HV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_OrderAccount
          ElementPosition     #1610612733
          HierarchyParent     #Account
          DataSource          #PurchTable
          DataField           #OrderAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_OrderAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #Grid
          DataSource          #PurchTable
          DataField           #OrderAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_ProjId
          ElementPosition     #1431655764
          HierarchyParent     #References
          DataSource          #PurchTable
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_PurchId
          ElementPosition     #715827882
          HierarchyParent     #BaseInfo
          LookupButton        #Never
          DataSource          #PurchTable
          DataField           #PurchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_PurchIdAdvanced
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #Grid
          LookupButton        #Never
          DataSource          #PurchTable
          DataField           #PurchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_PurchName
          ElementPosition     #1073741823
          HierarchyParent     #BaseInfo
          DataSource          #PurchTable
          DataField           #PurchName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_ServiceAddress1
          ElementPosition     #1073741823
          HierarchyParent     #HeaderAddressDisplayForSubcontracts
          DataSource          #PurchTable
          DataField           #ServiceAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PurchTable_TaxGroup
          ElementPosition     #715827882
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #RAssetPurchTrans_assetId
          ElementPosition     #477218586
          HierarchyParent     #GridAsset
          DataSource          #RAssetPurchTrans
          DataField           #AssetId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    ;
            #    RAssetTable::lookupAccountNum(this, curext(), RAssetTransType::Acquisition);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #RBOPackagePurch_PackageId
          ElementPosition     #715827882
          HierarchyParent     #PackageGrid
          DataSource          #RetailPackagePurch
          DataField           #PackageId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ReductionEntryDocumentId
          AllowEdit           #No
          CountryRegionCodes  #JP
          HelpText            #@SYS4006142
          ConfigurationKey    #Asset
          ElementPosition     #1073741822
          HierarchyParent     #ReductionEntry_JP
          DataSource          #PurchLine
          DataMethod          #reductionEntryDocumentId_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Route
          ElementPosition     #757935402
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataMethod          #tmsDisplayRoute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_EnterpriseNumber
          ElementPosition     #1789569705
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #EnterpriseNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_TaxPeriodPaymentCode_PL
          ElementPosition     #477218588
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #TaxPeriodPaymentCode_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_VATNumber_BG
          ElementPosition     #1252698793
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #VATNumber_BG
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ServiceCodeTable_IN_ServiceAccountingCode
          ElementPosition     #1312351117
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ServiceCodeTable_IN_ServiceAccountingCode1
          Visible             #No
          ElementPosition     #1431655764
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ServiceCodeTable_IN_ServiceAccountingCode11
          Visible             #No
          ElementPosition     #1193046470
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #status_DocumentStatus
          ElementPosition     #805306365
          HierarchyParent     #status
          DataSource          #PurchTable
          DataMethod          #displayDocumentStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSPurchTable_CarrierCode
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #TMSTransportation
          DataSource          #TMSPurchTable
          DataField           #CarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSPurchTable_CarrierGroupCode
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #TMSTransportation
          DataSource          #TMSPurchTable
          DataField           #CarrierGroupCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsPurchTable.RecId == 0)
            #    {
            #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSPurchTable_CarrierServiceCode
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #TMSTransportation
          DataSource          #TMSPurchTable
          DataField           #CarrierServiceCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    TMSCarrierService::lookupCarrierServiceCode(this, tmsPurchTable.CarrierCode);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSPurchTable_ModeCode
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #TMSTransportation
          DataSource          #TMSPurchTable
          DataField           #ModeCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSPurchTable_TransportationTemplateId
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #TMSTransportation
          DataSource          #TMSPurchTable
          DataField           #TransportationTemplateId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsPurchTable.RecId == 0)
            #    {
            #        tmsPurchTable.initFromPurchTable(purchTable.PurchId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VATNum
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #SalesTax
          DataSource          #PurchTable
          DataField           #VATNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WHSLoadLine_LoadId
          ElementPosition     #252645134
          HierarchyParent     #GridLoads
          DataSource          #WHSLoadLine
          DataField           #LoadId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TREE
        PROPERTIES
          Name                #PackageTree
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #TreeGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #CreatedDateTime
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS69444
          ElementPosition     #1431655764
          HierarchyParent     #DateAndTimeLine
          DataSource          #PurchLine
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #Flow_FromDateTime
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #FromDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #Flow_ToDateTime
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #Flow
          DataSource          #EMSFlow
          DataField           #ToDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #PurchTable_CreatedDateTime
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS69424
          ElementPosition     #1431655764
          HierarchyParent     #DateAndTime
          DataSource          #PurchTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #lineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #142368600
          HierarchyParent     #LineSpec
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #PurchLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(purchLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #PurchLineBudgetCheckResult
          AutoDeclaration     #Yes
          PreviewPartRef      #BudgetCheckResultPreview
          HelpText            #@SYS128633
          ConfigurationKey    #LedgerAdv2BudgetCtrl
          ElementPosition     #213552900
          HierarchyParent     #LineSpec
          Label               #@SYS342081
          DataSource          #PurchLine
          DataMethod          #displayBudgetCheckResult
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #PurchTableBudgetCheckResult
          AutoDeclaration     #Yes
          PreviewPartRef      #BudgetCheckResultPreview
          HelpText            #@SYS304309
          ConfigurationKey    #LedgerAdv2BudgetCtrl
          ElementPosition     #1476395002
          HierarchyParent     #status
          Label               #@SYS304310
          DataSource          #PurchTable
          DataMethod          #displayBudgetCheckResult
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
        CONTROL #Environment
          PROPERTIES
            Control             #Environment
            EffectiveAccess     #Update
          ENDPROPERTIES
          
        ENDCONTROL
        
      CONTROL #GroupFinancialDimensionHeader
        PROPERTIES
          Control             #GroupFinancialDimensionHeader
          EffectiveAccess     #Update
        ENDPROPERTIES
        
      ENDCONTROL
      
    CONTROL #GroupFinancialDimensionLine
      PROPERTIES
        Control             #GroupFinancialDimensionLine
        EffectiveAccess     #Update
      ENDPROPERTIES
      
    ENDCONTROL
    
ENDFORM

TABLES #Tables
  TABLE #BudgetSource
    PROPERTIES
      Table               #BudgetSource
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Read
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #Environment
      PROPERTIES
        Control             #Environment
        EffectiveAccess     #Update
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #GroupFinancialDimensionHeader
    PROPERTIES
      Control             #GroupFinancialDimensionHeader
      EffectiveAccess     #Update
    ENDPROPERTIES
    
  ENDCONTROL
  
CONTROL #GroupFinancialDimensionLine
  PROPERTIES
    Control             #GroupFinancialDimensionLine
    EffectiveAccess     #Update
  ENDPROPERTIES
  
ENDCONTROL

ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #Environment
      PROPERTIES
        Control             #Environment
        EffectiveAccess     #Update
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #GroupFinancialDimensionHeader
    PROPERTIES
      Control             #GroupFinancialDimensionHeader
      EffectiveAccess     #Update
    ENDPROPERTIES
    
  ENDCONTROL
  
CONTROL #GroupFinancialDimensionLine
  PROPERTIES
    Control             #GroupFinancialDimensionLine
    EffectiveAccess     #Update
  ENDPROPERTIES
  
ENDCONTROL

ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #PurchCreateOrder
  PROPERTIES
    Form                #PurchCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #Environment
      PROPERTIES
        Control             #Environment
        EffectiveAccess     #Update
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #GroupFinancialDimensionHeader
    PROPERTIES
      Control             #GroupFinancialDimensionHeader
      EffectiveAccess     #Update
    ENDPROPERTIES
    
  ENDCONTROL
  
CONTROL #GroupFinancialDimensionLine
  PROPERTIES
    Control             #GroupFinancialDimensionLine
    EffectiveAccess     #Update
  ENDPROPERTIES
  
ENDCONTROL

ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #PurchCreateOrder
  PROPERTIES
    Form                #PurchCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: CLS

; Microsoft Dynamics AX Class: PurchaseOrderQuery unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #PurchaseOrderQuery
    PROPERTIES
      Name                #PurchaseOrderQuery
      Extends             #RunBaseBatch
      Origin              #{DF6F5473-6B55-479B-BF14-FA09BF8DD7B3}
    ENDPROPERTIES
    
    METHODS
      SOURCE #deleteFinalazeRecordFromPurchParmTable
        #private void deleteFinalazeRecordFromPurchParmTable()
        #{
        #    boolean isExist = false;
        #
        #    try
        #    {
        #         select firstOnly purchParmTable
        #            where purchParmTable.PurchId == _purchId
        #                  && PurchParmTable.dataAreaId == _areaId;
        #        if(purchParmTable)
        #        {
        #            isExist = true;
        #        }
        #        else
        #        {
        #            info(strFmt("Record with Purchase order number(%1) in table PurchParmTable doesn't exist.",_purchId));
        #        }
        #
        #        if(isExist)
        #        {
        #
        #        ttsBegin;
        #
        #        while select forUpdate purchParmTable
        #            where purchParmTable.PurchId == _purchId
        #                && purchParmTable.dataAreaId == _areaId
        #            {
        #                purchParmTable.delete();
        #            }
        #
        #        ttsCommit;
        #        }
        #        else
        #        {
        #            info("Item was delete");
        #        }
        #    }
        #    catch (Exception::Error)
        #    {
        #        info(strFmt("Nothing"));
        #    }
        #}
      ENDSOURCE
      SOURCE #canGoBatch
        #public boolean canGoBatch()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #public class PurchaseOrderQuery extends RunBaseBatch
        #{
        #    UserId                  inventTransId;
        #    NoYesId                 header,line;
        #
        #    SysQueryRun             queryrRun;
        #
        #    DialogField             dlgHeader,dlgLine,dlgInventTransId;
        #
        #    PurchLine               _purchLine;
        #    PurchTable              _purchTable;
        #
        #    PurchId                 _purchId;
        #    DataAreaId              _areaId;
        #
        #    PurchParmTable purchParmTable;
        #
        #    #define.CurrentVersion(1)
        #    #define.Version1(1)
        #    #localmacro.CurrentList
        #        inventTransId,
        #        header,
        #        line
        #
        #    #endmacro
        #}
        #
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog = super();
        #    str strTitle = "Purchase Order";
        #
        #    ;
        #
        #    dlgInventTransId   = dialog.addField(extendedTypeStr(InventTransId), "InventTrans Id");
        #
        #    dlgHeader   = dialog.addField(extendedTypeStr(NoYesId), "By Header");
        #    dlgLine     = dialog.addField(extendedTypeStr(NoYesId), "By Line");
        #
        #    dlgInventTransId.value(inventTransId);
        #    dlgHeader.value(header);
        #    dlgLine.value(line);
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #ExecuteByHeader
        #public void ExecuteByHeader()
        #{
        #    this.deleteFinalazeRecordFromPurchParmTable();
        #
        #    try
        #    {
        #        ttsBegin;
        #
        #        while select forUpdate _purchTable
        #            where _purchTable.dataAreaId == _areaId
        #                  && _purchTable.PurchId == _purchId
        #        if(_purchTable)
        #        {
        #            _purchLine.clear();
        #            _purchTable.InterCompanyOrigin = 0;
        #            _purchTable.InterCompanyCompanyId = "";
        #            _purchTable.InterCompanySalesId = "";
        #            _purchTable.InterCompanyOrder = 0;
        #            _purchTable.update();
        #        }
        #
        #        ttsCommit;
        #    }
        #    catch
        #    {
        #        throw error(strFmt("Error! The operation is unsuccessful!"));
        #    }
        #}
      ENDSOURCE
      SOURCE #ExecuteByLine
        #public void ExecuteByLine()
        #{
        #    this.deleteFinalazeRecordFromPurchParmTable();
        #
        #    try
        #    {
        #        ttsBegin;
        #
        #        while select firstOnly forUpdate _purchLine
        #            where _purchLine.dataAreaId == _areaId
        #                  && _purchLine.PurchId == _purchId
        #                  && _purchLine.InventTransId == inventTransId
        #        if(_purchLine)
        #        {
        #            _purchLine.InterCompanyOrigin = 0;
        #            _purchLine.InterCompanyInventTransId = "";
        #            _purchLine.update();
        #        }
        #
        #        ttsCommit;
        #
        #    }
        #    catch
        #    {
        #        throw error(strFmt("Error! The operation is unsuccessful!"));
        #    }
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean result;
        #
        #    result = super();
        #
        #    inventTransId   =   dlgInventTransId.value();
        #    header          =   dlgHeader.value();
        #    line            =   dlgLine.value();
        #
        #    return result;
        #}
      ENDSOURCE
      SOURCE #GetPurchaseId
        #public void GetPurchaseId()
        #{
        #    _areaId  = curext();
        #
        #    while select _purchLine
        #            where _purchLine.dataAreaId == _areaId
        #                  && _purchLine.InventTransId == inventTransId
        #        {
        #            _purchId = _purchLine.PurchId;
        #        }
        #}
      ENDSOURCE
      SOURCE #new
        #public void new()
        #{
        #    super();
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    this.GetPurchaseId();
        #
        #    return [#CurrentVersion,#CurrentList];
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    DialogButton diagBut;
        #    str strMessage = strFmt("Äre you sure to execute this query with purchase id : %1",_purchId);
        #    str strTitle = "Purchase Order";
        #
        #    ;
        #
        #    diagBut = Box::yesNoCancel(
        #        strMessage,
        #        DialogButton::No,
        #        strTitle);
        #
        #   if(diagBut == DialogButton::Yes)
        #    {
        #
        #        if(header && line)
        #        {
        #            info(strFmt("You can not use both ticks."));
        #        }
        #        else if(!header && !line)
        #        {
        #            info(strFmt("You have to choose one tick."));
        #        }
        #        else
        #        {
        #            if(header)
        #            {
        #                this.ExecuteByHeader();
        #            }
        #             if(line)
        #            {
        #                this.ExecuteByLine();
        #            }
        #
        #            info(strFmt("The operation was successful."));
        #        }
        #
        #    }
        #    else
        #    {
        #        info(strFmt("You cancelled the operation."));
        #    }
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    Version version = RunBase::getVersion(packedClass);
        #
        #    switch(version)
        #    {
        #        case #CurrentVersion:
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default:
        #            return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #construct
        #server static PurchaseOrderQuery construct()
        #{
        #
        #    return new PurchaseOrderQuery();
        #}
      ENDSOURCE
      SOURCE #main
        #public server static void main(Args args)
        #{
        #    PurchaseOrderQuery purchaseOrderQuery = PurchaseOrderQuery ::construct();
        #
        #    if(purchaseOrderQuery.prompt())
        #        purchaseOrderQuery.run();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: SalesOrderQuery unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #SalesOrderQuery
    PROPERTIES
      Name                #SalesOrderQuery
      Extends             #RunBaseBatch
      Origin              #{41B344FA-EAAB-43B6-9C3C-449CC6C375D3}
    ENDPROPERTIES
    
    METHODS
      SOURCE #canGoBatch
        #public boolean canGoBatch()
        #{
        #    return true;
        #}
      ENDSOURCE
      SOURCE #classDeclaration
        #public class SalesOrderQuery extends RunBaseBatch
        #{
        #    UserId                  inventTransId;
        #    NoYesId                 header,line;
        #
        #    SysQueryRun             queryrRun;
        #
        #    DialogField             dlgHeader,dlgLine,dlgInventTransId;
        #
        #
        #    SalesLine               salesLine;
        #    SalesTable              salesTable;
        #
        #    SalesId                 _salesId;
        #    DataAreaId              areaId;
        #
        #
        #    #define.CurrentVersion(1)
        #    #define.Version1(1)
        #    #localmacro.CurrentList
        #        inventTransId,
        #        header,
        #        line
        #
        #    #endmacro
        #}
      ENDSOURCE
      SOURCE #dialog
        #public Object dialog()
        #{
        #    DialogRunbase dialog = super();
        #
        #    ;
        #    dlgInventTransId   = dialog.addField(extendedTypeStr(InventTransId), "InventTrans Id");
        #
        #    dlgHeader   = dialog.addField(extendedTypeStr(NoYesId), "By Header");
        #    dlgLine     = dialog.addField(extendedTypeStr(NoYesId), "By Line");
        #
        #    dlgInventTransId.value(inventTransId);
        #    dlgHeader.value(header);
        #    dlgLine.value(line);
        #
        #    return dialog;
        #}
      ENDSOURCE
      SOURCE #ExecuteByHeader
        #public void ExecuteByHeader()
        #{
        #    try
        #    {
        #        ttsBegin;
        #
        #        while select forUpdate salesTable
        #            where salesTable.dataAreaId == areaId
        #                  && salesTable.SalesId == _salesId
        #        if(salesTable)
        #        {
        #
        #            salesTable.InterCompanyOrigin = 0;
        #            salesTable.InterCompanyCompanyId = "";
        #            salesTable.InterCompanyPurchId = "";
        #            salesTable.InterCompanyOrder = 0;
        #            salesTable.update();
        #        }
        #
        #        ttsCommit;
        #    }
        #    catch
        #    {
        #        throw error(strFmt("Error! The operation is unsuccessful!"));
        #    }
        #}
      ENDSOURCE
      SOURCE #ExecuteByLine
        #public void ExecuteByLine()
        #{
        #    try
        #    {
        #        ttsBegin;
        #
        #        while select forUpdate salesLine
        #            where salesLine.dataAreaId == areaId
        #                  && salesLine.SalesId == _salesId
        #                  && salesLine.InventTransId == inventTransId
        #        if(salesLine)
        #        {
        #            salesLine.InterCompanyOrigin = 0;
        #            salesLine.InterCompanyInventTransId = "";
        #            salesLine.update();
        #
        #        }
        #
        #        ttsCommit;
        #
        #    }
        #    catch
        #    {
        #        throw error(strFmt("Error! The operation is unsuccessful!"));
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #getFromDialog
        #public boolean getFromDialog()
        #{
        #    boolean result;
        #
        #    result = super();
        #
        #    inventTransId   =   dlgInventTransId.value();
        #    header          =   dlgHeader.value();
        #    line            =   dlgLine.value();
        #
        #    return result;
        #}
      ENDSOURCE
      SOURCE #GetSalesId
        #public void GetSalesId()
        #{
        #    areaId  = curext();
        #
        #    while select salesLine
        #            where salesLine.dataAreaId == areaId
        #                  && salesLine.InventTransId == inventTransId
        #        {
        #            _salesId = salesLine.SalesId;
        #        }
        #}
      ENDSOURCE
      SOURCE #new
        #public void new()
        #{
        #    super();
        #}
      ENDSOURCE
      SOURCE #pack
        #public container pack()
        #{
        #    this.GetSalesId();
        #
        #    return [#CurrentVersion,#CurrentList];
        #}
      ENDSOURCE
      SOURCE #run
        #public void run()
        #{
        #    DialogButton diagBut;
        #    str strMessage = strFmt("Are you sure to execute this query with sales id : %1 ",_salesId);
        #    str strTitle = "Sales Order";
        #
        #    ;
        #
        #    diagBut = Box::yesNoCancel(
        #        strMessage,
        #        DialogButton::No,
        #        strTitle);
        #
        #    if(diagBut == DialogButton::Yes)
        #    {
        #
        #
        #        if(!inventTransId)
        #        {
        #         throw error(strFmt("Sales order field is required."));
        #        }
        #        if(header && line)
        #        {
        #            info(strFmt("You can not use both ticks."));
        #        }
        #        else
        #        {
        #            if(header)
        #            {
        #                this.ExecuteByHeader();
        #            }
        #             if(line)
        #            {
        #                this.ExecuteByLine();
        #            }
        #
        #            info(strFmt("The operation was successful."));
        #        }
        #
        #    }
        #    else
        #    {
        #        info(strFmt("You cancelled the operation."));
        #    }
        #
        #
        #}
      ENDSOURCE
      SOURCE #unpack
        #public boolean unpack(container packedClass)
        #{
        #    Version version = RunBase::getVersion(packedClass);
        #
        #    switch(version)
        #    {
        #        case #CurrentVersion:
        #            [version,#CurrentList] = packedClass;
        #            break;
        #        default:
        #            return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #construct
        #server static SalesOrderQuery construct()
        #{
        #    return new SalesOrderQuery ();
        #}
      ENDSOURCE
      SOURCE #main
        #public server static void main(Args args)
        #{
        #    SalesOrderQuery salesOrderQuery = SalesOrderQuery ::construct();
        #
        #    args.record();
        #
        #    if(salesOrderQuery.prompt())
        #        salesOrderQuery.run();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: FTM

; Microsoft Dynamics AX MENUITEM : SalesOrderQuery unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #SalesOrderQuery
    Type: 1
    PROPERTIES
      Name                #SalesOrderQuery
      Label               #Sales order Query
      ObjectType          #Class
      Object              #SalesOrderQuery
      Origin              #{ABC1D827-5A20-426A-8FFC-BA7665739925}
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : PurchOrderQuery unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #PurchOrderQuery
    Type: 1
    PROPERTIES
      Name                #PurchOrderQuery
      Label               #Purch order query
      ObjectType          #Class
      Object              #PurchaseOrderQuery
      Origin              #{495A06FB-7433-4C68-B6A0-D8E615DA948E}
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: PRN

; Microsoft Dynamics AX Project : HV_ExecuteQuery unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #HV_ExecuteQuery
  PRIVATE
  PROPERTIES
    Name                #HV_ExecuteQuery
    Origin              #{01C2D5FB-57C1-4D72-B2D3-28454CCE8E24}
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    BEGINNODE
      FILETYPE 0
      UTILTYPE 11
      UTILOBJECTID 0
      NODETYPE 201
      NAME #SalesTable
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 11
      UTILOBJECTID 0
      NODETYPE 201
      NAME #PurchTable
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 45
      UTILOBJECTID 1024700
      NODETYPE 329
      NAME #PurchaseOrderQuery
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 45
      UTILOBJECTID 1024701
      NODETYPE 329
      NAME #SalesOrderQuery
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 1
      UTILOBJECTID 0
      NODETYPE 296
      NAME #SalesOrderQuery
    ENDNODE
    BEGINNODE
      FILETYPE 0
      UTILTYPE 1
      UTILOBJECTID 0
      NODETYPE 296
      NAME #PurchOrderQuery
    ENDNODE
  ENDPROJECT
  

***Element: END
